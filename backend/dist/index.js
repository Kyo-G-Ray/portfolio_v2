var iP=Object.create;var qi=Object.defineProperty;var aP=Object.getOwnPropertyDescriptor;var cP=Object.getOwnPropertyNames;var dP=Object.getPrototypeOf,lP=Object.prototype.hasOwnProperty;var _=(e,t)=>()=>(e&&(t=e(e=0)),t);var N=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gt=(e,t)=>{for(var r in t)qi(e,r,{get:t[r],enumerable:!0})},ry=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of cP(t))!lP.call(e,s)&&s!==r&&qi(e,s,{get:()=>t[s],enumerable:!(n=aP(t,s))||n.enumerable});return e};var T=(e,t,r)=>(r=e!=null?iP(dP(e)):{},ry(t||!e||!e.__esModule?qi(r,"default",{value:e,enumerable:!0}):r,e)),de=e=>ry(qi({},"__esModule",{value:!0}),e);var Pr=N(be=>{"use strict";be.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(be.HttpAuthLocation||(be.HttpAuthLocation={}));be.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(be.HttpApiKeyAuthLocation||(be.HttpApiKeyAuthLocation={}));be.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(be.EndpointURLScheme||(be.EndpointURLScheme={}));be.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(be.AlgorithmId||(be.AlgorithmId={}));var uP=e=>{let t=[];return e.sha256!==void 0&&t.push({algorithmId:()=>be.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&t.push({algorithmId:()=>be.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},mP=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},pP=e=>uP(e),fP=e=>mP(e);be.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(be.FieldPosition||(be.FieldPosition={}));var hP="__smithy_context";be.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(be.IniSectionType||(be.IniSectionType={}));be.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(be.RequestHandlerProtocol||(be.RequestHandlerProtocol={}));be.SMITHY_CONTEXT_KEY=hP;be.getDefaultClientConfiguration=pP;be.resolveDefaultRuntimeConfig=fP});var rt=N(Lu=>{"use strict";var ny=Pr(),gP=e=>e[ny.SMITHY_CONTEXT_KEY]||(e[ny.SMITHY_CONTEXT_KEY]={}),yP=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};Lu.getSmithyContext=gP;Lu.normalizeProvider=yP});function Gn(e){return sy.includes(e)}var Gs,sy,Hi=_(()=>{Gs="preferred",sy=["disabled","preferred","required"]});var oy,EP,iy=_(()=>{oy=T(rt());Hi();EP=e=>{let{accountIdEndpointMode:t}=e,r=(0,oy.normalizeProvider)(t??Gs);return Object.assign(e,{accountIdEndpointMode:async()=>{let n=await r();if(!Gn(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var ay,cy,dy,ly,SP,uy=_(()=>{Hi();ay="Invalid AccountIdEndpointMode value",cy=e=>{throw new Error(e)},dy="AWS_ACCOUNT_ID_ENDPOINT_MODE",ly="account_id_endpoint_mode",SP={environmentVariableSelector:e=>{let t=e[dy];return t&&!Gn(t)&&cy(ay),t},configFileSelector:e=>{let t=e[ly];return t&&!Gn(t)&&cy(ay),t},default:Gs}});var Bu={};gt(Bu,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>sy,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>ly,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>Gs,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>dy,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>SP,resolveAccountIdEndpointModeConfig:()=>EP,validateAccountIdEndpointMode:()=>Gn});var Uu=_(()=>{iy();Hi();uy()});var Ee=N(Dr=>{"use strict";var bP=Pr(),wP=e=>({setHttpHandler(t){e.httpHandler=t},httpHandler(){return e.httpHandler},updateHttpClientConfig(t,r){e.httpHandler?.updateHttpClientConfig(t,r)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),_P=e=>({httpHandler:e.httpHandler()}),$u=class{name;kind;values;constructor({name:t,kind:r=bP.FieldPosition.HEADER,values:n=[]}){this.name=t,this.kind=r,this.values=n}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(r=>r!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},Fu=class{entries={};encoding;constructor({fields:t=[],encoding:r="utf-8"}){t.forEach(this.setField.bind(this)),this.encoding=r}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(r=>r.kind===t)}},ju=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment}static clone(t){let r=new e({...t,headers:{...t.headers}});return r.query&&(r.query=xP(r.query)),r}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return e.clone(this)}};function xP(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var zu=class{statusCode;reason;headers;body;constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function TP(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Dr.Field=$u;Dr.Fields=Fu;Dr.HttpRequest=ju;Dr.HttpResponse=zu;Dr.getHttpHandlerExtensionConfiguration=wP;Dr.isValidHostname=TP;Dr.resolveHttpHandlerRuntimeConfig=_P});var py=N((tW,my)=>{function nr(e){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:e}),this.done=!1}nr.prototype.next=function(){if(this.done)return{done:!0};var e=this._next();return e.done&&(this.done=!0),e};typeof Symbol<"u"&&(nr.prototype[Symbol.iterator]=function(){return this});nr.of=function(){var e=arguments,t=e.length,r=0;return new nr(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};nr.empty=function(){var e=new nr(null);return e.done=!0,e};nr.is=function(e){return e instanceof nr?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};my.exports=nr});var qu=N((rW,yy)=>{var fy=typeof ArrayBuffer<"u",hy=typeof Symbol<"u";function gy(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEach: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(e)||fy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],s);return}if(typeof e.forEach=="function"){e.forEach(t);return}if(hy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,s),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)}gy.forEachWithNullKeys=function(e,t){var r,n,s,o,i;if(!e)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof t!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(e)||fy&&ArrayBuffer.isView(e)||typeof e=="string"||e.toString()==="[object Arguments]"){for(s=0,o=e.length;s<o;s++)t(e[s],null);return}if(e instanceof Set){e.forEach(function(a){t(a,null)});return}if(typeof e.forEach=="function"){e.forEach(t);return}if(hy&&Symbol.iterator in e&&typeof e.next!="function"&&(e=e[Symbol.iterator]()),typeof e.next=="function"){for(r=e,s=0;i=r.next(),i.done!==!0;)t(i.value,null),s++;return}for(n in e)e.hasOwnProperty(n)&&t(e[n],n)};yy.exports=gy});var Hu=N(Ft=>{var CP=Math.pow(2,8)-1,IP=Math.pow(2,16)-1,AP=Math.pow(2,32)-1,vP=Math.pow(2,7)-1,RP=Math.pow(2,15)-1,NP=Math.pow(2,31)-1;Ft.getPointerArray=function(e){var t=e-1;return t<=CP?Uint8Array:t<=IP?Uint16Array:t<=AP?Uint32Array:Float64Array};Ft.getSignedPointerArray=function(e){var t=e-1;return t<=vP?Int8Array:t<=RP?Int16Array:t<=NP?Int32Array:Float64Array};Ft.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var PP={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Ft.getMinimalRepresentation=function(e,t){var r=null,n=0,s,o,i,a,d;for(a=0,d=e.length;a<d;a++)i=t?t(e[a]):e[a],o=Ft.getNumberType(i),s=PP[o.name],s>n&&(n=s,r=o);return r};Ft.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};Ft.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var s=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)s.set(arguments[t],r),r+=arguments[t].length;return s};Ft.indices=function(e){for(var t=Ft.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var by=N(Ws=>{var Ey=qu(),Sy=Hu();function DP(e){return Array.isArray(e)||Sy.isTypedArray(e)}function Vu(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function OP(e){var t=Vu(e),r=typeof t=="number"?new Array(t):[],n=0;return Ey(e,function(s){r[n++]=s}),r}function kP(e){var t=Vu(e),r=typeof t=="number"?Sy.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],s=typeof t=="number"?new r(t):[],o=0;return Ey(e,function(i){n[o]=i,s[o]=o++}),[n,s]}Ws.isArrayLike=DP;Ws.guessLength=Vu;Ws.toArray=OP;Ws.toArrayWithIndices=kP});var _y=N((oW,wy)=>{var Gu=py(),MP=qu(),LP=Hu(),BP=by();function Me(e,t,r){if(arguments.length<2&&(r=e,e=null,t=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=LP.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof e=="function"?new e(r):new Array(r),this.V=typeof t=="function"?new t(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}Me.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};Me.prototype.splayOnTop=function(e){var t=this.head;if(this.head===e)return this;var r=this.backward[e],n=this.forward[e];return this.tail===e?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[t]=e,this.head=e,this.forward[e]=t,this};Me.prototype.set=function(e,t){var r=this.items[e];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=t;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[e]=r,this.K[r]=e,this.V[r]=t,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};Me.prototype.setpop=function(e,t){var r=null,n=null,s=this.items[e];return typeof s<"u"?(this.splayOnTop(s),r=this.V[s],this.V[s]=t,{evicted:!1,key:e,value:r}):(this.size<this.capacity?s=this.size++:(s=this.tail,this.tail=this.backward[s],r=this.V[s],n=this.K[s],delete this.items[this.K[s]]),this.items[e]=s,this.K[s]=e,this.V[s]=t,this.forward[s]=this.head,this.backward[this.head]=s,this.head=s,n?{evicted:!0,key:n,value:r}:null)};Me.prototype.has=function(e){return e in this.items};Me.prototype.get=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.splayOnTop(t),this.V[t]};Me.prototype.peek=function(e){var t=this.items[e];if(!(typeof t>"u"))return this.V[t]};Me.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.size,s=this.head,o=this.K,i=this.V,a=this.forward;r<n;)e.call(t,i[s],o[s],this),s=a[s],r++};Me.prototype.keys=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.forward;return new Gu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Me.prototype.values=function(){var e=0,t=this.size,r=this.head,n=this.V,s=this.forward;return new Gu(function(){if(e>=t)return{done:!0};var o=n[r];return e++,e<t&&(r=s[r]),{done:!1,value:o}})};Me.prototype.entries=function(){var e=0,t=this.size,r=this.head,n=this.K,s=this.V,o=this.forward;return new Gu(function(){if(e>=t)return{done:!0};var i=n[r],a=s[r];return e++,e<t&&(r=o[r]),{done:!1,value:[i,a]}})};typeof Symbol<"u"&&(Me.prototype[Symbol.iterator]=Me.prototype.entries);Me.prototype.inspect=function(){for(var e=new Map,t=this.entries(),r;r=t.next(),!r.done;)e.set(r.value[0],r.value[1]);return Object.defineProperty(e,"constructor",{value:Me,enumerable:!1}),e};typeof Symbol<"u"&&(Me.prototype[Symbol.for("nodejs.util.inspect.custom")]=Me.prototype.inspect);Me.from=function(e,t,r,n){if(arguments.length<2){if(n=BP.guessLength(e),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=t,t=null,r=null);var s=new Me(t,r,n);return MP(e,function(o,i){s.set(i,o)}),s};wy.exports=Me});var Iy=N((iW,Cy)=>{"use strict";var UP=Object.create,Ks=Object.defineProperty,$P=Object.getOwnPropertyDescriptor,FP=Object.getOwnPropertyNames,jP=Object.getPrototypeOf,zP=Object.prototype.hasOwnProperty,qP=(e,t)=>Ks(e,"name",{value:t,configurable:!0}),HP=(e,t)=>{for(var r in t)Ks(e,r,{get:t[r],enumerable:!0})},xy=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of FP(t))!zP.call(e,s)&&s!==r&&Ks(e,s,{get:()=>t[s],enumerable:!(n=$P(t,s))||n.enumerable});return e},VP=(e,t,r)=>(r=e!=null?UP(jP(e)):{},xy(t||!e||!e.__esModule?Ks(r,"default",{value:e,enumerable:!0}):r,e)),GP=e=>xy(Ks({},"__esModule",{value:!0}),e),Ty={};HP(Ty,{EndpointCache:()=>KP});Cy.exports=GP(Ty);var WP=VP(_y()),KP=class{static{qP(this,"EndpointCache")}cache;constructor(e){this.cache=new WP.default(e)}getEndpoint(e){let t=this.get(e);if(!t||t.length===0)return;let r=t.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(e){if(!this.has(e))return;let t=this.cache.get(e);if(!t)return;let r=Date.now(),n=t.filter(s=>r<s.Expires);if(n.length===0){this.delete(e);return}return n}set(e,t){let r=Date.now();this.cache.set(e,t.map(({Address:n,CachePeriodInMinutes:s})=>({Address:n,Expires:r+s*60*1e3})))}delete(e){this.cache.set(e,[])}has(e){if(!this.cache.has(e))return!1;let t=this.cache.peek(e);return t?t.length>0:!1}clear(){this.cache.clear()}}});var Ju=N(En=>{"use strict";var JP=Ee(),YP=Iy(),Ay=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],Wu="endpoint_discovery_enabled",vy=e=>["false","0"].indexOf(e)>=0,XP={environmentVariableSelector:e=>{for(let t=0;t<Ay.length;t++){let r=Ay[t];if(r in e){let n=e[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!vy(n)}}},configFileSelector:e=>{if(Wu in e){let t=e[Wu];if(t===void 0)throw Error(`Shared config entry ${Wu} can't be undefined, got "${t}"`);return!vy(t)}},default:void 0},QP=async(e,t,r)=>{let{accessKeyId:n}=await t.credentials(),{identifiers:s}=r;return JSON.stringify({...n&&{accessKeyId:n},...s&&{commandName:e,identifiers:Object.entries(s).sort().reduce((o,[i,a])=>({...o,[i]:a}),{})}})},sr={},Ry=async(e,t)=>new Promise((r,n)=>{let{endpointCache:s}=e,{cacheKey:o,commandName:i,identifiers:a}=t,d=s.get(o);if(d&&d.length===1&&d[0].Address==="")t.isDiscoveredEndpointRequired?(sr[o]||(sr[o]=[]),sr[o].push({resolve:r,reject:n})):r();else if(d&&d.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];s.set(o,l);let p=new t.endpointDiscoveryCommandCtor({Operation:i.slice(0,-7),Identifiers:a});p.resolveMiddleware(t.clientStack,e,t.options)(p).then(g=>{s.set(o,g.output.Endpoints),sr[o]&&(sr[o].forEach(({resolve:h})=>{h()}),delete sr[o]),r()}).catch(g=>{s.delete(o);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:g});sr[o]&&(sr[o].forEach(({reject:E})=>{E(h)}),delete sr[o]),t.isDiscoveredEndpointRequired?n(h):(s.set(o,l),r())})}}),Ku=(e,t)=>(r,n)=>async s=>{if(e.isCustomEndpoint){if(e.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(s)}let{endpointDiscoveryCommandCtor:o}=e,{isDiscoveredEndpointRequired:i,identifiers:a}=t,d=n.clientName,l=n.commandName,p=await e.endpointDiscoveryEnabled(),f=await QP(l,e,{identifiers:a});if(i){if(p===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${d} requires it. Please check your configurations.`);await Ry(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o})}else p&&Ry(e,{...t,commandName:l,cacheKey:f,endpointDiscoveryCommandCtor:o});let{request:g}=s;if(f&&JP.HttpRequest.isInstance(g)){let h=e.endpointCache.getEndpoint(f);h&&(g.hostname=h)}return r(s)},Vi={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},ZP=(e,t)=>({applyToStack:r=>{r.add(Ku(e,t),Vi)}}),e0=(e,t)=>({applyToStack:r=>{r.add(Ku(e,{...t,isDiscoveredEndpointRequired:!0}),Vi)}}),t0=(e,t)=>({applyToStack:r=>{r.add(Ku(e,{...t,isDiscoveredEndpointRequired:!1}),Vi)}}),r0=(e,{endpointDiscoveryCommandCtor:t})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:s}=e;return Object.assign(e,{endpointDiscoveryCommandCtor:t,endpointCache:new YP.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):s,isClientEndpointDiscoveryEnabled:n!==void 0})};En.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS=XP;En.endpointDiscoveryMiddlewareOptions=Vi;En.getEndpointDiscoveryOptionalPlugin=t0;En.getEndpointDiscoveryPlugin=ZP;En.getEndpointDiscoveryRequiredPlugin=e0;En.resolveEndpointDiscoveryConfig=r0});var Ys=N(Js=>{"use strict";var n0=Ee();function s0(e){return e}var Ny=e=>t=>async r=>{if(!n0.HttpRequest.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},Py={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},o0=e=>({applyToStack:t=>{t.add(Ny(e),Py)}});Js.getHostHeaderPlugin=o0;Js.hostHeaderMiddleware=Ny;Js.hostHeaderMiddlewareOptions=Py;Js.resolveHostHeaderConfig=s0});var Xs=N(Gi=>{"use strict";var Dy=()=>(e,t)=>async r=>{try{let n=await e(r),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:d,overrideOutputFilterSensitiveLog:l}=a,p=d??t.inputFilterSensitiveLog,f=l??t.outputFilterSensitiveLog,{$metadata:g,...h}=n.output;return i?.info?.({clientName:s,commandName:o,input:p(r.input),output:f(h),metadata:g}),n}catch(n){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=t,{overrideInputFilterSensitiveLog:d}=a,l=d??t.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:l(r.input),error:n,metadata:n.$metadata}),n}},Oy={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},i0=e=>({applyToStack:t=>{t.add(Dy(),Oy)}});Gi.getLoggerPlugin=i0;Gi.loggerMiddleware=Dy;Gi.loggerMiddlewareOptions=Oy});var ky=N(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.InvokeStore=void 0;var a0=require("async_hooks"),Yu=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";Yu||(globalThis.awslambda=globalThis.awslambda||{});var c0={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID")},Xu=class{static storage=new a0.AsyncLocalStorage;static PROTECTED_KEYS=c0;static run(t,r){return this.storage.run({...t},r)}static getContext(){return this.storage.getStore()}static get(t){return this.storage.getStore()?.[t]}static set(t,r){if(this.isProtectedKey(t))throw new Error("Cannot modify protected Lambda context field");let n=this.storage.getStore();n&&(n[t]=r)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(t){return t===this.PROTECTED_KEYS.REQUEST_ID||t===this.PROTECTED_KEYS.X_RAY_TRACE_ID}},Wi;!Yu&&globalThis.awslambda?.InvokeStore?Wi=globalThis.awslambda.InvokeStore:(Wi=Xu,!Yu&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=Wi));Ki.InvokeStore=Wi});var My=N(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.recursionDetectionMiddleware=void 0;var d0=ky(),l0=Ee(),Qu="X-Amzn-Trace-Id",u0="AWS_LAMBDA_FUNCTION_NAME",m0="_X_AMZN_TRACE_ID",p0=()=>e=>async t=>{let{request:r}=t;if(!l0.HttpRequest.isInstance(r))return e(t);let n=Object.keys(r.headers??{}).find(l=>l.toLowerCase()===Qu.toLowerCase())??Qu;if(r.headers.hasOwnProperty(n))return e(t);let s=process.env[u0],o=process.env[m0],a=d0.InvokeStore.getXRayTraceId()??o,d=l=>typeof l=="string"&&l.length>0;return d(s)&&d(a)&&(r.headers[Qu]=a),e({...t,request:r})};Ji.recursionDetectionMiddleware=p0});var Qs=N(Yi=>{"use strict";var Zu=My(),f0={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},h0=e=>({applyToStack:t=>{t.add(Zu.recursionDetectionMiddleware(),f0)}});Yi.getRecursionDetectionPlugin=h0;Object.keys(Zu).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Yi,e)&&Object.defineProperty(Yi,e,{enumerable:!0,get:function(){return Zu[e]}})})});var em,g0,Ly=_(()=>{em=T(Pr()),g0=e=>e[em.SMITHY_CONTEXT_KEY]||(e[em.SMITHY_CONTEXT_KEY]={})});var By,Uy=_(()=>{By=(e,t)=>{if(!t||t.length===0)return e;let r=[];for(let n of t)for(let s of e)s.schemeId.split("#")[1]===n&&r.push(s);for(let n of e)r.find(({schemeId:s})=>s===n.schemeId)||r.push(n);return r}});function y0(e){let t=new Map;for(let r of e)t.set(r.schemeId,r);return t}var $y,Zs,Xi=_(()=>{$y=T(rt());Uy();Zs=(e,t)=>(r,n)=>async s=>{let o=e.httpAuthSchemeProvider(await t.httpAuthSchemeParametersProvider(e,n,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=By(o,i),d=y0(e.httpAuthSchemes),l=(0,$y.getSmithyContext)(n),p=[];for(let f of a){let g=d.get(f.schemeId);if(!g){p.push(`HttpAuthScheme \`${f.schemeId}\` was not enabled for this service.`);continue}let h=g.identityProvider(await t.identityProviderConfigProvider(e));if(!h){p.push(`HttpAuthScheme \`${f.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:E={},signingProperties:C={}}=f.propertiesExtractor?.(e,n)||{};f.identityProperties=Object.assign(f.identityProperties||{},E),f.signingProperties=Object.assign(f.signingProperties||{},C),l.selectedHttpAuthScheme={httpAuthOption:f,identity:await h(f.identityProperties),signer:g.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(p.join(`
`));return r(s)}});var Fy,eo,jy=_(()=>{Xi();Fy={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},eo=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Zs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Fy)}})});var Or=N(Wn=>{"use strict";var E0=Ee(),zy=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(E0.HttpResponse.isInstance(o)){let{headers:d={}}=o,l=Object.entries(d);i.$metadata={httpStatusCode:o.statusCode,requestId:tm(/^x-[\w-]+-request-?id$/,l),extendedRequestId:tm(/^x-[\w-]+-id-2$/,l),cfId:tm(/^x-[\w-]+-cf-id$/,l)}}}catch{}}throw i}},tm=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1],qy=(e,t)=>(r,n)=>async s=>{let o=e,i=n.endpointV2?.url&&o.urlParser?async()=>o.urlParser(n.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await t(s.input,{...e,endpoint:i});return r({...s,request:a})},Hy={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Vy={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function S0(e,t,r){return{applyToStack:n=>{n.add(zy(e,r),Hy),n.add(qy(e,t),Vy)}}}Wn.deserializerMiddleware=zy;Wn.deserializerMiddlewareOption=Hy;Wn.getSerdePlugin=S0;Wn.serializerMiddleware=qy;Wn.serializerMiddlewareOption=Vy});var Gy,Wy,b0,Ky=_(()=>{Gy=T(Or());Xi();Wy={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:Gy.serializerMiddlewareOption.name},b0=(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Zs(e,{httpAuthSchemeParametersProvider:t,identityProviderConfigProvider:r}),Wy)}})});var Jy=_(()=>{Xi();jy();Ky()});var Yy,Xy,w0,_0,rm,nm=_(()=>{Yy=T(Ee()),Xy=T(rt()),w0=e=>t=>{throw t},_0=(e,t)=>{},rm=e=>(t,r)=>async n=>{if(!Yy.HttpRequest.isInstance(n.request))return t(n);let o=(0,Xy.getSmithyContext)(r).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:d}=o,l=await t({...n,request:await d.sign(n.request,a,i)}).catch((d.errorHandler||w0)(i));return(d.successHandler||_0)(l.response,i),l}});var Qy,to,Zy=_(()=>{nm();Qy={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},to=e=>({applyToStack:t=>{t.addRelativeTo(rm(e),Qy)}})});var eE=_(()=>{nm();Zy()});var kr,tE=_(()=>{kr=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t}});function rE(e,t,r,n,s){return async function*(i,a,...d){let l=a,p=i.startingToken??l[r],f=!0,g;for(;f;){if(l[r]=p,s&&(l[s]=l[s]??i.pageSize),i.client instanceof e)g=await x0(t,i.client,a,i.withCommand,...d);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield g;let h=p;p=T0(g,n),f=!!(p&&(!i.stopOnSameToken||p!==h))}return void 0}}var x0,T0,nE=_(()=>{x0=async(e,t,r,n=o=>o,...s)=>{let o=new e(r);return o=n(o)??o,await t.send(o,...s)};T0=(e,t)=>{let r=e,n=t.split(".");for(let s of n){if(!r||typeof r!="object")return;r=r[s]}return r}});var sm=N(sE=>{"use strict";var C0=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";sE.isArrayBuffer=C0});var Kn=N(im=>{"use strict";var I0=sm(),om=require("buffer"),A0=(e,t=0,r=e.byteLength-t)=>{if(!I0.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return om.Buffer.from(e,t,r)},v0=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?om.Buffer.from(e,t):om.Buffer.from(e)};im.fromArrayBuffer=A0;im.fromString=v0});var oE=N(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.fromBase64=void 0;var R0=Kn(),N0=/^[A-Za-z0-9+/]*={0,2}$/,P0=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!N0.exec(e))throw new TypeError("Invalid base64 string.");let t=(0,R0.fromString)(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};Qi.fromBase64=P0});var qe=N(Zi=>{"use strict";var iE=Kn(),aE=e=>{let t=iE.fromString(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)},D0=e=>typeof e=="string"?aE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),O0=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return iE.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};Zi.fromUtf8=aE;Zi.toUint8Array=D0;Zi.toUtf8=O0});var cE=N(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.toBase64=void 0;var k0=Kn(),M0=qe(),L0=e=>{let t;if(typeof e=="string"?t=(0,M0.fromUtf8)(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,k0.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("base64")};ea.toBase64=L0});var He=N(ro=>{"use strict";var dE=oE(),lE=cE();Object.keys(dE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ro,e)&&Object.defineProperty(ro,e,{enumerable:!0,get:function(){return dE[e]}})});Object.keys(lE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ro,e)&&Object.defineProperty(ro,e,{enumerable:!0,get:function(){return lE[e]}})})});var cm=N(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.ChecksumStream=void 0;var B0=He(),U0=require("stream"),am=class extends U0.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:t,checksum:r,source:n,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${n?.constructor?.name??n} in ChecksumStream.`);this.base64Encoder=o??B0.toBase64,this.expectedChecksum=t,this.checksum=r,this.checksumSourceLocation=s,this.source.pipe(this)}_read(t){}_write(t,r,n){try{this.checksum.update(t),this.push(t)}catch(s){return n(s)}return n()}async _final(t){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return t(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return t(r)}return this.push(null),t()}};ta.ChecksumStream=am});var Mr=N(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});Jn.isBlob=Jn.isReadableStream=void 0;var $0=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);Jn.isReadableStream=$0;var F0=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);Jn.isBlob=F0});var uE=N(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.ChecksumStream=void 0;var j0=typeof ReadableStream=="function"?ReadableStream:function(){},dm=class extends j0{};ra.ChecksumStream=dm});var mE=N(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.createChecksumStream=void 0;var z0=He(),q0=Mr(),H0=uE(),V0=({expectedChecksum:e,checksum:t,source:r,checksumSourceLocation:n,base64Encoder:s})=>{if(!(0,q0.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);let o=s??z0.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(d,l){t.update(d),l.enqueue(d)},async flush(d){let l=await t.digest(),p=o(l);if(e!==p){let f=new Error(`Checksum mismatch: expected "${e}" but received "${p}" in response header "${n}".`);d.error(f)}else d.terminate()}});r.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,H0.ChecksumStream.prototype),a};na.createChecksumStream=V0});var pE=N(lm=>{"use strict";Object.defineProperty(lm,"__esModule",{value:!0});lm.createChecksumStream=J0;var G0=Mr(),W0=cm(),K0=mE();function J0(e){return typeof ReadableStream=="function"&&(0,G0.isReadableStream)(e.source)?(0,K0.createChecksumStream)(e):new W0.ChecksumStream(e)}});var mm=N(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.ByteArrayCollector=void 0;var um=class{allocByteArray;byteLength=0;byteArrays=[];constructor(t){this.allocByteArray=t}push(t){this.byteArrays.push(t),this.byteLength+=t.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let t=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let s=this.byteArrays[n];t.set(s,r),r+=s.byteLength}return this.reset(),t}reset(){this.byteArrays=[],this.byteLength=0}};sa.ByteArrayCollector=um});var yE=N(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.createBufferedReadable=void 0;or.createBufferedReadableStream=fE;or.merge=hE;or.flush=oa;or.sizeOf=Yn;or.modeOf=gE;var Y0=mm();function fE(e,t,r){let n=e.getReader(),s=!1,o=0,i=["",new Y0.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,d=async l=>{let{value:p,done:f}=await n.read(),g=p;if(f){if(a!==-1){let h=oa(i,a);Yn(h)>0&&l.enqueue(h)}l.close()}else{let h=gE(g,!1);if(a!==h&&(a>=0&&l.enqueue(oa(i,a)),a=h),a===-1){l.enqueue(g);return}let E=Yn(g);o+=E;let C=Yn(i[a]);if(E>=t&&C===0)l.enqueue(g);else{let A=hE(i,a,g);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${t}, automatically buffering.`)),A>=t?l.enqueue(oa(i,a)):await d(l)}}};return new ReadableStream({pull:d})}or.createBufferedReadable=fE;function hE(e,t,r){switch(t){case 0:return e[0]+=r,Yn(e[0]);case 1:case 2:return e[t].push(r),Yn(e[t])}}function oa(e,t){switch(t){case 0:let r=e[0];return e[0]="",r;case 1:case 2:return e[t].flush()}throw new Error(`@smithy/util-stream - invalid index ${t} given to flush()`)}function Yn(e){return e?.byteLength??e?.length??0}function gE(e,t=!0){return t&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var SE=N(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.createBufferedReadable=Z0;var X0=require("node:stream"),EE=mm(),ir=yE(),Q0=Mr();function Z0(e,t,r){if((0,Q0.isReadableStream)(e))return(0,ir.createBufferedReadableStream)(e,t,r);let n=new X0.Readable({read(){}}),s=!1,o=0,i=["",new EE.ByteArrayCollector(d=>new Uint8Array(d)),new EE.ByteArrayCollector(d=>Buffer.from(new Uint8Array(d)))],a=-1;return e.on("data",d=>{let l=(0,ir.modeOf)(d,!0);if(a!==l&&(a>=0&&n.push((0,ir.flush)(i,a)),a=l),a===-1){n.push(d);return}let p=(0,ir.sizeOf)(d);o+=p;let f=(0,ir.sizeOf)(i[a]);if(p>=t&&f===0)n.push(d);else{let g=(0,ir.merge)(i,a,d);!s&&o>t*2&&(s=!0,r?.warn(`@smithy/util-stream - stream chunk size ${p} is below threshold of ${t}, automatically buffering.`)),g>=t&&n.push((0,ir.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let d=(0,ir.flush)(i,a);(0,ir.sizeOf)(d)>0&&n.push(d)}n.push(null)}),n}});var bE=N(ia=>{"use strict";Object.defineProperty(ia,"__esModule",{value:!0});ia.getAwsChunkedEncodingStream=void 0;var eD=require("stream"),tD=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,d=a?i(s,e):void 0,l=new eD.Readable({read:()=>{}});return e.on("data",p=>{let f=n(p)||0;l.push(`${f.toString(16)}\r
`),l.push(p),l.push(`\r
`)}),e.on("end",async()=>{if(l.push(`0\r
`),a){let p=r(await d);l.push(`${o}:${p}\r
`),l.push(`\r
`)}l.push(null)}),l};ia.getAwsChunkedEncodingStream=tD});var wE=N(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.headStream=rD;async function rD(e,t){let r=0,n=[],s=e.getReader(),o=!1;for(;!o;){let{done:d,value:l}=await s.read();if(l&&(n.push(l),r+=l?.byteLength??0),r>=t)break;o=d}s.releaseLock();let i=new Uint8Array(Math.min(t,r)),a=0;for(let d of n){if(d.byteLength>i.byteLength-a){i.set(d.subarray(0,i.byteLength-a),a);break}else i.set(d,a);a+=d.length}return i}});var _E=N(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.headStream=void 0;var nD=require("stream"),sD=wE(),oD=Mr(),iD=(e,t)=>(0,oD.isReadableStream)(e)?(0,sD.headStream)(e,t):new Promise((r,n)=>{let s=new hm;s.limit=t,e.pipe(s),e.on("error",o=>{s.end(),n(o)}),s.on("error",n),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));r(o)})});aa.headStream=iD;var hm=class extends nD.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(t,r,n){if(this.buffers.push(t),this.bytesBuffered+=t.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var ym=N(gm=>{"use strict";var xE=e=>encodeURIComponent(e).replace(/[!'()*]/g,aD),aD=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,cD=e=>e.split("/").map(xE).join("/");gm.escapeUri=xE;gm.escapeUriPath=cD});var Sm=N(TE=>{"use strict";var Em=ym();function dD(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=Em.escapeUri(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${Em.escapeUri(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Em.escapeUri(n)}`),t.push(s)}}return t.join("&")}TE.buildQueryString=dD});var Sn=N(no=>{"use strict";var vE=Ee(),RE=Sm(),bm=require("http"),wm=require("https"),NE=require("stream"),_m=require("http2"),lD=["ECONNRESET","EPIPE","ETIMEDOUT"],PE=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t},nt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e)},CE=1e3,uD=(e,t,r=0)=>{if(!r)return-1;let n=s=>{let o=nt.setTimeout(()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${r} ms.`),{name:"TimeoutError"}))},r-s),i=a=>{a?.connecting?a.on("connect",()=>{nt.clearTimeout(o)}):nt.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return r<2e3?(n(0),0):nt.setTimeout(n.bind(null,CE),CE)},mD=(e,t,r=0,n,s)=>r?nt.setTimeout(()=>{let o=`@smithy/node-http-handler - [${n?"ERROR":"WARN"}] a request has exceeded the configured ${r} ms requestTimeout.`;if(n){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),t(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},r):-1,pD=3e3,fD=(e,{keepAlive:t,keepAliveMsecs:r},n=pD)=>{if(t!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(t,r||0):e.on("socket",o=>{o.setKeepAlive(t,r||0)})};return n===0?(s(),0):nt.setTimeout(s,n)},IE=3e3,hD=(e,t,r=0)=>{let n=s=>{let o=r-s,i=()=>{e.destroy(),t(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${r} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<r&&r<6e3?(n(0),0):nt.setTimeout(n.bind(null,r===0?0:IE),IE)},AE=6e3;async function DE(e,t,r=AE){let n=t.headers??{},s=n.Expect||n.expect,o=-1,i=!0;s==="100-continue"&&(i=await Promise.race([new Promise(a=>{o=Number(nt.setTimeout(()=>a(!0),Math.max(AE,r)))}),new Promise(a=>{e.on("continue",()=>{nt.clearTimeout(o),a(!0)}),e.on("response",()=>{nt.clearTimeout(o),a(!1)}),e.on("error",()=>{nt.clearTimeout(o),a(!1)})})])),i&&gD(e,t.body)}function gD(e,t){if(t instanceof NE.Readable){t.pipe(e);return}if(t){if(Buffer.isBuffer(t)||typeof t=="string"){e.end(t);return}let r=t;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){e.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}e.end(Buffer.from(t));return}e.end()}var yD=0,xm=class e{config;configProvider;socketWarningTimestamp=0;metadata={handlerProtocol:"http/1.1"};static create(t){return typeof t?.handle=="function"?t:new e(t)}static checkSocketUsage(t,r,n=console){let{sockets:s,requests:o,maxSockets:i}=t;if(typeof i!="number"||i===1/0||Date.now()-15e3<r)return r;if(s&&o)for(let d in s){let l=s[d]?.length??0,p=o[d]?.length??0;if(l>=i&&p>=2*i)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${p} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:d}=t||{},l=!0,p=50;return{connectionTimeout:n,requestTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:d,httpAgent:i instanceof bm.Agent||typeof i?.destroy=="function"?i:new bm.Agent({keepAlive:l,maxSockets:p,...i}),httpsAgent:a instanceof wm.Agent||typeof a?.destroy=="function"?a:new wm.Agent({keepAlive:l,maxSockets:p,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i,a=[],d=async K=>{await i,a.forEach(nt.clearTimeout),s(K)},l=async K=>{await i,a.forEach(nt.clearTimeout),o(K)};if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let K=new Error("Request aborted");K.name="AbortError",l(K);return}let p=t.protocol==="https:",f=p?this.config.httpsAgent:this.config.httpAgent;a.push(nt.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(f,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let g=RE.buildQueryString(t.query||{}),h;if(t.username!=null||t.password!=null){let K=t.username??"",le=t.password??"";h=`${K}:${le}`}let E=t.path;g&&(E+=`?${g}`),t.fragment&&(E+=`#${t.fragment}`);let C=t.hostname??"";C[0]==="["&&C.endsWith("]")?C=t.hostname.slice(1,-1):C=t.hostname;let A={headers:t.headers,host:C,method:t.method,path:E,port:t.port,agent:f,auth:h},O=(p?wm.request:bm.request)(A,K=>{let le=new vE.HttpResponse({statusCode:K.statusCode||-1,reason:K.statusMessage,headers:PE(K.headers),body:K});d({response:le})});if(O.on("error",K=>{lD.includes(K.code)?l(Object.assign(K,{name:"TimeoutError"})):l(K)}),r){let K=()=>{O.destroy();let le=new Error("Request aborted");le.name="AbortError",l(le)};if(typeof r.addEventListener=="function"){let le=r;le.addEventListener("abort",K,{once:!0}),O.once("close",()=>le.removeEventListener("abort",K))}else r.onabort=K}let Y=n??this.config.requestTimeout;a.push(uD(O,l,this.config.connectionTimeout)),a.push(mD(O,l,Y,this.config.throwOnRequestTimeout,this.config.logger??console)),a.push(hD(O,l,this.config.socketTimeout));let X=A.agent;typeof X=="object"&&"keepAlive"in X&&a.push(fD(O,{keepAlive:X.keepAlive,keepAliveMsecs:X.keepAliveMsecs})),i=DE(O,t,Y).catch(K=>(a.forEach(nt.clearTimeout),o(K)))})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}},Tm=class{sessions=[];constructor(t){this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}},Cm=class{constructor(t){if(this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(t,r){let n=this.getUrlString(t),s=this.sessionCache.get(n);if(s){let d=s.poll();if(d&&!this.config.disableConcurrency)return d}let o=_m.connect(n);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},d=>{if(d)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(n,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(n,o)),r.requestTimeout&&o.setTimeout(r.requestTimeout,i);let a=this.sessionCache.get(n)||new Tm;return a.offerLast(o),this.sessionCache.set(n,a),o}deleteSession(t,r){let n=this.sessionCache.get(t);n&&n.contains(r)&&(n.remove(r),this.sessionCache.set(t,n))}release(t,r){let n=this.getUrlString(t);this.sessionCache.get(n)?.offerLast(r)}destroy(){for(let[t,r]of this.sessionCache){for(let n of r)n.destroyed||n.destroy(),r.remove(n);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},Im=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Cm({});static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(s||{})}).catch(n):r(t||{})})}destroy(){this.connectionManager.destroy()}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=n??s;return new Promise((a,d)=>{let l=!1,p,f=async ye=>{await p,a(ye)},g=async ye=>{await p,d(ye)};if(r?.aborted){l=!0;let ye=new Error("Request aborted");ye.name="AbortError",g(ye);return}let{hostname:h,method:E,port:C,protocol:A,query:R}=t,O="";if(t.username!=null||t.password!=null){let ye=t.username??"",Re=t.password??"";O=`${ye}:${Re}@`}let Y=`${A}//${O}${h}${C?`:${C}`:""}`,X={destination:new URL(Y)},K=this.connectionManager.lease(X,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),le=ye=>{o&&this.destroySession(K),l=!0,g(ye)},Ke=RE.buildQueryString(R||{}),dt=t.path;Ke&&(dt+=`?${Ke}`),t.fragment&&(dt+=`#${t.fragment}`);let we=K.request({...t.headers,[_m.constants.HTTP2_HEADER_PATH]:dt,[_m.constants.HTTP2_HEADER_METHOD]:E});if(K.ref(),we.on("response",ye=>{let Re=new vE.HttpResponse({statusCode:ye[":status"]||-1,headers:PE(ye),body:we});l=!0,f({response:Re}),o&&(K.close(),this.connectionManager.deleteSession(Y,K))}),i&&we.setTimeout(i,()=>{we.close();let ye=new Error(`Stream timed out because of no activity for ${i} ms`);ye.name="TimeoutError",le(ye)}),r){let ye=()=>{we.close();let Re=new Error("Request aborted");Re.name="AbortError",le(Re)};if(typeof r.addEventListener=="function"){let Re=r;Re.addEventListener("abort",ye,{once:!0}),we.once("close",()=>Re.removeEventListener("abort",ye))}else r.onabort=ye}we.on("frameError",(ye,Re,Vn)=>{le(new Error(`Frame type id ${ye} in stream id ${Vn} has failed with code ${Re}.`))}),we.on("error",le),we.on("aborted",()=>{le(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${we.rstCode}.`))}),we.on("close",()=>{K.unref(),o&&K.destroy(),l||le(new Error("Unexpected error: http2 request did not get a response"))}),p=DE(we,t,i)})}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[t]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(t){t.destroyed||t.destroy()}},Am=class extends NE.Writable{bufferedBytes=[];_write(t,r,n){this.bufferedBytes.push(t),n()}},ED=e=>SD(e)?bD(e):new Promise((t,r)=>{let n=new Am;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})}),SD=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function bD(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}no.DEFAULT_REQUEST_TIMEOUT=yD;no.NodeHttp2Handler=Im;no.NodeHttpHandler=xm;no.streamCollector=ED});var ME=N(da=>{"use strict";var OE=Ee(),wD=Sm(),_D=He();function kE(e,t){return new Request(e,t)}function xD(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{let n=new Error(`Request did not complete within ${e} ms`);n.name="TimeoutError",r(n)},e)})}var ca={supported:void 0},vm=class e{config;configProvider;static create(t){return typeof t?.handle=="function"?t:new e(t)}constructor(t){typeof t=="function"?this.configProvider=t().then(r=>r||{}):(this.config=t??{},this.configProvider=Promise.resolve(this.config)),ca.supported===void 0&&(ca.supported=typeof Request<"u"&&"keepalive"in kE("https://[::1]"))}destroy(){}async handle(t,{abortSignal:r,requestTimeout:n}={}){this.config||(this.config=await this.configProvider);let s=n??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(r?.aborted){let O=new Error("Request aborted");return O.name="AbortError",Promise.reject(O)}let a=t.path,d=wD.buildQueryString(t.query||{});d&&(a+=`?${d}`),t.fragment&&(a+=`#${t.fragment}`);let l="";if(t.username!=null||t.password!=null){let O=t.username??"",Y=t.password??"";l=`${O}:${Y}@`}let{port:p,method:f}=t,g=`${t.protocol}//${l}${t.hostname}${p?`:${p}`:""}${a}`,h=f==="GET"||f==="HEAD"?void 0:t.body,E={body:h,headers:new Headers(t.headers),method:f,credentials:i};this.config?.cache&&(E.cache=this.config.cache),h&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=r),ca.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(t));let C=()=>{},A=kE(g,E),R=[fetch(A).then(O=>{let Y=O.headers,X={};for(let le of Y.entries())X[le[0]]=le[1];return O.body!=null?{response:new OE.HttpResponse({headers:X,reason:O.statusText,statusCode:O.status,body:O.body})}:O.blob().then(le=>({response:new OE.HttpResponse({headers:X,reason:O.statusText,statusCode:O.status,body:le})}))}),xD(s)];return r&&R.push(new Promise((O,Y)=>{let X=()=>{let K=new Error("Request aborted");K.name="AbortError",Y(K)};if(typeof r.addEventListener=="function"){let K=r;K.addEventListener("abort",X,{once:!0}),C=()=>K.removeEventListener("abort",X)}else r.onabort=X})),Promise.race(R).finally(C)}updateHttpClientConfig(t,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[t]=r,n))}httpHandlerConfigs(){return this.config??{}}},TD=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):CD(e):ID(e);async function CD(e){let t=await AD(e),r=_D.fromBase64(t);return new Uint8Array(r)}async function ID(e){let t=[],r=e.getReader(),n=!1,s=0;for(;!n;){let{done:a,value:d}=await r.read();d&&(t.push(d),s+=d.length),n=a}let o=new Uint8Array(s),i=0;for(let a of t)o.set(a,i),i+=a.length;return o}function AD(e){return new Promise((t,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let s=n.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;t(s.substring(i))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}da.FetchHttpHandler=vm;da.keepAliveSupport=ca;da.streamCollector=TD});var Pm=N(Nm=>{"use strict";var LE={},Rm={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),LE[e]=t,Rm[t]=e}function vD(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in Rm)t[r/2]=Rm[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function RD(e){let t="";for(let r=0;r<e.byteLength;r++)t+=LE[e[r]];return t}Nm.fromHex=vD;Nm.toHex=RD});var FE=N(la=>{"use strict";Object.defineProperty(la,"__esModule",{value:!0});la.sdkStreamMixin=void 0;var ND=ME(),PD=He(),DD=Pm(),OD=qe(),BE=Mr(),UE="The stream has already been transformed.",kD=e=>{if(!$E(e)&&!(0,BE.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(UE);return t=!0,await(0,ND.streamCollector)(e)},n=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:r,transformToString:async s=>{let o=await r();if(s==="base64")return(0,PD.toBase64)(o);if(s==="hex")return(0,DD.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,OD.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(UE);if(t=!0,$E(e))return n(e);if((0,BE.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};la.sdkStreamMixin=kD;var $E=e=>typeof Blob=="function"&&e instanceof Blob});var zE=N(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});ua.sdkStreamMixin=void 0;var MD=Sn(),LD=Kn(),Dm=require("stream"),BD=FE(),jE="The stream has already been transformed.",UD=e=>{if(!(e instanceof Dm.Readable))try{return(0,BD.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let t=!1,r=async()=>{if(t)throw new Error(jE);return t=!0,await(0,MD.streamCollector)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async n=>{let s=await r();return n===void 0||Buffer.isEncoding(n)?(0,LD.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(n):new TextDecoder(n).decode(s)},transformToWebStream:()=>{if(t)throw new Error(jE);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Dm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return t=!0,Dm.Readable.toWeb(e)}})};ua.sdkStreamMixin=UD});var qE=N(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.splitStream=$D;async function $D(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var GE=N(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.splitStream=jD;var HE=require("stream"),FD=qE(),VE=Mr();async function jD(e){if((0,VE.isReadableStream)(e)||(0,VE.isBlob)(e))return(0,FD.splitStream)(e);let t=new HE.PassThrough,r=new HE.PassThrough;return e.pipe(t),e.pipe(r),[t,r]}});var ma=N(je=>{"use strict";var WE=He(),KE=qe(),JE=cm(),YE=pE(),XE=SE(),QE=bE(),ZE=_E(),eS=zE(),tS=GE(),rS=Mr(),Mm=class e extends Uint8Array{static fromString(t,r="utf-8"){if(typeof t=="string")return r==="base64"?e.mutate(WE.fromBase64(t)):e.mutate(KE.fromUtf8(t));throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return t==="base64"?WE.toBase64(this):KE.toUtf8(this)}};je.Uint8ArrayBlobAdapter=Mm;Object.keys(JE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return JE[e]}})});Object.keys(YE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return YE[e]}})});Object.keys(XE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return XE[e]}})});Object.keys(QE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return QE[e]}})});Object.keys(ZE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return ZE[e]}})});Object.keys(eS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return eS[e]}})});Object.keys(tS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return tS[e]}})});Object.keys(rS).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(je,e)&&Object.defineProperty(je,e,{enumerable:!0,get:function(){return rS[e]}})})});var pa,Nt,fa=_(()=>{pa=T(ma()),Nt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return pa.Uint8ArrayBlobAdapter.mutate(e);if(!e)return pa.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=t.streamCollector(e);return pa.Uint8ArrayBlobAdapter.mutate(await r)}});function jt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var ha=_(()=>{});var Pt,Lm=_(()=>{Pt=e=>typeof e=="function"?e():e});var so,ga=_(()=>{so=(e,t,r,n,s)=>({name:t,namespace:e,traits:r,input:n,output:s})});var nS,sS,oS,Bm,iS=_(()=>{nS=T(Ee()),sS=T(rt());ga();oS=e=>(t,r)=>async n=>{let{response:s}=await t(n),{operationSchema:o}=(0,sS.getSmithyContext)(r),[,i,a,d,l,p]=o??[];try{let f=await e.protocol.deserializeResponse(so(i,a,d,l,p),{...e,...r},s);return{response:s,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:s}),!("$metadata"in f)){let g="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{f.message+=`
  `+g}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(g):r.logger?.warn?.(g)}typeof f.$responseBodyText<"u"&&f.$response&&(f.$response.body=f.$responseBodyText);try{if(nS.HttpResponse.isInstance(s)){let{headers:h={}}=s,E=Object.entries(h);f.$metadata={httpStatusCode:s.statusCode,requestId:Bm(/^x-[\w-]+-request-?id$/,E),extendedRequestId:Bm(/^x-[\w-]+-id-2$/,E),cfId:Bm(/^x-[\w-]+-cf-id$/,E)}}}catch{}}throw f}},Bm=(e,t)=>(t.find(([r])=>r.match(e))||[void 0,void 0])[1]});var aS,cS,dS=_(()=>{aS=T(rt());ga();cS=e=>(t,r)=>async n=>{let{operationSchema:s}=(0,aS.getSmithyContext)(r),[,o,i,a,d,l]=s??[],p=r.endpointV2?.url&&e.urlParser?async()=>e.urlParser(r.endpointV2.url):e.endpoint,f=await e.protocol.serializeRequest(so(o,i,a,d,l),n.input,{...e,...r,endpoint:p});return t({...n,request:f})}});function zD(e){return{applyToStack:t=>{t.add(cS(e),uS),t.add(oS(e),lS),e.protocol.setSerdeContext(e)}}}var lS,uS,mS=_(()=>{iS();dS();lS={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},uS={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var Ne,Lr=_(()=>{Ne=class{name;namespace;traits;static assign(t,r){return Object.assign(t,r)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}getName(){return this.namespace+"#"+this.name}}});var ya,qD,pS=_(()=>{Lr();ya=class e extends Ne{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},qD=(e,t,r,n)=>Ne.assign(new ya,{name:t,namespace:e,traits:r,valueSchema:n})});var Ea,HD,fS=_(()=>{Lr();Ea=class e extends Ne{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},HD=(e,t,r,n,s)=>Ne.assign(new Ea,{name:t,namespace:e,traits:r,keySchema:n,valueSchema:s})});var Sa,VD,hS=_(()=>{Lr();Sa=class e extends Ne{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},VD=(e,t,r,n,s)=>Ne.assign(new Sa,{name:t,namespace:e,traits:r,input:n,output:s})});var Xn,GD,Um=_(()=>{Lr();Xn=class e extends Ne{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},GD=(e,t,r,n,s)=>Ne.assign(new Xn,{name:t,namespace:e,traits:r,memberNames:n,memberList:s})});var ba,WD,gS=_(()=>{Lr();Um();ba=class e extends Xn{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},WD=(e,t,r,n,s,o)=>Ne.assign(new ba,{name:t,namespace:e,traits:r,memberNames:n,memberList:s,ctor:null})});function zt(e){if(typeof e=="object")return e;e=e|0;let t={},r=0;for(let n of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>r++&1)===1&&(t[n]=1);return t}var $m=_(()=>{});function oo(e,t){if(e instanceof G)return Object.assign(e,{memberName:t,_isMemberSchema:!0});let r=G;return new r(e,t)}var G,Fm,yS,ES=_(()=>{Lm();$m();G=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(t,r){this.ref=t,this.memberName=r;let n=[],s=t,o=t;for(this._isMemberSchema=!1;Fm(s);)n.push(s[1]),s=s[0],o=Pt(s),this._isMemberSchema=!0;if(n.length>0){this.memberTraits={};for(let i=n.length-1;i>=0;--i){let a=n[i];Object.assign(this.memberTraits,zt(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=r??o.memberName;return}if(this.schema=Pt(o),yS(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!r)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](t){let r=this.prototype.isPrototypeOf(t);return!r&&typeof t=="object"&&t!==null?t.symbol===this.symbol:r}static of(t){let r=Pt(t);if(r instanceof e)return r;if(Fm(r)){let[n,s]=r;if(n instanceof e)return Object.assign(n.getMergedTraits(),zt(s)),n;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(t,null,2)}.`)}return new e(r)}getSchema(){let t=this.schema;return t[0]===0?t[4]:t}getName(t=!1){let{name:r}=this;return!t&&r&&r.includes("#")?r.split("#")[1]:r||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let t=this.getSchema();return typeof t=="number"?t>=64&&t<128:t[0]===1}isMapSchema(){let t=this.getSchema();return typeof t=="number"?t>=128&&t<=255:t[0]===2}isStructSchema(){let t=this.getSchema();return t[0]===3||t[0]===-3}isBlobSchema(){let t=this.getSchema();return t===21||t===42}isTimestampSchema(){let t=this.getSchema();return typeof t=="number"&&t>=4&&t<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:t}=this.getMergedTraits();return!!t||this.getSchema()===42}isIdempotencyToken(){let t=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:r,traits:n,memberTraits:s}=this;return t(r)||t(n)||t(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return zt(this.memberTraits)}getOwnTraits(){return zt(this.traits)}getKeySchema(){let[t,r]=[this.isDocumentSchema(),this.isMapSchema()];if(!t&&!r)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let n=this.getSchema(),s=t?15:n[4]??0;return oo([s,0],"key")}getValueSchema(){let t=this.getSchema(),[r,n,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof t=="number"?63&t:t&&typeof t=="object"&&(n||s)?t[3+t[0]]:r?15:void 0;if(o!=null)return oo([o,0],n?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(t){let r=this.getSchema();if(this.isStructSchema()&&r[4].includes(t)){let n=r[4].indexOf(t),s=r[5][n];return oo(Fm(s)?s:[s,0],t)}if(this.isDocumentSchema())return oo([15,0],t);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${t}.`)}getMemberSchemas(){let t={};try{for(let[r,n]of this.structIterator())t[r]=n}catch{}return t}getEventStreamMember(){if(this.isStructSchema()){for(let[t,r]of this.structIterator())if(r.isStreaming()&&r.isStructSchema())return t}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let t=this.getSchema();for(let r=0;r<t[4].length;++r)yield[t[4][r],oo([t[5][r],0],t[4][r])]}};Fm=e=>Array.isArray(e)&&e.length===2,yS=e=>Array.isArray(e)&&e.length>=5});var io,KD,JD,SS=_(()=>{Lr();io=class e extends Ne{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},KD=(e,t,r,n)=>Ne.assign(new io,{name:t,namespace:e,traits:n,schemaRef:r}),JD=(e,t,r,n)=>Ne.assign(new io,{name:t,namespace:e,traits:r,schemaRef:n})});var YD,bS=_(()=>{YD={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var Be,wS=_(()=>{Be=class e{namespace;schemas;exceptions;static registries=new Map;constructor(t,r=new Map,n=new Map){this.namespace=t,this.schemas=r,this.exceptions=n}static for(t){return e.registries.has(t)||e.registries.set(t,new e(t)),e.registries.get(t)}register(t,r){let n=this.normalizeShapeId(t);e.for(n.split("#")[0]).schemas.set(n,r)}getSchema(t){let r=this.normalizeShapeId(t);if(!this.schemas.has(r))throw new Error(`@smithy/core/schema - schema not found for ${r}`);return this.schemas.get(r)}registerError(t,r){let n=t,s=e.for(n[1]);s.schemas.set(n[1]+"#"+n[2],n),s.exceptions.set(n,r)}getErrorCtor(t){let r=t;return e.for(r[1]).exceptions.get(r)}getBaseException(){for(let t of this.exceptions.keys())if(Array.isArray(t)){let[,r,n]=t,s=r+"#"+n;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return t}}find(t){return[...this.schemas.values()].find(t)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(t){return t.includes("#")?t:this.namespace+"#"+t}}});var _S={};gt(_S,{ErrorSchema:()=>ba,ListSchema:()=>ya,MapSchema:()=>Ea,NormalizedSchema:()=>G,OperationSchema:()=>Sa,SCHEMA:()=>YD,Schema:()=>Ne,SimpleSchema:()=>io,StructureSchema:()=>Xn,TypeRegistry:()=>Be,deref:()=>Pt,deserializerMiddlewareOption:()=>lS,error:()=>WD,getSchemaSerdePlugin:()=>zD,isStaticSchema:()=>yS,list:()=>qD,map:()=>HD,op:()=>VD,operation:()=>so,serializerMiddlewareOption:()=>uS,sim:()=>KD,simAdapter:()=>JD,struct:()=>GD,translateTraits:()=>zt});var Ce=_(()=>{Lm();mS();pS();fS();hS();ga();gS();ES();Lr();SS();Um();bS();$m();wS()});var XD,xS=_(()=>{XD=(e,t,r=n=>n)=>e});var QD,ZD,ao,eO,wa,co,tO,jm,zm,qm,Hm,rO,nO,TS,sO,oO,xa,iO,Vm,aO,Qn,Gm,cO,dO,lO,CS,IS,uO,mO,bn,Wm,_a,lo,Km=_(()=>{QD=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},ZD=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&lo.warn(_a(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&lo.warn(_a(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return!1;if(t==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ao=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&lo.warn(_a(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},eO=Math.ceil(34028234663852886e22),wa=e=>{let t=ao(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>eO)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},co=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},tO=co,jm=e=>Hm(e,32),zm=e=>Hm(e,16),qm=e=>Hm(e,8),Hm=(e,t)=>{let r=co(e);if(r!==void 0&&rO(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},rO=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},nO=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},TS=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},sO=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return lo.warn(_a(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},oO=e=>{if(e==null)return;let t=TS(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t},xa=e=>ao(typeof e=="string"?Qn(e):e),iO=xa,Vm=e=>wa(typeof e=="string"?Qn(e):e),aO=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Qn=e=>{let t=e.match(aO);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},Gm=e=>typeof e=="string"?CS(e):ao(e),cO=Gm,dO=Gm,lO=e=>typeof e=="string"?CS(e):wa(e),CS=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},IS=e=>co(typeof e=="string"?Qn(e):e),uO=IS,mO=e=>jm(typeof e=="string"?Qn(e):e),bn=e=>zm(typeof e=="string"?Qn(e):e),Wm=e=>qm(typeof e=="string"?Qn(e):e),_a=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),lo={warn:console.warn}});function mo(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),d=s<10?`0${s}`:`${s}`,l=o<10?`0${o}`:`${o}`,p=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${pO[n]}, ${d} ${Ym[r]} ${t} ${l}:${p}:${f} GMT`}var pO,Ym,fO,hO,gO,Xm,yO,EO,SO,Qm,Zm,uo,bO,wO,_O,Jm,xO,TO,CO,qt,IO,AO,Zn,AS=_(()=>{Km();pO=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ym=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];fO=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),hO=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=fO.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,d,l]=t,p=bn(Zn(n)),f=qt(s,"month",1,12),g=qt(o,"day",1,31);return uo(p,f,g,{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l})},gO=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Xm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=gO.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,d,l,p]=t,f=bn(Zn(n)),g=qt(s,"month",1,12),h=qt(o,"day",1,31),E=uo(f,g,h,{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l});return p.toUpperCase()!="Z"&&E.setTime(E.getTime()-AO(p)),E},yO=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),EO=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),SO=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Qm=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=yO.exec(e);if(t){let[r,n,s,o,i,a,d,l]=t;return uo(bn(Zn(o)),Jm(s),qt(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l})}if(t=EO.exec(e),t){let[r,n,s,o,i,a,d,l]=t;return _O(uo(bO(o),Jm(s),qt(n,"day",1,31),{hours:i,minutes:a,seconds:d,fractionalMilliseconds:l}))}if(t=SO.exec(e),t){let[r,n,s,o,i,a,d,l]=t;return uo(bn(Zn(l)),Jm(n),qt(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:d})}throw new TypeError("Invalid RFC-7231 date-time value")},Zm=e=>{if(e==null)return;let t;if(typeof e=="number")t=e;else if(typeof e=="string")t=xa(e);else if(typeof e=="object"&&e.tag===1)t=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(t*1e3))},uo=(e,t,r,n)=>{let s=t-1;return TO(e,s,r),new Date(Date.UTC(e,s,r,qt(n.hours,"hour",0,23),qt(n.minutes,"minute",0,59),qt(n.seconds,"seconds",0,60),IO(n.fractionalMilliseconds)))},bO=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+bn(Zn(e));return r<t?r+100:r},wO=50*365*24*60*60*1e3,_O=e=>e.getTime()-new Date().getTime()>wO?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,Jm=e=>{let t=Ym.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},xO=[31,28,31,30,31,30,31,31,30,31,30,31],TO=(e,t,r)=>{let n=xO[t];if(t===1&&CO(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Ym[t]} in ${e}: ${r}`)},CO=e=>e%4===0&&(e%100!==0||e%400===0),qt=(e,t,r,n)=>{let s=Wm(Zn(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},IO=e=>e==null?0:Vm("0."+e)*1e3,AO=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},Zn=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)}});var po={};gt(po,{__addDisposableResource:()=>QS,__assign:()=>Ta,__asyncDelegator:()=>HS,__asyncGenerator:()=>qS,__asyncValues:()=>VS,__await:()=>es,__awaiter:()=>BS,__classPrivateFieldGet:()=>JS,__classPrivateFieldIn:()=>XS,__classPrivateFieldSet:()=>YS,__createBinding:()=>Ia,__decorate:()=>NS,__disposeResources:()=>ZS,__esDecorate:()=>DS,__exportStar:()=>$S,__extends:()=>vS,__generator:()=>US,__importDefault:()=>KS,__importStar:()=>WS,__makeTemplateObject:()=>GS,__metadata:()=>LS,__param:()=>PS,__propKey:()=>kS,__read:()=>rp,__rest:()=>RS,__rewriteRelativeImportExtension:()=>eb,__runInitializers:()=>OS,__setFunctionName:()=>MS,__spread:()=>FS,__spreadArray:()=>zS,__spreadArrays:()=>jS,__values:()=>Ca,default:()=>NO});function vS(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ep(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function RS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function NS(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function PS(e,t){return function(r,n){t(r,n,e)}}function DS(e,t,r,n,s,o){function i(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=n.kind,d=a==="getter"?"get":a==="setter"?"set":"value",l=!t&&e?n.static?e:e.prototype:null,p=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),f,g=!1,h=r.length-1;h>=0;h--){var E={};for(var C in n)E[C]=C==="access"?{}:n[C];for(var C in n.access)E.access[C]=n.access[C];E.addInitializer=function(R){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(R||null))};var A=(0,r[h])(a==="accessor"?{get:p.get,set:p.set}:p[d],E);if(a==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(f=i(A.get))&&(p.get=f),(f=i(A.set))&&(p.set=f),(f=i(A.init))&&s.unshift(f)}else(f=i(A))&&(a==="field"?s.unshift(f):p[d]=f)}l&&Object.defineProperty(l,n.name,p),g=!0}function OS(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function kS(e){return typeof e=="symbol"?e:"".concat(e)}function MS(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function LS(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function BS(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(p){try{l(n.next(p))}catch(f){i(f)}}function d(p){try{l(n.throw(p))}catch(f){i(f)}}function l(p){p.done?o(p.value):s(p.value).then(a,d)}l((n=n.apply(e,t||[])).next())})}function US(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(p){return d([l,p])}}function d(l){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(r=0)),r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(p){l=[6,p],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function $S(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Ia(t,e,r)}function Ca(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function rp(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function FS(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(rp(arguments[t]));return e}function jS(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function zS(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function es(e){return this instanceof es?(this.v=e,this):new es(e)}function qS(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(h){return function(E){return Promise.resolve(E).then(h,f)}}function a(h,E){n[h]&&(s[h]=function(C){return new Promise(function(A,R){o.push([h,C,A,R])>1||d(h,C)})},E&&(s[h]=E(s[h])))}function d(h,E){try{l(n[h](E))}catch(C){g(o[0][3],C)}}function l(h){h.value instanceof es?Promise.resolve(h.value.v).then(p,f):g(o[0][2],h)}function p(h){d("next",h)}function f(h){d("throw",h)}function g(h,E){h(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}function HS(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:es(e[s](i)),done:!1}:o?o(i):i}:o}}function VS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ca=="function"?Ca(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,d){i=e[o](i),s(a,d,i.done,i.value)})}}function s(o,i,a,d){Promise.resolve(d).then(function(l){o({value:l,done:a})},i)}}function GS(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function WS(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=tp(e),n=0;n<r.length;n++)r[n]!=="default"&&Ia(t,e,r[n]);return vO(t,e),t}function KS(e){return e&&e.__esModule?e:{default:e}}function JS(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function YS(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function XS(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function QS(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}function ZS(e){function t(o){e.error=e.hasError?new RO(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(i){return t(i),s()})}else n|=1}catch(i){t(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function eb(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,i){return n?t?".jsx":".js":s&&(!o||!i)?r:s+o+"."+i.toLowerCase()+"js"}):e}var ep,Ta,Ia,vO,tp,RO,NO,fo=_(()=>{ep=function(e,t){return ep=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ep(e,t)};Ta=function(){return Ta=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ta.apply(this,arguments)};Ia=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});vO=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},tp=function(e){return tp=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},tp(e)};RO=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};NO={__extends:vS,__assign:Ta,__rest:RS,__decorate:NS,__param:PS,__esDecorate:DS,__runInitializers:OS,__propKey:kS,__setFunctionName:MS,__metadata:LS,__awaiter:BS,__generator:US,__createBinding:Ia,__exportStar:$S,__values:Ca,__read:rp,__spread:FS,__spreadArrays:jS,__spreadArray:zS,__await:es,__asyncGenerator:qS,__asyncDelegator:HS,__asyncValues:VS,__makeTemplateObject:GS,__importStar:WS,__importDefault:KS,__classPrivateFieldGet:JS,__classPrivateFieldSet:YS,__classPrivateFieldIn:XS,__addDisposableResource:QS,__disposeResources:ZS,__rewriteRelativeImportExtension:eb}});var rb=N(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.randomUUID=void 0;var PO=(fo(),de(po)),tb=PO.__importDefault(require("crypto"));Aa.randomUUID=tb.default.randomUUID.bind(tb.default)});var va=N(sb=>{"use strict";var nb=rb(),Je=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),DO=()=>{if(nb.randomUUID)return nb.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,Je[e[0]]+Je[e[1]]+Je[e[2]]+Je[e[3]]+"-"+Je[e[4]]+Je[e[5]]+"-"+Je[e[6]]+Je[e[7]]+"-"+Je[e[8]]+Je[e[9]]+"-"+Je[e[10]]+Je[e[11]]+Je[e[12]]+Je[e[13]]+Je[e[14]]+Je[e[15]]};sb.v4=DO});var Ht,ob=_(()=>{Ht=T(va())});var st,ib=_(()=>{st=function(t){return Object.assign(new String(t),{deserializeJSON(){return JSON.parse(String(t))},toString(){return String(t)},toJSON(){return String(t)}})};st.from=e=>e&&typeof e=="object"&&(e instanceof st||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?st(String(e)):st(JSON.stringify(e));st.fromObject=st.from});function np(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var ab=_(()=>{});function ar(e,t,r){let n=Number(e);if(n<t||n>r)throw new Error(`Value ${n} out of range [${t}, ${r}]`)}var sp,op,ip,cb,db,OO,kO,MO,LO,BO,ho,ap,cp,lb=_(()=>{sp="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",op="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",ip="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",cb="(\\d?\\d)",db="(\\d{4})",OO=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),kO=new RegExp(`^${sp}, ${cb} ${op} ${db} ${ip} GMT$`),MO=new RegExp(`^${sp}, ${cb}-${op}-(\\d\\d) ${ip} GMT$`),LO=new RegExp(`^${sp} ${op} ( [1-9]|\\d\\d) ${ip} ${db}$`),BO=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ho=e=>{if(e==null)return;let t=NaN;if(typeof e=="number")t=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");t=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(t=e.value);if(isNaN(t)||Math.abs(t)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(t*1e3))},ap=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let t=OO.exec(e);if(!t)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,r,n,s,o,i,a,,d,l]=t;ar(n,1,12),ar(s,1,31),ar(o,0,23),ar(i,0,59),ar(a,0,60);let p=new Date;if(p.setUTCFullYear(Number(r),Number(n)-1,Number(s)),p.setUTCHours(Number(o)),p.setUTCMinutes(Number(i)),p.setUTCSeconds(Number(a)),p.setUTCMilliseconds(Number(d)?Math.round(parseFloat(`0.${d}`)*1e3):0),l.toUpperCase()!="Z"){let[,f,g,h]=/([+-])(\d\d):(\d\d)/.exec(l)||[void 0,"+",0,0],E=f==="-"?1:-1;p.setTime(p.getTime()+E*(Number(g)*60*60*1e3+Number(h)*60*1e3))}return p},cp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let t,r,n,s,o,i,a,d;if((d=kO.exec(e))?[,t,r,n,s,o,i,a]=d:(d=MO.exec(e))?([,t,r,n,s,o,i,a]=d,n=(Number(n)+1900).toString()):(d=LO.exec(e))&&([,r,t,s,o,i,a,n]=d),n&&i){let l=new Date;return l.setUTCFullYear(Number(n)),l.setUTCMonth(BO.indexOf(r)),ar(t,1,31),l.setUTCDate(Number(t)),ar(s,0,23),l.setUTCHours(Number(s)),ar(o,0,59),l.setUTCMinutes(Number(o)),ar(i,0,60),l.setUTCSeconds(Number(i)),l.setUTCMilliseconds(a?Math.round(parseFloat(`0.${a}`)*1e3):0),l}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function dp(e,t,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=e.split(t);if(r===1)return n;let s=[],o="";for(let i=0;i<n.length;i++)o===""?o=n[i]:o+=t+n[i],(i+1)%r===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var ub=_(()=>{});var go,mb=_(()=>{go=e=>{let t=e.length,r=[],n=!1,s,o=0;for(let i=0;i<t;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(n=!n);break;case",":n||(r.push(e.slice(o,i)),o=i+1);break;default:}s=a}return r.push(e.slice(o)),r.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function lp(e){return new xe(String(e),"bigDecimal")}var pb,xe,fb=_(()=>{pb=/^-?\d*(\.\d+)?$/,xe=class e{string;type;constructor(t,r){if(this.string=t,this.type=r,!pb.test(t))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](t){if(!t||typeof t!="object")return!1;let r=t;return e.prototype.isPrototypeOf(t)||r.type==="bigDecimal"&&pb.test(r.string)}}});var hb={};gt(hb,{LazyJsonString:()=>st,NumericValue:()=>xe,_parseEpochTimestamp:()=>ho,_parseRfc3339DateTimeWithOffset:()=>ap,_parseRfc7231DateTime:()=>cp,copyDocumentWithTransform:()=>XD,dateToUtcString:()=>mo,expectBoolean:()=>ZD,expectByte:()=>qm,expectFloat32:()=>wa,expectInt:()=>tO,expectInt32:()=>jm,expectLong:()=>co,expectNonNull:()=>nO,expectNumber:()=>ao,expectObject:()=>TS,expectShort:()=>zm,expectString:()=>sO,expectUnion:()=>oO,generateIdempotencyToken:()=>Ht.v4,handleFloat:()=>cO,limitedParseDouble:()=>Gm,limitedParseFloat:()=>dO,limitedParseFloat32:()=>lO,logger:()=>lo,nv:()=>lp,parseBoolean:()=>QD,parseEpochTimestamp:()=>Zm,parseRfc3339DateTime:()=>hO,parseRfc3339DateTimeWithOffset:()=>Xm,parseRfc7231DateTime:()=>Qm,quoteHeader:()=>np,splitEvery:()=>dp,splitHeader:()=>go,strictParseByte:()=>Wm,strictParseDouble:()=>xa,strictParseFloat:()=>iO,strictParseFloat32:()=>Vm,strictParseInt:()=>uO,strictParseInt32:()=>mO,strictParseLong:()=>IS,strictParseShort:()=>bn});var lt=_(()=>{xS();AS();ob();ib();Km();ab();lb();ub();mb();fb()});var ot,ts=_(()=>{ot=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});var gb,up,yb=_(()=>{gb=T(qe()),up=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:t,serializer:r,deserializer:n,serdeContext:s,defaultContentType:o}){this.marshaller=t,this.serializer=r,this.deserializer=n,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){let s=this.marshaller,o=r.getEventStreamMember(),i=r.getMemberSchema(o),a=this.serializer,d=this.defaultContentType,l=Symbol("initialRequestMarker"),p={async*[Symbol.asyncIterator](){if(n){let f={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:d}};a.write(r,n);let g=a.flush();yield{[l]:!0,headers:f,body:g}}for await(let f of t)yield f}};return s.serialize(p,f=>{if(f[l])return{headers:f.headers,body:f.body};let g=Object.keys(f).find(O=>O!=="__type")??"",{additionalHeaders:h,body:E,eventType:C,explicitPayloadContentType:A}=this.writeEventBody(g,i,f);return{headers:{":event-type":{type:"string",value:C},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??d},...h},body:E}})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){let s=this.marshaller,o=r.getEventStreamMember(),a=r.getMemberSchema(o).getMemberSchemas(),d=Symbol("initialResponseMarker"),l=s.deserialize(t.body,async g=>{let h=Object.keys(g).find(E=>E!=="__type")??"";if(h==="initial-response"){let E=await this.deserializer.read(r,g[h].body);return delete E[o],{[d]:!0,...E}}else if(h in a){let E=a[h];return{[h]:await this.deserializer.read(E,g[h].body)}}else return{$unknown:g}}),p=l[Symbol.asyncIterator](),f=await p.next();if(f.done)return l;if(f.value?.[d]){if(!r)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[g,h]of Object.entries(f.value))n[g]=h}return{async*[Symbol.asyncIterator](){for(f?.value?.[d]||(yield f.value);;){let{done:g,value:h}=await p.next();if(g)break;yield h}}}}writeEventBody(t,r,n){let s=this.serializer,o=t,i=null,a,d=r.getSchema()[4].includes(t),l={};if(d){let g=r.getMemberSchema(t);if(g.isStructSchema()){for(let[h,E]of g.structIterator()){let{eventHeader:C,eventPayload:A}=E.getMergedTraits();if(A){i=h;break}else if(C){let R=n[t][h],O="binary";E.isNumericSchema()?(-2)**31<=R&&R<=2**31-1?O="integer":O="long":E.isTimestampSchema()?O="timestamp":E.isStringSchema()?O="string":E.isBooleanSchema()&&(O="boolean"),R!=null&&(l[h]={type:O,value:R},delete n[t][h])}}if(i!==null){let h=g.getMemberSchema(i);h.isBlobSchema()?a="application/octet-stream":h.isStringSchema()&&(a="text/plain"),s.write(h,n[t][i])}else s.write(g,n[t])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[g,h]=n[t];o=g,s.write(15,h)}let p=s.flush();return{body:typeof p=="string"?(this.serdeContext?.utf8Decoder??gb.fromUtf8)(p):p,eventType:o,explicitPayloadContentType:a,additionalHeaders:l}}}});var Eb={};gt(Eb,{EventStreamSerde:()=>up});var Sb=_(()=>{yb()});var Ra,wn,Na=_(()=>{Ce();Ra=T(Ee());ts();wn=class extends ot{options;constructor(t){super(),this.options=t}getRequestType(){return Ra.HttpRequest}getResponseType(){return Ra.HttpResponse}setSerdeContext(t){this.serdeContext=t,this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(t)}updateServiceEndpoint(t,r){if("url"in r){t.protocol=r.url.protocol,t.hostname=r.url.hostname,t.port=r.url.port?Number(r.url.port):void 0,t.path=r.url.pathname,t.fragment=r.url.hash||void 0,t.username=r.url.username||void 0,t.password=r.url.password||void 0,t.query||(t.query={});for(let[n,s]of r.url.searchParams.entries())t.query[n]=s;return t}else return t.protocol=r.protocol,t.hostname=r.hostname,t.port=r.port?Number(r.port):void 0,t.path=r.path,t.query={...r.query},t}setHostPrefix(t,r,n){let s=G.of(r.input),o=zt(r.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,d])=>d.getMergedTraits().hostLabel);for(let[d]of a){let l=n[d];if(typeof l!="string")throw new Error(`@smithy/core/schema - ${d} in input must be a string as hostLabel.`);i=i.replace(`{${d}}`,l)}t.hostname=i+t.hostname}}}deserializeMetadata(t){return{httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:t,requestSchema:r,initialRequest:n})}async deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:t,responseSchema:r,initialResponseContainer:n})}async loadEventStreamCapability(){let{EventStreamSerde:t}=await Promise.resolve().then(()=>(Sb(),Eb));return new t({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(t,r,n,s,o){return[]}getEventStreamMarshaller(){let t=this.serdeContext;if(!t.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return t.eventStreamMarshaller}}});var bb,wb,_n,_b=_(()=>{Ce();lt();bb=T(Ee()),wb=T(ma());fa();ha();Na();_n=class extends wn{async serializeRequest(t,r,n){let s={...r??{}},o=this.serializer,i={},a={},d=await n.endpoint(),l=G.of(t?.input),p=l.getSchema(),f=!1,g,h=new bb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(d){this.updateServiceEndpoint(h,d),this.setHostPrefix(h,t,s);let E=zt(t.traits);if(E.http){h.method=E.http[0];let[C,A]=E.http[1].split("?");h.path=="/"?h.path=C:h.path+=C;let R=new URLSearchParams(A??"");Object.assign(i,Object.fromEntries(R))}}for(let[E,C]of l.structIterator()){let A=C.getMergedTraits()??{},R=s[E];if(R!=null)if(A.httpPayload)C.isStreaming()?C.isStructSchema()?s[E]&&(g=await this.serializeEventStream({eventStream:s[E],requestSchema:l})):g=R:(o.write(C,R),g=o.flush()),delete s[E];else if(A.httpLabel){o.write(C,R);let O=o.flush();h.path.includes(`{${E}+}`)?h.path=h.path.replace(`{${E}+}`,O.split("/").map(jt).join("/")):h.path.includes(`{${E}}`)&&(h.path=h.path.replace(`{${E}}`,jt(O))),delete s[E]}else if(A.httpHeader)o.write(C,R),a[A.httpHeader.toLowerCase()]=String(o.flush()),delete s[E];else if(typeof A.httpPrefixHeaders=="string"){for(let[O,Y]of Object.entries(R)){let X=A.httpPrefixHeaders+O;o.write([C.getValueSchema(),{httpHeader:X}],Y),a[X.toLowerCase()]=o.flush()}delete s[E]}else A.httpQuery||A.httpQueryParams?(this.serializeQuery(C,R,i),delete s[E]):f=!0}return f&&s&&(o.write(p,s),g=o.flush()),h.headers=a,h.query=i,h.body=g,h}serializeQuery(t,r,n){let s=this.serializer,o=t.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(r))if(!(i in n)){let d=t.getValueSchema();Object.assign(d.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(d,a,n)}return}if(t.isListSchema()){let i=!!t.getMergedTraits().sparse,a=[];for(let d of r){s.write([t.getValueSchema(),o],d);let l=s.flush();(i||l!==void 0)&&a.push(l)}n[o.httpQuery]=a}else s.write([t,o],r),n[o.httpQuery]=s.flush()}async deserializeResponse(t,r,n){let s=this.deserializer,o=G.of(t.output),i={};if(n.statusCode>=300){let d=await Nt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=await this.deserializeHttpMessage(o,r,n,i);if(a.length){let d=await Nt(n.body,r);if(d.byteLength>0){let l=await s.read(o,d);for(let p of a)i[p]=l[p]}}return i.$metadata=this.deserializeMetadata(n),i}async deserializeHttpMessage(t,r,n,s,o){let i;s instanceof Set?i=o:i=s;let a=this.deserializer,d=G.of(t),l=[];for(let[p,f]of d.structIterator()){let g=f.getMemberTraits();if(g.httpPayload){if(f.isStreaming())f.isStructSchema()?i[p]=await this.deserializeEventStream({response:n,responseSchema:d}):i[p]=(0,wb.sdkStreamMixin)(n.body);else if(n.body){let E=await Nt(n.body,r);E.byteLength>0&&(i[p]=await a.read(f,E))}}else if(g.httpHeader){let h=String(g.httpHeader).toLowerCase(),E=n.headers[h];if(E!=null)if(f.isListSchema()){let C=f.getValueSchema();C.getMergedTraits().httpHeader=h;let A;C.isTimestampSchema()&&C.getSchema()===4?A=dp(E,",",2):A=go(E);let R=[];for(let O of A)R.push(await a.read(C,O.trim()));i[p]=R}else i[p]=await a.read(f,E)}else if(g.httpPrefixHeaders!==void 0){i[p]={};for(let[h,E]of Object.entries(n.headers))if(h.startsWith(g.httpPrefixHeaders)){let C=f.getValueSchema();C.getMergedTraits().httpHeader=h,i[p][h.slice(g.httpPrefixHeaders.length)]=await a.read(C,E)}}else g.httpResponseCode?i[p]=n.statusCode:l.push(p)}return l}}});var xb,cr,Tb=_(()=>{Ce();xb=T(Ee());fa();Na();cr=class extends wn{async serializeRequest(t,r,n){let s=this.serializer,o={},i={},a=await n.endpoint(),d=G.of(t?.input),l=d.getSchema(),p,f=new xb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(f,a),this.setHostPrefix(f,t,r));let g={...r};if(r){let h=d.getEventStreamMember();if(h){if(g[h]){let E={};for(let[C,A]of d.structIterator())C!==h&&g[C]&&(s.write(A,g[C]),E[C]=s.flush());p=await this.serializeEventStream({eventStream:g[h],requestSchema:d,initialRequest:E})}}else s.write(l,g),p=s.flush()}return f.headers=i,f.query=o,f.body=p,f.method="POST",f}async deserializeResponse(t,r,n){let s=this.deserializer,o=G.of(t.output),i={};if(n.statusCode>=300){let d=await Nt(n.body,r);throw d.byteLength>0&&Object.assign(i,await s.read(15,d)),await this.handleError(t,r,n,i,this.deserializeMetadata(n)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let d in n.headers){let l=n.headers[d];delete n.headers[d],n.headers[d.toLowerCase()]=l}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:n,responseSchema:o,initialResponseContainer:i});else{let d=await Nt(n.body,r);d.byteLength>0&&Object.assign(i,await s.read(o,d))}return i.$metadata=this.deserializeMetadata(n),i}}});var mp,pp=_(()=>{ha();mp=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>jt(a)).join("/"):jt(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e}});function yo(e,t){return new Pa(e,t)}var Cb,Pa,Ib=_(()=>{Cb=T(Ee());pp();Pa=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(t,r){this.input=t,this.context=r}async build(){let{hostname:t,protocol:r="https",port:n,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new Cb.HttpRequest({protocol:r,hostname:this.hostname||t,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(t){return this.hostname=t,this}bp(t){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+t}),this}p(t,r,n,s){return this.resolvePathStack.push(o=>{this.path=mp(o,this.input,t,r,n,s)}),this}h(t){return this.headers=t,this}q(t){return this.query=t,this}b(t){return this.body=t,this}m(t){return this.method=t,this}}});function yt(e,t){if(t.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:r,httpPrefixHeaders:n,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(t.httpBindings?typeof n=="string"||s?6:o||r?5:void 0:void 0)??t.timestampFormat.default}var Da=_(()=>{});var fp,Ab,xn,hp=_(()=>{Ce();lt();fp=T(He()),Ab=T(qe());ts();Da();xn=class extends ot{settings;constructor(t){super(),this.settings=t}read(t,r){let n=G.of(t);if(n.isListSchema())return go(r).map(s=>this.read(n.getValueSchema(),s));if(n.isBlobSchema())return(this.serdeContext?.base64Decoder??fp.fromBase64)(r);if(n.isTimestampSchema())switch(yt(n,this.settings)){case 5:return ap(r);case 6:return cp(r);case 7:return ho(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(n.isStringSchema()){let s=n.getMergedTraits().mediaType,o=r;if(s)return n.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=st.from(o)),o}return n.isNumericSchema()?Number(r):n.isBigIntegerSchema()?BigInt(r):n.isBigDecimalSchema()?new xe(r,"bigDecimal"):n.isBooleanSchema()?String(r).toLowerCase()==="true":r}base64ToUtf8(t){return(this.serdeContext?.utf8Encoder??Ab.toUtf8)((this.serdeContext?.base64Decoder??fp.fromBase64)(t))}}});var Oa,Tn,vb=_(()=>{Ce();Oa=T(qe());ts();hp();Tn=class extends ot{codecDeserializer;stringDeserializer;constructor(t,r){super(),this.codecDeserializer=t,this.stringDeserializer=new xn(r)}setSerdeContext(t){this.stringDeserializer.setSerdeContext(t),this.codecDeserializer.setSerdeContext(t),this.serdeContext=t}read(t,r){let n=G.of(t),s=n.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Oa.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(n,o(r));if(s.httpPayload){if(n.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Oa.fromUtf8;return typeof r=="string"?i(r):r}else if(n.isStringSchema())return"byteLength"in r?o(r):r}return this.codecDeserializer.read(n,r)}}});var gp,Eo,yp=_(()=>{Ce();lt();gp=T(He());ts();Da();Eo=class extends ot{settings;stringBuffer="";constructor(t){super(),this.settings=t}write(t,r){let n=G.of(t);switch(typeof r){case"object":if(r===null){this.stringBuffer="null";return}if(n.isTimestampSchema()){if(!(r instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${r} when schema expected Date in ${n.getName(!0)}`);switch(yt(n,this.settings)){case 5:this.stringBuffer=r.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=mo(r);break;case 7:this.stringBuffer=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",r),this.stringBuffer=String(r.getTime()/1e3)}return}if(n.isBlobSchema()&&"byteLength"in r){this.stringBuffer=(this.serdeContext?.base64Encoder??gp.toBase64)(r);return}if(n.isListSchema()&&Array.isArray(r)){let i="";for(let a of r){this.write([n.getValueSchema(),n.getMergedTraits()],a);let d=this.flush(),l=n.getValueSchema().isTimestampSchema()?d:np(d);i!==""&&(i+=", "),i+=l}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(r,null,2);break;case"string":let s=n.getMergedTraits().mediaType,o=r;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=st.from(o)),n.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??gp.toBase64)(o.toString());return}this.stringBuffer=r;break;default:this.stringBuffer=String(r)}}flush(){let t=this.stringBuffer;return this.stringBuffer="",t}}});var Cn,Rb=_(()=>{Ce();yp();Cn=class{codecSerializer;stringSerializer;buffer;constructor(t,r,n=new Eo(r)){this.codecSerializer=t,this.stringSerializer=n}setSerdeContext(t){this.codecSerializer.setSerdeContext(t),this.stringSerializer.setSerdeContext(t)}write(t,r){let n=G.of(t),s=n.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(n,r),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(n,r)}flush(){if(this.buffer!==void 0){let t=this.buffer;return this.buffer=void 0,t}return this.codecSerializer.flush()}}});var Nb={};gt(Nb,{FromStringShapeDeserializer:()=>xn,HttpBindingProtocol:()=>_n,HttpInterceptingShapeDeserializer:()=>Tn,HttpInterceptingShapeSerializer:()=>Cn,HttpProtocol:()=>wn,RequestBuilder:()=>Pa,RpcProtocol:()=>cr,SerdeContext:()=>ot,ToStringShapeSerializer:()=>Eo,collectBody:()=>Nt,determineTimestampFormat:()=>yt,extendedEncodeURIComponent:()=>jt,requestBuilder:()=>yo,resolvedPath:()=>mp});var ut=_(()=>{fa();ha();_b();Na();Tb();Ib();pp();hp();vb();Rb();yp();Da();ts()});var Pb=_(()=>{ut()});function UO(e,t,r){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[t]=r}var Db=_(()=>{});var In,Ob=_(()=>{In=class{authSchemes=new Map;constructor(t){for(let[r,n]of Object.entries(t))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(t){return this.authSchemes.get(t)}}});var kb,Ep,Sp,Mb=_(()=>{kb=T(Ee()),Ep=T(Pr()),Sp=class{async sign(t,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=kb.HttpRequest.clone(t);if(n.in===Ep.HttpApiKeyAuthLocation.QUERY)s.query[n.name]=r.apiKey;else if(n.in===Ep.HttpApiKeyAuthLocation.HEADER)s.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return s}}});var Lb,bp,Bb=_(()=>{Lb=T(Ee()),bp=class{async sign(t,r,n){let s=Lb.HttpRequest.clone(t);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${r.token}`,s}}});var dr,Ub=_(()=>{dr=class{async sign(t,r,n){return t}}});var $b=_(()=>{Mb();Bb();Ub()});var Fb,$O,wp,ka,_p,jb=_(()=>{Fb=e=>function(r){return ka(r)&&r.expiration.getTime()-Date.now()<e},$O=3e5,wp=Fb(3e5),ka=e=>e.expiration!==void 0,_p=(e,t,r)=>{if(e===void 0)return;let n=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,d=async l=>{o||(o=n(l));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return t===void 0?async l=>((!i||l?.forceRefresh)&&(s=await d(l)),s):async l=>((!i||l?.forceRefresh)&&(s=await d(l)),a?s:r(s)?(t(s)&&await d(l),s):(a=!0,s))}});var zb=_(()=>{Ob();$b();jb()});var An={};gt(An,{DefaultIdentityProviderConfig:()=>In,EXPIRATION_MS:()=>$O,HttpApiKeyAuthSigner:()=>Sp,HttpBearerAuthSigner:()=>bp,NoAuthSigner:()=>dr,createIsIdentityExpiredFunction:()=>Fb,createPaginator:()=>rE,doesIdentityRequireRefresh:()=>ka,getHttpAuthSchemeEndpointRuleSetPlugin:()=>eo,getHttpAuthSchemePlugin:()=>b0,getHttpSigningPlugin:()=>to,getSmithyContext:()=>g0,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>Fy,httpAuthSchemeMiddleware:()=>Zs,httpAuthSchemeMiddlewareOptions:()=>Wy,httpSigningMiddleware:()=>rm,httpSigningMiddlewareOptions:()=>Qy,isIdentityExpired:()=>wp,memoizeIdentityProvider:()=>_p,normalizeProvider:()=>kr,requestBuilder:()=>yo,setFeature:()=>UO});var it=_(()=>{Ly();Jy();eE();tE();nE();Pb();Db();zb()});var rs=N(vn=>{"use strict";var Tp=Pr(),Cp=class{capacity;data=new Map;parameters=[];constructor({size:t,params:r}){this.capacity=t??50,r&&(this.parameters=r)}get(t,r){let n=this.hash(t);if(n===!1)return r();if(!this.data.has(n)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(n,r())}return this.data.get(n)}size(){return this.data.size}hash(t){let r="",{parameters:n}=this;if(n.length===0)return!1;for(let s of n){let o=String(t[s]??"");if(o.includes("|;"))return!1;r+=o+"|;"}return r}},FO=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),qb=e=>FO.test(e)||e.startsWith("[")&&e.endsWith("]"),jO=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Ap=(e,t=!1)=>{if(!t)return jO.test(e);let r=e.split(".");for(let n of r)if(!Ap(n))return!1;return!0},Ip={},So="endpoints";function Br(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Br(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Br).join(", ")})`:JSON.stringify(e,null,2)}var Ye=class extends Error{constructor(t){super(t),this.name="EndpointError"}},zO=(e,t)=>e===t,qO=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new Ye(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new Ye(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r},Hb=(e,t)=>qO(t).reduce((r,n)=>{if(typeof r!="object")throw new Ye(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e),HO=e=>e!=null,VO=e=>!e,xp={[Tp.EndpointURLScheme.HTTP]:80,[Tp.EndpointURLScheme.HTTPS]:443},GO=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:g,port:h,protocol:E="",path:C="",query:A={}}=e,R=new URL(`${E}//${g}${h?`:${h}`:""}${C}`);return R.search=Object.entries(A).map(([O,Y])=>`${O}=${Y}`).join("&"),R}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let d=i.slice(0,-1);if(!Object.values(Tp.EndpointURLScheme).includes(d))return null;let l=qb(s),p=r.includes(`${n}:${xp[d]}`)||typeof e=="string"&&e.includes(`${n}:${xp[d]}`),f=`${n}${p?`:${xp[d]}`:""}`;return{scheme:d,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:l}},WO=(e,t)=>e===t,KO=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r),JO=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),YO={booleanEquals:zO,getAttr:Hb,isSet:HO,isValidHostLabel:Ap,not:VO,parseURL:GO,stringEquals:WO,substring:KO,uriEncode:JO},Vb=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[d,l]=a.split("#");r.push(Hb(n[d],l))}else r.push(n[a]);s=i+1}return r.join("")},XO=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e],Ma=(e,t,r)=>{if(typeof e=="string")return Vb(e,r);if(e.fn)return Wb.callFunction(e,r);if(e.ref)return XO(e,r);throw new Ye(`'${t}': ${String(e)} is not a string, function or reference.`)},Gb=({fn:e,argv:t},r)=>{let n=t.map(o=>["boolean","number"].includes(typeof o)?o:Wb.evaluateExpression(o,"arg",r)),s=e.split(".");return s[0]in Ip&&s[1]!=null?Ip[s[0]][s[1]](...n):YO[e](...n)},Wb={evaluateExpression:Ma,callFunction:Gb},QO=({assign:e,...t},r)=>{if(e&&e in r.referenceRecord)throw new Ye(`'${e}' is already defined in Reference Record.`);let n=Gb(t,r);return r.logger?.debug?.(`${So} evaluateCondition: ${Br(t)} = ${Br(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}},vp=(e=[],t)=>{let r={};for(let n of e){let{result:s,toAssign:o}=QO(n,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!s)return{result:s};o&&(r[o.name]=o.value,t.logger?.debug?.(`${So} assign: ${o.name} := ${Br(o.value)}`))}return{result:!0,referenceRecord:r}},ZO=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=Ma(o,"Header value entry",t);if(typeof i!="string")throw new Ye(`Header '${n}' value '${i}' is not a string`);return i})}),{}),Kb=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:Yb.getEndpointProperty(s,t)}),{}),Jb=(e,t)=>{if(Array.isArray(e))return e.map(r=>Jb(r,t));switch(typeof e){case"string":return Vb(e,t);case"object":if(e===null)throw new Ye(`Unexpected endpoint property: ${e}`);return Yb.getEndpointProperties(e,t);case"boolean":return e;default:throw new Ye(`Unexpected endpoint property type: ${typeof e}`)}},Yb={getEndpointProperty:Jb,getEndpointProperties:Kb},ek=(e,t)=>{let r=Ma(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new Ye(`Endpoint URL must be a string, got ${typeof r}`)},tk=(e,t)=>{let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=vp(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:d,headers:l}=n;return t.logger?.debug?.(`${So} Resolving endpoint from template: ${Br(n)}`),{...l!=null&&{headers:ZO(l,i)},...d!=null&&{properties:Kb(d,i)},url:ek(a,i)}},rk=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=vp(r,t);if(s)throw new Ye(Ma(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))},Xb=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=tk(r,t);if(n)return n}else if(r.type==="error")rk(r,t);else if(r.type==="tree"){let n=Qb.evaluateTreeRule(r,t);if(n)return n}else throw new Ye(`Unknown endpoint rule: ${r}`);throw new Ye("Rules evaluation failed")},nk=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=vp(r,t);if(s)return Qb.evaluateRules(n,{...t,referenceRecord:{...t.referenceRecord,...o}})},Qb={evaluateRules:Xb,evaluateTreeRule:nk},sk=(e,t)=>{let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;t.logger?.debug?.(`${So} Initial EndpointParams: ${Br(r)}`);let i=Object.entries(s).filter(([,l])=>l.default!=null).map(([l,p])=>[l,p.default]);if(i.length>0)for(let[l,p]of i)r[l]=r[l]??p;let a=Object.entries(s).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new Ye(`Missing required parameter: '${l}'`);let d=Xb(o,{endpointParams:r,logger:n,referenceRecord:{}});return t.logger?.debug?.(`${So} Resolved endpoint: ${Br(d)}`),d};vn.EndpointCache=Cp;vn.EndpointError=Ye;vn.customEndpointFunctions=Ip;vn.isIpAddress=qb;vn.isValidHostLabel=Ap;vn.resolveEndpoint=sk});var ew=N(Zb=>{"use strict";function ok(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}Zb.parseQueryString=ok});var Ur=N(rw=>{"use strict";var ik=ew(),tw=e=>{if(typeof e=="string")return tw(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=ik.parseQueryString(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};rw.parseUrl=tw});var ss=N(Dt=>{"use strict";var ns=rs(),ak=Ur(),sw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!sw(r))return!1;return!0}return!(!ns.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||ns.isIpAddress(e))},nw=":",ck="/",dk=e=>{let t=e.split(nw);if(t.length<6)return null;let[r,n,s,o,i,...a]=t;if(r!=="arn"||n===""||s===""||a.join(nw)==="")return null;let d=a.map(l=>l.split(ck)).flat();return{partition:n,service:s,region:o,accountId:i,resourceId:d}},lk=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],uk="1.1",ow={partitions:lk,version:uk},iw=ow,aw="",cw=e=>{let{partitions:t}=iw;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},dw=(e,t="")=>{iw=e,aw=t},mk=()=>{dw(ow,"")},pk=()=>aw,lw={isVirtualHostableS3Bucket:sw,parseArn:dk,partition:cw};ns.customEndpointFunctions.aws=lw;var fk=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>uw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},uw=e=>ak.parseUrl(e.url);Object.defineProperty(Dt,"EndpointError",{enumerable:!0,get:function(){return ns.EndpointError}});Object.defineProperty(Dt,"isIpAddress",{enumerable:!0,get:function(){return ns.isIpAddress}});Object.defineProperty(Dt,"resolveEndpoint",{enumerable:!0,get:function(){return ns.resolveEndpoint}});Dt.awsEndpointFunctions=lw;Dt.getUserAgentPrefix=pk;Dt.partition=cw;Dt.resolveDefaultAwsRegionalEndpointsConfig=fk;Dt.setPartitionInfo=dw;Dt.toEndpointV1=uw;Dt.useDefaultPartitionInfo=mk});var La,os,mw=_(()=>{La={warningEmitted:!1},os=e=>{e&&!La.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(La.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function $r(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var pw=_(()=>{});function fw(e,t,r){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[t]=r}var hw=_(()=>{});function gw(e,t,r){return e.$source||(e.$source={}),e.$source[t]=r,e}var yw=_(()=>{});var Fr={};gt(Fr,{emitWarningIfUnsupportedVersion:()=>os,setCredentialFeature:()=>$r,setFeature:()=>fw,setTokenFeature:()=>gw,state:()=>La});var Ot=_(()=>{mw();pw();hw();yw()});var Ew,Rp,Sw=_(()=>{Ew=T(Ee()),Rp=e=>Ew.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var is,Np=_(()=>{is=e=>new Date(Date.now()+e)});var bw,ww=_(()=>{Np();bw=(e,t)=>Math.abs(is(t).getTime()-e)>=3e5});var Pp,_w=_(()=>{ww();Pp=(e,t)=>{let r=Date.parse(e);return bw(r,t)?r-Date.now():t}});var Dp=_(()=>{Sw();Np();_w()});var xw,bo,as,mt,Op,kp=_(()=>{xw=T(Ee());Dp();bo=(e,t)=>{if(!t)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return t},as=async e=>{let t=bo("context",e.context),r=bo("config",e.config),n=t.endpointV2?.properties?.authSchemes?.[0],o=await bo("signer",r.signer)(n),i=e?.signingRegion,a=e?.signingRegionSet,d=e?.signingName;return{config:r,signer:o,signingRegion:i,signingRegionSet:a,signingName:d}},mt=class{async sign(t,r,n){if(!xw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await as(n),{config:o,signer:i}=s,{signingRegion:a,signingName:d}=s,l=n.context;if(l?.authSchemes?.length??!1){let[f,g]=l.authSchemes;f?.name==="sigv4a"&&g?.name==="sigv4"&&(a=g?.signingRegion??a,d=g?.signingName??d)}return await i.sign(t,{signingDate:is(o.systemClockOffset),signingRegion:a,signingService:d})}errorHandler(t){return r=>{let n=r.ServerTime??Rp(r.$response);if(n){let s=bo("config",t.config),o=s.systemClockOffset;s.systemClockOffset=Pp(n,s.systemClockOffset),s.systemClockOffset!==o&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(t,r){let n=Rp(t);if(n){let s=bo("config",r.config);s.systemClockOffset=Pp(n,s.systemClockOffset)}}},Op=mt});var Tw,wo,Cw=_(()=>{Tw=T(Ee());Dp();kp();wo=class extends mt{async sign(t,r,n){if(!Tw.HttpRequest.isInstance(t))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:d}=await as(n),p=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(t,{signingDate:is(s.systemClockOffset),signingRegion:p,signingService:d})}}});var Mp,Iw=_(()=>{Mp=e=>typeof e=="string"&&e.length>0?e.split(",").map(t=>t.trim()):[]});var Ba,Lp=_(()=>{Ba=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var Aw,vw,cs,Rw=_(()=>{Iw();Lp();Aw="AWS_AUTH_SCHEME_PREFERENCE",vw="auth_scheme_preference",cs={environmentVariableSelector:(e,t)=>{if(t?.signingName&&Ba(t.signingName)in e)return["httpBearerAuth"];if(Aw in e)return Mp(e[Aw])},configFileSelector:e=>{if(vw in e)return Mp(e[vw])},default:[]}});var at=N(Rn=>{"use strict";var ds=class e extends Error{name="ProviderError";tryNextLink;constructor(t,r=!0){let n,s=!0;typeof r=="boolean"?(n=void 0,s=r):r!=null&&typeof r=="object"&&(n=r.logger,s=r.tryNextLink??!0),super(t),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),n?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${t}`)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}},Bp=class e extends ds{name="CredentialsProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},Up=class e extends ds{name="TokenProviderError";constructor(t,r=!0){super(t,r),Object.setPrototypeOf(this,e.prototype)}},hk=(...e)=>async()=>{if(e.length===0)throw new ds("No providers in chain");let t;for(let r of e)try{return await r()}catch(n){if(t=n,n?.tryNextLink)continue;throw n}throw t},gk=e=>()=>Promise.resolve(e),yk=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async d=>((!o||d?.forceRefresh)&&(n=await a()),n):async d=>((!o||d?.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};Rn.CredentialsProviderError=Bp;Rn.ProviderError=ds;Rn.TokenProviderError=Up;Rn.chain=hk;Rn.fromStatic=gk;Rn.memoize=yk});var $p,Nw,Pw,Dw=_(()=>{it();$p=T(at()),Nw=e=>(e.sigv4aSigningRegionSet=kr(e.sigv4aSigningRegionSet),e),Pw={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(t=>t.trim());throw new $p.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(t=>t.trim());throw new $p.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var r_=N(ne=>{"use strict";var jr=Pm(),Nn=qe(),Ek=sm(),Lw=Ee(),Ow=rt(),Ua=ym(),Bw="X-Amz-Algorithm",Uw="X-Amz-Credential",Vp="X-Amz-Date",$w="X-Amz-SignedHeaders",Fw="X-Amz-Expires",Gp="X-Amz-Signature",Wp="X-Amz-Security-Token",Sk="X-Amz-Region-Set",Kp="authorization",Jp=Vp.toLowerCase(),jw="date",zw=[Kp,Jp,jw],qw=Gp.toLowerCase(),qa="x-amz-content-sha256",Hw=Wp.toLowerCase(),bk="host",Vw={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Gw=/^proxy-/,Ww=/^sec-/,wk=[/^proxy-/i,/^sec-/i],$a="AWS4-HMAC-SHA256",_k="AWS4-ECDSA-P256-SHA256",Kw="AWS4-HMAC-SHA256-PAYLOAD",Jw="UNSIGNED-PAYLOAD",Yw=50,Yp="aws4_request",Xw=3600*24*7,ls={},Fa=[],ja=(e,t,r)=>`${e}/${t}/${r}/${Yp}`,Qw=async(e,t,r,n,s)=>{let o=await kw(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${jr.toHex(o)}:${t.sessionToken}`;if(i in ls)return ls[i];for(Fa.push(i);Fa.length>Yw;)delete ls[Fa.shift()];let a=`AWS4${t.secretAccessKey}`;for(let d of[r,n,s,Yp])a=await kw(e,a,d);return ls[i]=a},xk=()=>{Fa.length=0,Object.keys(ls).forEach(e=>{delete ls[e]})},kw=(e,t,r)=>{let n=new e(t);return n.update(Nn.toUint8Array(r)),n.digest()},Fp=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in Vw||t?.has(o)||Gw.test(o)||Ww.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n},za=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===qa)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Ek.isArrayBuffer(t)){let n=new r;return n.update(Nn.toUint8Array(t)),jr.toHex(await n.digest())}return Jw},jp=class{format(t){let r=[];for(let o of Object.keys(t)){let i=Nn.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=Nn.fromUtf8(t.value),d=new DataView(new ArrayBuffer(3+a.byteLength));d.setUint8(0,7),d.setUint16(1,a.byteLength,!1);let l=new Uint8Array(d.buffer);return l.set(a,3),l;case"timestamp":let p=new Uint8Array(9);return p[0]=8,p.set(zp.fromNumber(t.value.valueOf()).bytes,1),p;case"uuid":if(!Tk.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(jr.fromHex(t.value.replace(/\-/g,"")),1),f}}},Tk=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,zp=class e{bytes;constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&Mw(r),new e(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&Mw(t),parseInt(jr.toHex(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function Mw(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Zw=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1},e_=(e,t={})=>{let{headers:r,query:n={}}=Lw.HttpRequest.clone(e);for(let s of Object.keys(r)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!t.unhoistableHeaders?.has(o)||t.hoistableHeaders?.has(o))&&(n[s]=r[s],delete r[s])}return{...e,headers:r,query:n}},qp=e=>{e=Lw.HttpRequest.clone(e);for(let t of Object.keys(e.headers))zw.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e},t_=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e)){if(n.toLowerCase()===qw)continue;let s=Ua.escapeUri(n);t.push(s);let o=e[n];typeof o=="string"?r[s]=`${s}=${Ua.escapeUri(o)}`:Array.isArray(o)&&(r[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${Ua.escapeUri(a)}`]),[]).sort().join("&"))}return t.sort().map(n=>r[n]).filter(n=>n).join("&")},Ck=e=>Ik(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Ik=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,Ha=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=Ow.normalizeProvider(n),this.credentialProvider=Ow.normalizeProvider(r)}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${t_(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n,s){let o=new this.sha256;o.update(Nn.toUint8Array(n));let i=await o.digest();return`${s}
${t}
${r}
${jr.toHex(i)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))o?.length!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&t?.endsWith("/")?"/":""}`;return Ua.escapeUri(n).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let r=Ck(t).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},Hp=class extends Ha{headerFormatter=new jp;constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i})}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:d,signingRegion:l,signingService:p}=r,f=await this.credentialProvider();this.validateResolvedCredentials(f);let g=l??await this.regionProvider(),{longDate:h,shortDate:E}=this.formatDate(n);if(s>Xw)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let C=ja(E,g,p??this.service),A=e_(qp(t),{unhoistableHeaders:i,hoistableHeaders:d});f.sessionToken&&(A.query[Wp]=f.sessionToken),A.query[Bw]=$a,A.query[Uw]=`${f.accessKeyId}/${C}`,A.query[Vp]=h,A.query[Fw]=s.toString(10);let R=Fp(A,o,a);return A.query[$w]=this.getCanonicalHeaderList(R),A.query[Gp]=await this.getSignature(h,C,this.getSigningKey(f,g,E,p),this.createCanonicalRequest(A,R,await za(t,this.sha256))),A}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):t.message?this.signMessage(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:d,longDate:l}=this.formatDate(n),p=ja(d,a,i??this.service),f=await za({headers:{},body:r},this.sha256),g=new this.sha256;g.update(t);let h=jr.toHex(await g.digest()),E=[Kw,l,p,s,h,f].join(`
`);return this.signString(E,{signingDate:n,signingRegion:a,signingService:i})}async signMessage(t,{signingDate:r=new Date,signingRegion:n,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:r,signingRegion:n,signingService:s,priorSignature:t.priorSignature}).then(i=>({message:t.message,signature:i}))}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=this.formatDate(r),d=new this.sha256(await this.getSigningKey(o,i,a,s));return d.update(Nn.toUint8Array(t)),jr.toHex(await d.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let d=o??await this.regionProvider(),l=qp(t),{longDate:p,shortDate:f}=this.formatDate(r),g=ja(f,d,i??this.service);l.headers[Jp]=p,a.sessionToken&&(l.headers[Hw]=a.sessionToken);let h=await za(l,this.sha256);!Zw(qa,l.headers)&&this.applyChecksum&&(l.headers[qa]=h);let E=Fp(l,s,n),C=await this.getSignature(p,g,this.getSigningKey(a,d,f,i),this.createCanonicalRequest(l,E,h));return l.headers[Kp]=`${$a} Credential=${a.accessKeyId}/${g}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${C}`,l}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s,$a),i=new this.sha256(await n);return i.update(Nn.toUint8Array(o)),jr.toHex(await i.digest())}getSigningKey(t,r,n,s){return Qw(this.sha256,t,n,r,s||this.service)}},Ak={SignatureV4a:null};ne.ALGORITHM_IDENTIFIER=$a;ne.ALGORITHM_IDENTIFIER_V4A=_k;ne.ALGORITHM_QUERY_PARAM=Bw;ne.ALWAYS_UNSIGNABLE_HEADERS=Vw;ne.AMZ_DATE_HEADER=Jp;ne.AMZ_DATE_QUERY_PARAM=Vp;ne.AUTH_HEADER=Kp;ne.CREDENTIAL_QUERY_PARAM=Uw;ne.DATE_HEADER=jw;ne.EVENT_ALGORITHM_IDENTIFIER=Kw;ne.EXPIRES_QUERY_PARAM=Fw;ne.GENERATED_HEADERS=zw;ne.HOST_HEADER=bk;ne.KEY_TYPE_IDENTIFIER=Yp;ne.MAX_CACHE_SIZE=Yw;ne.MAX_PRESIGNED_TTL=Xw;ne.PROXY_HEADER_PATTERN=Gw;ne.REGION_SET_PARAM=Sk;ne.SEC_HEADER_PATTERN=Ww;ne.SHA256_HEADER=qa;ne.SIGNATURE_HEADER=qw;ne.SIGNATURE_QUERY_PARAM=Gp;ne.SIGNED_HEADERS_QUERY_PARAM=$w;ne.SignatureV4=Hp;ne.SignatureV4Base=Ha;ne.TOKEN_HEADER=Hw;ne.TOKEN_QUERY_PARAM=Wp;ne.UNSIGNABLE_PATTERNS=wk;ne.UNSIGNED_PAYLOAD=Jw;ne.clearCredentialCache=xk;ne.createScope=ja;ne.getCanonicalHeaders=Fp;ne.getCanonicalQuery=t_;ne.getPayloadHash=za;ne.getSigningKey=Qw;ne.hasHeader=Zw;ne.moveHeadersToQuery=e_;ne.prepareRequest=qp;ne.signatureV4aContainer=Ak});function vk(e,{credentials:t,credentialDefaultProvider:r}){let n;return t?t?.memoized?n=t:n=_p(t,wp,ka):r?n=kr(r(Object.assign({},e,{parentClientConfig:e}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function Rk(e,t){if(t.configBound)return t;let r=async n=>t({...n,callerClientConfig:e});return r.memoized=t.memoized,r.configBound=!0,r}var Xp,Pn,n_,s_=_(()=>{Ot();it();Xp=T(r_()),Pn=e=>{let t=e.credentials,r=!!e.credentials,n;Object.defineProperty(e,"credentials",{set(l){l&&l!==t&&l!==n&&(r=!0),t=l;let p=vk(e,{credentials:t,credentialDefaultProvider:e.credentialDefaultProvider}),f=Rk(e,p);r&&!f.attributed?(n=async g=>f(g).then(h=>$r(h,"CREDENTIALS_CODE","e")),n.memoized=f.memoized,n.configBound=f.configBound,n.attributed=!0):n=f},get(){return n},enumerable:!0,configurable:!0}),e.credentials=t;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=kr(e.signer):e.regionInfoProvider?a=()=>kr(e.region)().then(async l=>[await e.regionInfoProvider(l,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},l]).then(([l,p])=>{let{signingRegion:f,signingService:g}=l;e.signingRegion=e.signingRegion||f||p,e.signingName=e.signingName||g||e.serviceId;let h={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},E=e.signerConstructor||Xp.SignatureV4;return new E(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await kr(e.region)(),properties:{}},l);let p=l.signingRegion,f=l.signingName;e.signingRegion=e.signingRegion||p,e.signingName=e.signingName||f||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},h=e.signerConstructor||Xp.SignatureV4;return new h(g)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},n_=Pn});var o_=_(()=>{kp();Cw();Rw();Dw();s_()});var i_={};gt(i_,{AWSSDKSigV4Signer:()=>Op,AwsSdkSigV4ASigner:()=>wo,AwsSdkSigV4Signer:()=>mt,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>cs,NODE_SIGV4A_CONFIG_OPTIONS:()=>Pw,getBearerTokenEnvKey:()=>Ba,resolveAWSSDKSigV4Config:()=>n_,resolveAwsSdkSigV4AConfig:()=>Nw,resolveAwsSdkSigV4Config:()=>Pn,validateSigningProperties:()=>as});var Qp=_(()=>{o_();Lp()});function zr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function Va(e){return e[Zp]=!0,e}var Zp,Ga=_(()=>{Zp=Symbol("@smithy/core/cbor::tagSymbol")});function d_(e){Se=e,ur=new DataView(Se.buffer,Se.byteOffset,Se.byteLength)}function Vt(e,t){if(e>=t)throw new Error("unexpected end of (decode) payload.");let r=(Se[e]&224)>>5,n=Se[e]&31;switch(r){case 0:case 1:case 6:let s,o;if(n<24)s=n,o=1;else switch(n){case 24:case 25:case 26:case 27:let i=u_[n],a=i+1;if(o=a,t-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let d=e+1;i===1?s=Se[d]:i===2?s=ur.getUint16(d):i===4?s=ur.getUint32(d):s=ur.getBigUint64(d);break;default:throw new Error(`unexpected minor value ${n}.`)}if(r===0)return ae=o,ef(s);if(r===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ae=o,ef(i)}else if(n===2||n===3){let i=Co(e+o,t),a=BigInt(0),d=e+o+ae;for(let l=d;l<d+i;++l)a=a<<BigInt(8)|BigInt(Se[l]);return ae=o+ae+i,n===3?-a-BigInt(1):a}else if(n===4){let i=Vt(e+o,t),[a,d]=i,l=d<0?-1:1,p="0".repeat(Math.abs(a)+1)+String(BigInt(l)*BigInt(d)),f,g=d<0?"-":"";return f=a===0?p:p.slice(0,p.length+a)+"."+p.slice(a),f=f.replace(/^0+/g,""),f===""&&(f="0"),f[0]==="."&&(f="0"+f),f=g+f,ae=o+ae,lp(f)}else{let i=Vt(e+o,t);return ae=o+ae,Va({tag:ef(s),value:i})}case 3:case 5:case 4:case 2:if(n===31)switch(r){case 3:return Lk(e,t);case 5:return jk(e,t);case 4:return $k(e,t);case 2:return Bk(e,t)}else switch(r){case 3:return Mk(e,t);case 5:return Fk(e,t);case 4:return Uk(e,t);case 2:return af(e,t)}default:return zk(e,t)}}function l_(e,t,r){return Dk&&e.constructor?.name==="Buffer"?e.toString("utf-8",t,r):a_?a_.decode(e.subarray(t,r)):(0,c_.toUtf8)(e.subarray(t,r))}function Ok(e){let t=Number(e);return(t<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<t)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${t} with loss of precision.`)),t}function kk(e,t){let r=e>>7,n=(e&124)>>2,s=(e&3)<<8|t,o=r===0?1:-1,i,a;if(n===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(n===31)return s===0?o*(1/0):NaN;i=Math.pow(2,n-15),a=1}return a+=s/1024,o*(i*a)}function Co(e,t){let r=Se[e]&31;if(r<24)return ae=1,r;if(r===24||r===25||r===26||r===27){let n=u_[r];if(ae=n+1,t-e<ae)throw new Error(`countLength ${n} greater than remaining buf len.`);let s=e+1;return n===1?Se[s]:n===2?ur.getUint16(s):n===4?ur.getUint32(s):Ok(ur.getBigUint64(s))}throw new Error(`unexpected minor value ${r}.`)}function Mk(e,t){let r=Co(e,t),n=ae;if(e+=n,t-e<r)throw new Error(`string len ${r} greater than remaining buf len.`);let s=l_(Se,e,e+r);return ae=n+r,s}function Lk(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Se[e]===255){let d=zr(r.length);return d.set(r,0),ae=e-n+2,l_(d,0,d.length)}let s=(Se[e]&224)>>5,o=Se[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=af(e,t);e+=ae;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function af(e,t){let r=Co(e,t),n=ae;if(e+=n,t-e<r)throw new Error(`unstructured byte string len ${r} greater than remaining buf len.`);let s=Se.subarray(e,e+r);return ae=n+r,s}function Bk(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Se[e]===255){let d=zr(r.length);return d.set(r,0),ae=e-n+2,d}let s=(Se[e]&224)>>5,o=Se[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=af(e,t);e+=ae;for(let d=0;d<i.length;++d)r.push(i[d])}throw new Error("expected break marker.")}function Uk(e,t){let r=Co(e,t),n=ae;e+=n;let s=e,o=Array(r);for(let i=0;i<r;++i){let a=Vt(e,t),d=ae;o[i]=a,e+=d}return ae=n+(e-s),o}function $k(e,t){e+=1;let r=[];for(let n=e;e<t;){if(Se[e]===255)return ae=e-n+2,r;let s=Vt(e,t);e+=ae,r.push(s)}throw new Error("expected break marker.")}function Fk(e,t){let r=Co(e,t),n=ae;e+=n;let s=e,o={};for(let i=0;i<r;++i){if(e>=t)throw new Error("unexpected end of map payload.");let a=(Se[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let d=Vt(e,t);e+=ae;let l=Vt(e,t);e+=ae,o[d]=l}return ae=n+(e-s),o}function jk(e,t){e+=1;let r=e,n={};for(;e<t;){if(e>=t)throw new Error("unexpected end of map payload.");if(Se[e]===255)return ae=e-r+2,n;let s=(Se[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=Vt(e,t);e+=ae;let i=Vt(e,t);e+=ae,n[o]=i}throw new Error("expected break marker.")}function zk(e,t){let r=Se[e]&31;switch(r){case 21:case 20:return ae=1,r===21;case 22:return ae=1,null;case 23:return ae=1,null;case 25:if(t-e<3)throw new Error("incomplete float16 at end of buf.");return ae=3,kk(Se[e+1],Se[e+2]);case 26:if(t-e<5)throw new Error("incomplete float32 at end of buf.");return ae=5,ur.getFloat32(e+1);case 27:if(t-e<9)throw new Error("incomplete float64 at end of buf.");return ae=9,ur.getFloat64(e+1);default:throw new Error(`unexpected minor value ${r}.`)}}function ef(e){if(typeof e=="number")return e;let t=Number(e);return Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:e}var c_,Pk,Dk,Se,ur,a_,ae,u_,m_=_(()=>{lt();c_=T(qe());Ga();Pk=typeof TextDecoder<"u",Dk=typeof Buffer<"u",Se=zr(0),ur=new DataView(Se.buffer,Se.byteOffset,Se.byteLength),a_=Pk?new TextDecoder:null,ae=0;u_={24:1,25:2,26:4,27:8}});function df(e){Z.byteLength-W<e&&(W<16e6?Ka(Math.max(Z.byteLength*4,Z.byteLength+e)):Ka(Z.byteLength+e+16e6))}function lf(){let e=zr(W);return e.set(Z.subarray(0,W),0),W=0,e}function Ka(e){let t=Z;Z=zr(e),t&&(t.copy?t.copy(Z,0,0,t.byteLength):Z.set(t,0)),fr=new DataView(Z.buffer,Z.byteOffset,Z.byteLength)}function pr(e,t){t<24?Z[W++]=e<<5|t:t<256?(Z[W++]=e<<5|24,Z[W++]=t):t<65536?(Z[W++]=e<<5|25,fr.setUint16(W,t),W+=2):t<2**32?(Z[W++]=e<<5|26,fr.setUint32(W,t),W+=4):(Z[W++]=e<<5|27,fr.setBigUint64(W,typeof t=="bigint"?t:BigInt(t)),W+=8)}function h_(e){let t=[e];for(;t.length;){let r=t.pop();if(df(typeof r=="string"?r.length*4:64),typeof r=="string"){if(p_)pr(3,Buffer.byteLength(r)),W+=Z.write(r,W);else{let n=(0,f_.fromUtf8)(r);pr(3,n.byteLength),Z.set(n,W),W+=n.byteLength}continue}else if(typeof r=="number"){if(Number.isInteger(r)){let n=r>=0,s=n?0:1,o=n?r:-r-1;o<24?Z[W++]=s<<5|o:o<256?(Z[W++]=s<<5|24,Z[W++]=o):o<65536?(Z[W++]=s<<5|25,Z[W++]=o>>8,Z[W++]=o):o<4294967296?(Z[W++]=s<<5|26,fr.setUint32(W,o),W+=4):(Z[W++]=s<<5|27,fr.setBigUint64(W,BigInt(o)),W+=8);continue}Z[W++]=251,fr.setFloat64(W,r),W+=8;continue}else if(typeof r=="bigint"){let n=r>=0,s=n?0:1,o=n?r:-r-BigInt(1),i=Number(o);if(i<24)Z[W++]=s<<5|i;else if(i<256)Z[W++]=s<<5|24,Z[W++]=i;else if(i<65536)Z[W++]=s<<5|25,Z[W++]=i>>8,Z[W++]=i&255;else if(i<4294967296)Z[W++]=s<<5|26,fr.setUint32(W,i),W+=4;else if(o<BigInt("18446744073709551616"))Z[W++]=s<<5|27,fr.setBigUint64(W,o),W+=8;else{let a=o.toString(2),d=new Uint8Array(Math.ceil(a.length/8)),l=o,p=0;for(;d.byteLength-++p>=0;)d[d.byteLength-p]=Number(l&BigInt(255)),l>>=BigInt(8);df(d.byteLength*2),Z[W++]=n?194:195,p_?pr(2,Buffer.byteLength(d)):pr(2,d.byteLength),Z.set(d,W),W+=d.byteLength}continue}else if(r===null){Z[W++]=246;continue}else if(typeof r=="boolean"){Z[W++]=224|(r?21:20);continue}else{if(typeof r>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(r)){for(let n=r.length-1;n>=0;--n)t.push(r[n]);pr(4,r.length);continue}else if(typeof r.byteLength=="number"){df(r.length*2),pr(2,r.length),Z.set(r,W),W+=r.byteLength;continue}else if(typeof r=="object"){if(r instanceof xe){let s=r.string.indexOf("."),o=s===-1?0:s-r.string.length+1,i=BigInt(r.string.replace(".",""));Z[W++]=196,t.push(i),t.push(o),pr(4,2);continue}if(r[Zp])if("tag"in r&&"value"in r){t.push(r.value),pr(6,r.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(r));let n=Object.keys(r);for(let s=n.length-1;s>=0;--s){let o=n[s];t.push(r[o]),t.push(o)}pr(5,n.length);continue}}throw new Error(`data type ${r?.constructor?.name??typeof r} not compatible for encoding.`)}}var f_,p_,qk,Z,fr,W,g_=_(()=>{lt();f_=T(qe());Ga();p_=typeof Buffer<"u",qk=2048,Z=zr(qk),fr=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),W=0});var uf,y_=_(()=>{m_();g_();uf={deserialize(e){return d_(e),Vt(0,e.length)},serialize(e){try{return h_(e),lf()}catch(t){throw lf(),t}},resizeEncodingBuffer(e){Ka(e)}}});var Ja,Ya,Xa=_(()=>{Ga();Ja=e=>Va({tag:1,value:e.getTime()/1e3}),Ya=(e,t)=>{let r=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(t.__type!==void 0)return r(t.__type);let n=Object.keys(t).find(s=>s.toLowerCase()==="code");if(n&&t[n]!==void 0)return r(t[n])}});var ff,Qa,mf,pf,hf=_(()=>{ut();Ce();lt();ff=T(He());y_();Xa();Qa=class extends ot{createSerializer(){let t=new mf;return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new pf;return t.setSerdeContext(this.serdeContext),t}},mf=class extends ot{value;write(t,r){this.value=this.serialize(t,r)}serialize(t,r){let n=G.of(t);if(r==null)return n.isIdempotencyToken()?(0,Ht.v4)():r;if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??ff.fromBase64)(r):r;if(n.isTimestampSchema())return typeof r=="number"||typeof r=="bigint"?Ja(new Date(Number(r)/1e3|0)):Ja(r);if(typeof r=="function"||typeof r=="object"){let s=r;if(n.isListSchema()&&Array.isArray(s)){let i=!!n.getMergedTraits().sparse,a=[],d=0;for(let l of s){let p=this.serialize(n.getValueSchema(),l);(p!=null||i)&&(a[d++]=p)}return a}if(s instanceof Date)return Ja(s);let o={};if(n.isMapSchema()){let i=!!n.getMergedTraits().sparse;for(let a of Object.keys(s)){let d=this.serialize(n.getValueSchema(),s[a]);(d!=null||i)&&(o[a]=d)}}else if(n.isStructSchema())for(let[i,a]of n.structIterator()){let d=this.serialize(a,s[i]);d!=null&&(o[i]=d)}else if(n.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(n.getValueSchema(),s[i]);return o}return r}flush(){let t=uf.serialize(this.value);return this.value=void 0,t}},pf=class extends ot{read(t,r){let n=uf.deserialize(r);return this.readValue(t,n)}readValue(t,r){let n=G.of(t);if(n.isTimestampSchema()&&typeof r=="number")return ho(r);if(n.isBlobSchema())return typeof r=="string"?(this.serdeContext?.base64Decoder??ff.fromBase64)(r):r;if(typeof r>"u"||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="bigint"||typeof r=="symbol")return r;if(typeof r=="function"||typeof r=="object"){if(r===null)return null;if("byteLength"in r||r instanceof Date||n.isDocumentSchema())return r;if(n.isListSchema()){let o=[],i=n.getValueSchema(),a=!!n.getMergedTraits().sparse;for(let d of r){let l=this.readValue(i,d);(l!=null||a)&&o.push(l)}return o}let s={};if(n.isMapSchema()){let o=!!n.getMergedTraits().sparse,i=n.getValueSchema();for(let a of Object.keys(r)){let d=this.readValue(i,r[a]);(d!=null||o)&&(s[a]=d)}}else if(n.isStructSchema())for(let[o,i]of n.structIterator())s[o]=this.readValue(i,r[o]);return s}else return r}}});var E_,Za,S_=_(()=>{ut();Ce();E_=T(rt());hf();Xa();Za=class extends cr{codec=new Qa;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:t}){super({defaultNamespace:t})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Pt(t.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,E_.getSmithyContext)(n),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=Ya(n,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let d={$metadata:o,$response:n,$fault:n.statusCode<=500?"client":"server"},l=Be.for(a),p;try{p=l.getSchema(i)}catch{s.Message&&(s.message=s.Message);let R=Be.for("smithy.ts.sdk.synthetic."+a),O=R.getBaseException();if(O){let Y=R.getErrorCtor(O);throw Object.assign(new Y({name:i}),d,s)}throw Object.assign(new Error(i),d,s)}let f=G.of(p),g=l.getErrorCtor(p),h=s.message??s.Message??"Unknown",E=new g(h),C={};for(let[A,R]of f.structIterator())C[A]=this.deserializer.readValue(R,s[A]);throw Object.assign(E,d,{$fault:f.getMergedTraits().error,message:h},C)}getDefaultContentType(){return"application/cbor"}}});var b_=_(()=>{Xa();S_();hf()});var _t,ms=_(()=>{Ce();_t=class{resolveRestContentType(t,r){let n=r.getMemberSchemas(),s=Object.values(n).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":t)}else if(!r.isUnitSchema()&&Object.values(n).find(i=>{let{httpQuery:a,httpQueryParams:d,httpHeader:l,httpLabel:p,httpPrefixHeaders:f}=i.getMergedTraits();return!a&&!d&&!l&&!p&&f===void 0}))return t}async getErrorSchemaOrThrowBaseException(t,r,n,s,o,i){let a=r,d=t;t.includes("#")&&([a,d]=t.split("#"));let l={$metadata:o,$response:n,$fault:n.statusCode<500?"client":"server"},p=Be.for(a);try{return{errorSchema:i?.(p,d)??p.getSchema(t),errorMetadata:l}}catch{s.message=s.message??s.Message??"UnknownError";let g=Be.for("smithy.ts.sdk.synthetic."+a),h=g.getBaseException();if(h){let E=g.getErrorCtor(h)??Error;throw Object.assign(new E({name:d}),l,s)}throw Object.assign(new Error(d),l,s)}}setQueryCompatError(t,r){let n=r.headers?.["x-amzn-query-error"];if(t!==void 0&&n!=null){let[s,o]=n.split(";"),i=Object.entries(t),a={Code:s,Type:o};Object.assign(t,a);for(let[d,l]of i)a[d]=l;delete a.__type,t.Error=a}}queryCompatOutput(t,r){t.Error&&(r.Error=t.Error),t.Type&&(r.Type=t.Type),t.Code&&(r.Code=t.Code)}}});var gf,w_=_(()=>{b_();Ce();ms();gf=class extends Za{awsQueryCompatible;mixin=new _t;constructor({defaultNamespace:t,awsQueryCompatible:r}){super({defaultNamespace:t}),this.awsQueryCompatible=!!r}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=Ya(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=G.of(a),p=s.message??s.Message??"Unknown",f=Be.for(a[1]).getErrorCtor(a)??Error,g=new f(p),h={};for(let[E,C]of l.structIterator())h[E]=this.deserializer.readValue(C,s[E]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:p},h)}}});var Hk,Vk,Gk,__=_(()=>{Hk=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let t=new Error(`Received number ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}if(typeof e=="boolean"){let t=new Error(`Received boolean ${e} where a string was expected.`);return t.name="Warning",console.warn(t),String(e)}return e},Vk=e=>{if(e==null)return e;if(typeof e=="string"){let t=e.toLowerCase();if(e!==""&&t!=="false"&&t!=="true"){let r=new Error(`Received string "${e}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return e!==""&&t!=="false"}return e},Gk=e=>{if(e==null)return e;if(typeof e=="string"){let t=Number(e);if(t.toString()!==e){let r=new Error(`Received string "${e}" where a number was expected.`);return r.name="Warning",console.warn(r),e}return t}return e}});var Xe,Gr=_(()=>{Xe=class{serdeContext;setSerdeContext(t){this.serdeContext=t}}});function x_(e,t,r){if(r?.source){let n=r.source;if(typeof t=="number"&&(t>Number.MAX_SAFE_INTEGER||t<Number.MIN_SAFE_INTEGER||n!==String(t)))return n.includes(".")?new xe(n,"bigDecimal"):BigInt(n)}return t}var T_=_(()=>{lt()});var v_=N(A_=>{"use strict";var Dn=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},Wr=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,yf=()=>{let e=[],t=[],r=!1,n=new Set,s=f=>f.sort((g,h)=>C_[h.step]-C_[g.step]||I_[h.priority||"normal"]-I_[g.priority||"normal"]),o=f=>{let g=!1,h=E=>{let C=Dn(E.name,E.aliases);if(C.includes(f)){g=!0;for(let A of C)n.delete(A);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},i=f=>{let g=!1,h=E=>{if(E.middleware===f){g=!0;for(let C of Dn(E.name,E.aliases))n.delete(C);return!1}return!0};return e=e.filter(h),t=t.filter(h),g},a=f=>(e.forEach(g=>{f.add(g.middleware,{...g})}),t.forEach(g=>{f.addRelativeTo(g.middleware,{...g})}),f.identifyOnResolve?.(p.identifyOnResolve()),f),d=f=>{let g=[];return f.before.forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g.push(f),f.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?g.push(h):g.push(...d(h))}),g},l=(f=!1)=>{let g=[],h=[],E={};return e.forEach(A=>{let R={...A,before:[],after:[]};for(let O of Dn(R.name,R.aliases))E[O]=R;g.push(R)}),t.forEach(A=>{let R={...A,before:[],after:[]};for(let O of Dn(R.name,R.aliases))E[O]=R;h.push(R)}),h.forEach(A=>{if(A.toMiddleware){let R=E[A.toMiddleware];if(R===void 0){if(f)return;throw new Error(`${A.toMiddleware} is not found when adding ${Wr(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&R.after.push(A),A.relation==="before"&&R.before.push(A)}}),s(g).map(d).reduce((A,R)=>(A.push(...R),A),[])},p={add:(f,g={})=>{let{name:h,override:E,aliases:C}=g,A={step:"initialize",priority:"normal",middleware:f,...g},R=Dn(h,C);if(R.length>0){if(R.some(O=>n.has(O))){if(!E)throw new Error(`Duplicate middleware name '${Wr(h,C)}'`);for(let O of R){let Y=e.findIndex(K=>K.name===O||K.aliases?.some(le=>le===O));if(Y===-1)continue;let X=e[Y];if(X.step!==A.step||A.priority!==X.priority)throw new Error(`"${Wr(X.name,X.aliases)}" middleware with ${X.priority} priority in ${X.step} step cannot be overridden by "${Wr(h,C)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(Y,1)}}for(let O of R)n.add(O)}e.push(A)},addRelativeTo:(f,g)=>{let{name:h,override:E,aliases:C}=g,A={middleware:f,...g},R=Dn(h,C);if(R.length>0){if(R.some(O=>n.has(O))){if(!E)throw new Error(`Duplicate middleware name '${Wr(h,C)}'`);for(let O of R){let Y=t.findIndex(K=>K.name===O||K.aliases?.some(le=>le===O));if(Y===-1)continue;let X=t[Y];if(X.toMiddleware!==A.toMiddleware||X.relation!==A.relation)throw new Error(`"${Wr(X.name,X.aliases)}" middleware ${X.relation} "${X.toMiddleware}" middleware cannot be overridden by "${Wr(h,C)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);t.splice(Y,1)}}for(let O of R)n.add(O)}t.push(A)},clone:()=>a(yf()),use:f=>{f.applyToStack(p)},remove:f=>typeof f=="string"?o(f):i(f),removeByTag:f=>{let g=!1,h=E=>{let{tags:C,name:A,aliases:R}=E;if(C&&C.includes(f)){let O=Dn(A,R);for(let Y of O)n.delete(Y);return g=!0,!1}return!0};return e=e.filter(h),t=t.filter(h),g},concat:f=>{let g=a(yf());return g.use(f),g.identifyOnResolve(r||g.identifyOnResolve()||(f.identifyOnResolve?.()??!1)),g},applyToStack:a,identify:()=>l(!0).map(f=>{let g=f.step??f.relation+" "+f.toMiddleware;return Wr(f.name,f.aliases)+" - "+g}),identifyOnResolve(f){return typeof f=="boolean"&&(r=f),r},resolve:(f,g)=>{for(let h of l().map(E=>E.middleware).reverse())f=h(f,g);return r&&console.log(p.identify()),f}};return p},C_={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},I_={high:3,normal:2,low:1};A_.constructStack=yf});var se=N(he=>{"use strict";var P_=v_(),If=(ut(),de(Nb)),Sf=Pr(),Wk=(Ce(),de(_S)),R_=(lt(),de(hb)),bf=class{config;middlewareStack=P_.constructStack();initConfig;handlers;constructor(t){this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let d=this.handlers;d.has(t.constructor)?a=d.get(t.constructor):(a=t.resolveMiddleware(this.middlewareStack,this.config,s),d.set(t.constructor,a))}else delete this.handlers,a=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(t).then(d=>o(null,d.output),d=>o(d)).catch(()=>{});else return a(t).then(d=>d.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Ef="***SensitiveInformation***";function wf(e,t){if(t==null)return t;let r=Wk.NormalizedSchema.of(e);if(r.getMergedTraits().sensitive)return Ef;if(r.isListSchema()){if(!!r.getValueSchema().getMergedTraits().sensitive)return Ef}else if(r.isMapSchema()){if(!!r.getKeySchema().getMergedTraits().sensitive||!!r.getValueSchema().getMergedTraits().sensitive)return Ef}else if(r.isStructSchema()&&typeof t=="object"){let n=t,s={};for(let[o,i]of r.structIterator())n[o]!=null&&(s[o]=wf(i,n[o]));return s}return t}var ec=class{middlewareStack=P_.constructStack();schema;static classBuilder(){return new _f}resolveMiddlewareWithContext(t,r,n,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,smithyContext:l,additionalContext:p,CommandCtor:f}){for(let A of s.bind(this)(f,t,r,n))this.middlewareStack.use(A);let g=t.concat(this.middlewareStack),{logger:h}=r,E={logger:h,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,[Sf.SMITHY_CONTEXT_KEY]:{commandInstance:this,...l},...p},{requestHandler:C}=r;return g.resolve(A=>C.handle(A.request,n||{}),E)}},_f=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}sc(t){return this._operationSchema=t,this._smithyContext.operationSchema=t,this}build(){let t=this,r;return r=class extends ec{input;static getEndpointParameterInstructions(){return t._ep}constructor(...[n]){super(),this.input=n??{},t._init(this),this.schema=t._operationSchema}resolveMiddleware(n,s,o){let i=t._operationSchema,a=i?.[4]??i?.input,d=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(n,s,o,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog??(i?wf.bind(null,a):l=>l),outputFilterSensitiveLog:t._outputFilterSensitiveLog??(i?wf.bind(null,d):l=>l),smithyContext:t._smithyContext,additionalContext:t._additionalContext})}serialize=t._serializer;deserialize=t._deserializer}}},Kk="***SensitiveInformation***",Jk=(e,t)=>{for(let r of Object.keys(e)){let n=e[r],s=async function(i,a,d){let l=new n(i);if(typeof a=="function")this.send(l,a);else if(typeof d=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},d)}else return this.send(l,a)},o=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");t.prototype[o]=s}},xf=class e extends Error{$fault;$response;$retryable;$metadata;constructor(t){super(t.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}static isInstance(t){if(!t)return!1;let r=t;return e.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](t){if(!t)return!1;let r=t;return this===e?e.isInstance(t):e.isInstance(t)?r.name&&this.name?this.prototype.isPrototypeOf(t)||r.name===this.name:this.prototype.isPrototypeOf(t):!1}},D_=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},O_=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=Xk(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||o||"UnknownError",$fault:"client",$metadata:s});throw D_(i,t)},Yk=e=>({output:t,parsedBody:r,errorCode:n})=>{O_({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},Xk=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),Qk=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},N_=!1,Zk=e=>{e&&!N_&&parseInt(e.substring(1,e.indexOf(".")))<16&&(N_=!0)},e1=e=>{let t=[];for(let r in Sf.AlgorithmId){let n=Sf.AlgorithmId[r];e[n]!==void 0&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{addChecksumAlgorithm(r){t.push(r)},checksumAlgorithms(){return t}}},t1=e=>{let t={};return e.checksumAlgorithms().forEach(r=>{t[r.algorithmId()]=r.checksumConstructor()}),t},r1=e=>({setRetryStrategy(t){e.retryStrategy=t},retryStrategy(){return e.retryStrategy}}),n1=e=>{let t={};return t.retryStrategy=e.retryStrategy(),t},k_=e=>Object.assign(e1(e),r1(e)),s1=k_,o1=e=>Object.assign(t1(e),n1(e)),i1=e=>Array.isArray(e)?e:[e],M_=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=M_(e[r]));return e},a1=e=>e!=null,Tf=class{trace(){}debug(){}info(){}warn(){}error(){}};function L_(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,l1(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}B_(n,null,o,i)}return n}var c1=e=>{let t={};for(let[r,n]of Object.entries(e||{}))t[r]=[,n];return t},d1=(e,t)=>{let r={};for(let n in t)B_(r,e,t,n);return r},l1=(e,t,r)=>L_(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),B_=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=u1,d=m1,l=n]=i;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=d(t[l]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,d=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:d&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},u1=e=>e!=null,m1=e=>e,p1=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},f1=e=>e.toISOString().replace(".000Z","Z"),Cf=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(t=>t!=null).map(Cf);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=Cf(e[r]));return t}return e};Object.defineProperty(he,"collectBody",{enumerable:!0,get:function(){return If.collectBody}});Object.defineProperty(he,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return If.extendedEncodeURIComponent}});Object.defineProperty(he,"resolvedPath",{enumerable:!0,get:function(){return If.resolvedPath}});he.Client=bf;he.Command=ec;he.NoOpLogger=Tf;he.SENSITIVE_STRING=Kk;he.ServiceException=xf;he._json=Cf;he.convertMap=c1;he.createAggregatedClient=Jk;he.decorateServiceException=D_;he.emitWarningIfUnsupportedVersion=Zk;he.getArrayIfSingleItem=i1;he.getDefaultClientConfiguration=s1;he.getDefaultExtensionConfiguration=k_;he.getValueFromTextNode=M_;he.isSerializableHeaderValue=a1;he.loadConfigsForDefaultMode=Qk;he.map=L_;he.resolveDefaultRuntimeConfig=o1;he.serializeDateTime=f1;he.serializeFloat=p1;he.take=d1;he.throwDefaultError=O_;he.withBaseException=Yk;Object.keys(R_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(he,e)&&Object.defineProperty(he,e,{enumerable:!0,get:function(){return R_[e]}})})});var U_,$_,tc,Af=_(()=>{U_=T(se()),$_=T(qe()),tc=(e,t)=>(0,U_.collectBody)(e,t).then(r=>(t?.utf8Encoder??$_.toUtf8)(r))});var ps,vf,On,Io=_(()=>{Af();ps=(e,t)=>tc(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),vf=async(e,t)=>{let r=await ps(e,t);return r.message=r.message??r.Message,r},On=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t&&typeof t=="object"){let o=r(t,"code");if(o&&t[o]!==void 0)return n(t[o]);if(t.__type!==void 0)return n(t.__type)}}});var F_,Ao,Rf=_(()=>{ut();Ce();lt();F_=T(He());Gr();T_();Io();Ao=class extends Xe{settings;constructor(t){super(),this.settings=t}async read(t,r){return this._read(t,typeof r=="string"?JSON.parse(r,x_):await ps(r,this.serdeContext))}readObject(t,r){return this._read(t,r)}_read(t,r){let n=r!==null&&typeof r=="object",s=G.of(t);if(s.isListSchema()&&Array.isArray(r)){let i=s.getValueSchema(),a=[],d=!!s.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&a.push(this._read(i,l));return a}else if(s.isMapSchema()&&n){let i=s.getValueSchema(),a={},d=!!s.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(d||p!=null)&&(a[l]=this._read(i,p));return a}else if(s.isStructSchema()&&n){let i={};for(let[a,d]of s.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??a:a,p=this._read(d,r[l]);p!=null&&(i[a]=p)}return i}if(s.isBlobSchema()&&typeof r=="string")return(0,F_.fromBase64)(r);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof r=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return st.from(r);if(s.isTimestampSchema()&&r!=null)switch(yt(s,this.settings)){case 5:return Xm(r);case 6:return Qm(r);case 7:return Zm(r);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",r),new Date(r)}if(s.isBigIntegerSchema()&&(typeof r=="number"||typeof r=="string"))return BigInt(r);if(s.isBigDecimalSchema()&&r!=null){if(r instanceof xe)return r;let i=r;return i.type==="bigDecimal"&&"string"in i?new xe(i.string,i.type):new xe(String(r),"bigDecimal")}if(s.isNumericSchema()&&typeof r=="string")switch(r){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(n){let i=Array.isArray(r)?[]:{};for(let[a,d]of Object.entries(r))d instanceof xe?i[a]=d:i[a]=this._read(s,d);return i}else return structuredClone(r);return r}}});var j_,rc,z_=_(()=>{lt();j_="\u039D",rc=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(t,r)=>{if(r instanceof xe){let n=`${j_+"nv"+this.counter++}_`+r.string;return this.values.set(`"${n}"`,r.string),n}if(typeof r=="bigint"){let n=r.toString(),s=`${j_+"b"+this.counter++}_`+n;return this.values.set(`"${s}"`,n),s}return r}}replaceInJson(t){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return t;for(let[r,n]of this.values)t=t.replace(r,n);return t}}});var q_,vo,Nf=_(()=>{ut();Ce();lt();q_=T(He());Gr();z_();vo=class extends Xe{settings;buffer;rootSchema;constructor(t){super(),this.settings=t}write(t,r){this.rootSchema=G.of(t),this.buffer=this._write(this.rootSchema,r)}writeDiscriminatedDocument(t,r){this.write(t,r),typeof this.buffer=="object"&&(this.buffer.__type=G.of(t).getName(!0))}flush(){let{rootSchema:t}=this;if(this.rootSchema=void 0,t?.isStructSchema()||t?.isDocumentSchema()){let r=new rc;return r.replaceInJson(JSON.stringify(this.buffer,r.createReplacer(),0))}return this.buffer}_write(t,r,n){let s=r!==null&&typeof r=="object",o=G.of(t);if(o.isListSchema()&&Array.isArray(r)){let i=o.getValueSchema(),a=[],d=!!o.getMergedTraits().sparse;for(let l of r)(d||l!=null)&&a.push(this._write(i,l));return a}else if(o.isMapSchema()&&s){let i=o.getValueSchema(),a={},d=!!o.getMergedTraits().sparse;for(let[l,p]of Object.entries(r))(d||p!=null)&&(a[l]=this._write(i,p));return a}else if(o.isStructSchema()&&s){let i={};for(let[a,d]of o.structIterator()){let l=this.settings.jsonName?d.getMergedTraits().jsonName??a:a,p=this._write(d,r[a],o);p!==void 0&&(i[l]=p)}return i}if(!(r===null&&n?.isStructSchema())){if(o.isBlobSchema()&&(r instanceof Uint8Array||typeof r=="string")||o.isDocumentSchema()&&r instanceof Uint8Array)return o===this.rootSchema?r:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(r):(0,q_.toBase64)(r);if((o.isTimestampSchema()||o.isDocumentSchema())&&r instanceof Date)switch(yt(o,this.settings)){case 5:return r.toISOString().replace(".000Z","Z");case 6:return mo(r);case 7:return r.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",r),r.getTime()/1e3}if(o.isNumericSchema()&&typeof r=="number"&&(Math.abs(r)===1/0||isNaN(r)))return String(r);if(o.isStringSchema()){if(typeof r>"u"&&o.isIdempotencyToken())return(0,Ht.v4)();let i=o.getMergedTraits().mediaType;if(r!=null&&i&&(i==="application/json"||i.endsWith("+json")))return st.from(r)}if(o.isDocumentSchema())if(s){let i=Array.isArray(r)?[]:{};for(let[a,d]of Object.entries(r))d instanceof xe?i[a]=d:i[a]=this._write(o,d);return i}else return structuredClone(r);return r}}}});var kn,nc=_(()=>{Gr();Rf();Nf();kn=class extends Xe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new vo(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ao(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Mn,sc=_(()=>{ut();Ce();ms();nc();Io();Mn=class extends cr{serializer;deserializer;serviceTarget;codec;mixin=new _t;awsQueryCompatible;constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t}),this.serviceTarget=r,this.codec=new kn({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!n}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${t.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Pt(t.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(t,r,n,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,n);let i=On(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=G.of(a),p=s.message??s.Message??"Unknown",f=Be.for(a[1]).getErrorCtor(a)??Error,g=new f(p),h={};for(let[E,C]of l.structIterator()){let A=C.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(C,s[A])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,h),Object.assign(g,d,{$fault:l.getMergedTraits().error,message:p},h)}}});var Pf,H_=_(()=>{sc();Pf=class extends Mn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var Df,V_=_(()=>{sc();Df=class extends Mn{constructor({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n}){super({defaultNamespace:t,serviceTarget:r,awsQueryCompatible:n})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Of,G_=_(()=>{ut();Ce();ms();nc();Io();Of=class extends _n{serializer;deserializer;codec;mixin=new _t;constructor({defaultNamespace:t}){super({defaultNamespace:t});let r={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new kn(r),this.serializer=new Cn(this.codec.createSerializer(),r),this.deserializer=new Tn(this.codec.createDeserializer(),r)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(t){this.codec.setSerdeContext(t),super.setSerdeContext(t)}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=G.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(t,r,n,s,o){let i=On(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=G.of(a),p=s.message??s.Message??"Unknown",f=Be.for(a[1]).getErrorCtor(a)??Error,g=new f(p);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[E,C]of l.structIterator()){let A=C.getMergedTraits().jsonName??E;h[E]=this.codec.createDeserializer().readObject(C,s[A])}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:p},h)}getDefaultContentType(){return"application/json"}}});var W_,h1,K_=_(()=>{W_=T(se()),h1=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,W_.expectUnion)(e)}});var Y_=N((aY,J_)=>{(()=>{"use strict";var e={d:(u,m)=>{for(var y in m)e.o(m,y)&&!e.o(u,y)&&Object.defineProperty(u,y,{enumerable:!0,get:m[y]})},o:(u,m)=>Object.prototype.hasOwnProperty.call(u,m),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{XMLBuilder:()=>Rr,XMLParser:()=>XN,XMLValidator:()=>oP});let r=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",n=new RegExp("^["+r+"]["+r+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,m){let y=[],w=m.exec(u);for(;w;){let S=[];S.startIndex=m.lastIndex-w[0].length;let b=w.length;for(let v=0;v<b;v++)S.push(w[v]);y.push(S),w=m.exec(u)}return y}let o=function(u){return n.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,m){m=Object.assign({},i,m);let y=[],w=!1,S=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let b=0;b<u.length;b++)if(u[b]==="<"&&u[b+1]==="?"){if(b+=2,b=l(u,b),b.err)return b}else{if(u[b]!=="<"){if(d(u[b]))continue;return R("InvalidChar","char '"+u[b]+"' is not expected.",Y(u,b))}{let v=b;if(b++,u[b]==="!"){b=p(u,b);continue}{let I=!1;u[b]==="/"&&(I=!0,b++);let P="";for(;b<u.length&&u[b]!==">"&&u[b]!==" "&&u[b]!=="	"&&u[b]!==`
`&&u[b]!=="\r";b++)P+=u[b];if(P=P.trim(),P[P.length-1]==="/"&&(P=P.substring(0,P.length-1),b--),!o(P)){let J;return J=P.trim().length===0?"Invalid space after '<'.":"Tag '"+P+"' is an invalid name.",R("InvalidTag",J,Y(u,b))}let M=h(u,b);if(M===!1)return R("InvalidAttr","Attributes for '"+P+"' have open quote.",Y(u,b));let te=M.value;if(b=M.index,te[te.length-1]==="/"){let J=b-te.length;te=te.substring(0,te.length-1);let ue=C(te,m);if(ue!==!0)return R(ue.err.code,ue.err.msg,Y(u,J+ue.err.line));w=!0}else if(I){if(!M.tagClosed)return R("InvalidTag","Closing tag '"+P+"' doesn't have proper closing.",Y(u,b));if(te.trim().length>0)return R("InvalidTag","Closing tag '"+P+"' can't have attributes or invalid starting.",Y(u,v));if(y.length===0)return R("InvalidTag","Closing tag '"+P+"' has not been opened.",Y(u,v));{let J=y.pop();if(P!==J.tagName){let ue=Y(u,J.tagStartPos);return R("InvalidTag","Expected closing tag '"+J.tagName+"' (opened in line "+ue.line+", col "+ue.col+") instead of closing tag '"+P+"'.",Y(u,v))}y.length==0&&(S=!0)}}else{let J=C(te,m);if(J!==!0)return R(J.err.code,J.err.msg,Y(u,b-te.length+J.err.line));if(S===!0)return R("InvalidXml","Multiple possible root nodes found.",Y(u,b));m.unpairedTags.indexOf(P)!==-1||y.push({tagName:P,tagStartPos:v}),w=!0}for(b++;b<u.length;b++)if(u[b]==="<"){if(u[b+1]==="!"){b++,b=p(u,b);continue}if(u[b+1]!=="?")break;if(b=l(u,++b),b.err)return b}else if(u[b]==="&"){let J=A(u,b);if(J==-1)return R("InvalidChar","char '&' is not expected.",Y(u,b));b=J}else if(S===!0&&!d(u[b]))return R("InvalidXml","Extra text at the end",Y(u,b));u[b]==="<"&&b--}}}return w?y.length==1?R("InvalidTag","Unclosed tag '"+y[0].tagName+"'.",Y(u,y[0].tagStartPos)):!(y.length>0)||R("InvalidXml","Invalid '"+JSON.stringify(y.map((b=>b.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):R("InvalidXml","Start tag expected.",1)}function d(u){return u===" "||u==="	"||u===`
`||u==="\r"}function l(u,m){let y=m;for(;m<u.length;m++)if(!(u[m]!="?"&&u[m]!=" ")){let w=u.substr(y,m-y);if(m>5&&w==="xml")return R("InvalidXml","XML declaration allowed only at the start of the document.",Y(u,m));if(u[m]=="?"&&u[m+1]==">"){m++;break}}return m}function p(u,m){if(u.length>m+5&&u[m+1]==="-"&&u[m+2]==="-"){for(m+=3;m<u.length;m++)if(u[m]==="-"&&u[m+1]==="-"&&u[m+2]===">"){m+=2;break}}else if(u.length>m+8&&u[m+1]==="D"&&u[m+2]==="O"&&u[m+3]==="C"&&u[m+4]==="T"&&u[m+5]==="Y"&&u[m+6]==="P"&&u[m+7]==="E"){let y=1;for(m+=8;m<u.length;m++)if(u[m]==="<")y++;else if(u[m]===">"&&(y--,y===0))break}else if(u.length>m+9&&u[m+1]==="["&&u[m+2]==="C"&&u[m+3]==="D"&&u[m+4]==="A"&&u[m+5]==="T"&&u[m+6]==="A"&&u[m+7]==="["){for(m+=8;m<u.length;m++)if(u[m]==="]"&&u[m+1]==="]"&&u[m+2]===">"){m+=2;break}}return m}let f='"',g="'";function h(u,m){let y="",w="",S=!1;for(;m<u.length;m++){if(u[m]===f||u[m]===g)w===""?w=u[m]:w!==u[m]||(w="");else if(u[m]===">"&&w===""){S=!0;break}y+=u[m]}return w===""&&{value:y,index:m,tagClosed:S}}let E=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function C(u,m){let y=s(u,E),w={};for(let S=0;S<y.length;S++){if(y[S][1].length===0)return R("InvalidAttr","Attribute '"+y[S][2]+"' has no space in starting.",X(y[S]));if(y[S][3]!==void 0&&y[S][4]===void 0)return R("InvalidAttr","Attribute '"+y[S][2]+"' is without value.",X(y[S]));if(y[S][3]===void 0&&!m.allowBooleanAttributes)return R("InvalidAttr","boolean attribute '"+y[S][2]+"' is not allowed.",X(y[S]));let b=y[S][2];if(!O(b))return R("InvalidAttr","Attribute '"+b+"' is an invalid name.",X(y[S]));if(w.hasOwnProperty(b))return R("InvalidAttr","Attribute '"+b+"' is repeated.",X(y[S]));w[b]=1}return!0}function A(u,m){if(u[++m]===";")return-1;if(u[m]==="#")return(function(w,S){let b=/\d/;for(w[S]==="x"&&(S++,b=/[\da-fA-F]/);S<w.length;S++){if(w[S]===";")return S;if(!w[S].match(b))break}return-1})(u,++m);let y=0;for(;m<u.length;m++,y++)if(!(u[m].match(/\w/)&&y<20)){if(u[m]===";")break;return-1}return m}function R(u,m,y){return{err:{code:u,msg:m,line:y.line||y,col:y.col}}}function O(u){return o(u)}function Y(u,m){let y=u.substring(0,m).split(/\r?\n/);return{line:y.length,col:y[y.length-1].length+1}}function X(u){return u.startIndex+u[1].length}let K={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,m,y){return u},captureMetaData:!1},le;le=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Ke{constructor(m){this.tagname=m,this.child=[],this[":@"]={}}add(m,y){m==="__proto__"&&(m="#__proto__"),this.child.push({[m]:y})}addChild(m,y){m.tagname==="__proto__"&&(m.tagname="#__proto__"),m[":@"]&&Object.keys(m[":@"]).length>0?this.child.push({[m.tagname]:m.child,":@":m[":@"]}):this.child.push({[m.tagname]:m.child}),y!==void 0&&(this.child[this.child.length-1][le]={startIndex:y})}static getMetaDataSymbol(){return le}}function dt(u,m){let y={};if(u[m+3]!=="O"||u[m+4]!=="C"||u[m+5]!=="T"||u[m+6]!=="Y"||u[m+7]!=="P"||u[m+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{m+=9;let w=1,S=!1,b=!1,v="";for(;m<u.length;m++)if(u[m]!=="<"||b)if(u[m]===">"){if(b?u[m-1]==="-"&&u[m-2]==="-"&&(b=!1,w--):w--,w===0)break}else u[m]==="["?S=!0:v+=u[m];else{if(S&&gn(u,"!ENTITY",m)){let I,P;m+=7,[I,P,m]=ye(u,m+1),P.indexOf("&")===-1&&(y[I]={regx:RegExp(`&${I};`,"g"),val:P})}else if(S&&gn(u,"!ELEMENT",m)){m+=8;let{index:I}=NN(u,m+1);m=I}else if(S&&gn(u,"!ATTLIST",m))m+=8;else if(S&&gn(u,"!NOTATION",m)){m+=9;let{index:I}=Re(u,m+1);m=I}else{if(!gn(u,"!--",m))throw new Error("Invalid DOCTYPE");b=!0}w++,v=""}if(w!==0)throw new Error("Unclosed DOCTYPE")}return{entities:y,i:m}}let we=(u,m)=>{for(;m<u.length&&/\s/.test(u[m]);)m++;return m};function ye(u,m){m=we(u,m);let y="";for(;m<u.length&&!/\s/.test(u[m])&&u[m]!=='"'&&u[m]!=="'";)y+=u[m],m++;if(Ou(y),m=we(u,m),u.substring(m,m+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[m]==="%")throw new Error("Parameter entities are not supported");let w="";return[m,w]=Vn(u,m,"entity"),[y,w,--m]}function Re(u,m){m=we(u,m);let y="";for(;m<u.length&&!/\s/.test(u[m]);)y+=u[m],m++;Ou(y),m=we(u,m);let w=u.substring(m,m+6).toUpperCase();if(w!=="SYSTEM"&&w!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${w}"`);m+=w.length,m=we(u,m);let S=null,b=null;if(w==="PUBLIC")[m,S]=Vn(u,m,"publicIdentifier"),u[m=we(u,m)]!=='"'&&u[m]!=="'"||([m,b]=Vn(u,m,"systemIdentifier"));else if(w==="SYSTEM"&&([m,b]=Vn(u,m,"systemIdentifier"),!b))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:y,publicIdentifier:S,systemIdentifier:b,index:--m}}function Vn(u,m,y){let w="",S=u[m];if(S!=='"'&&S!=="'")throw new Error(`Expected quoted string, found "${S}"`);for(m++;m<u.length&&u[m]!==S;)w+=u[m],m++;if(u[m]!==S)throw new Error(`Unterminated ${y} value`);return[++m,w]}function NN(u,m){m=we(u,m);let y="";for(;m<u.length&&!/\s/.test(u[m]);)y+=u[m],m++;if(!Ou(y))throw new Error(`Invalid element name: "${y}"`);let w="";if(u[m=we(u,m)]==="E"&&gn(u,"MPTY",m))m+=4;else if(u[m]==="A"&&gn(u,"NY",m))m+=2;else{if(u[m]!=="(")throw new Error(`Invalid Element Expression, found "${u[m]}"`);for(m++;m<u.length&&u[m]!==")";)w+=u[m],m++;if(u[m]!==")")throw new Error("Unterminated content model")}return{elementName:y,contentModel:w.trim(),index:m}}function gn(u,m,y){for(let w=0;w<m.length;w++)if(m[w]!==u[y+w+1])return!1;return!0}function Ou(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let PN=/^[-+]?0x[a-fA-F0-9]+$/,DN=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,ON={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},kN=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function Yg(u){return typeof u=="function"?u:Array.isArray(u)?m=>{for(let y of u)if(typeof y=="string"&&m===y||y instanceof RegExp&&y.test(m))return!0}:()=>!1}class MN{constructor(m){this.options=m,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(y,w)=>String.fromCodePoint(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(y,w)=>String.fromCodePoint(Number.parseInt(w,16))}},this.addExternalEntities=LN,this.parseXml=jN,this.parseTextData=BN,this.resolveNameSpace=UN,this.buildAttributesMap=FN,this.isItStopNode=VN,this.replaceEntitiesValue=qN,this.readStopNodeData=GN,this.saveTextToParentTag=HN,this.addChild=zN,this.ignoreAttributesFn=Yg(this.options.ignoreAttributes)}}function LN(u){let m=Object.keys(u);for(let y=0;y<m.length;y++){let w=m[y];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:u[w]}}}function BN(u,m,y,w,S,b,v){if(u!==void 0&&(this.options.trimValues&&!w&&(u=u.trim()),u.length>0)){v||(u=this.replaceEntitiesValue(u));let I=this.options.tagValueProcessor(m,u,y,S,b);return I==null?u:typeof I!=typeof u||I!==u?I:this.options.trimValues||u.trim()===u?Xg(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function UN(u){if(this.options.removeNSPrefix){let m=u.split(":"),y=u.charAt(0)==="/"?"/":"";if(m[0]==="xmlns")return"";m.length===2&&(u=y+m[1])}return u}let $N=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function FN(u,m,y){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let w=s(u,$N),S=w.length,b={};for(let v=0;v<S;v++){let I=this.resolveNameSpace(w[v][1]);if(this.ignoreAttributesFn(I,m))continue;let P=w[v][4],M=this.options.attributeNamePrefix+I;if(I.length)if(this.options.transformAttributeName&&(M=this.options.transformAttributeName(M)),M==="__proto__"&&(M="#__proto__"),P!==void 0){this.options.trimValues&&(P=P.trim()),P=this.replaceEntitiesValue(P);let te=this.options.attributeValueProcessor(I,P,m);b[M]=te==null?P:typeof te!=typeof P||te!==P?te:Xg(P,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(b[M]=!0)}if(!Object.keys(b).length)return;if(this.options.attributesGroupName){let v={};return v[this.options.attributesGroupName]=b,v}return b}}let jN=function(u){u=u.replace(/\r\n?/g,`
`);let m=new Ke("!xml"),y=m,w="",S="";for(let b=0;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let v=yn(u,">",b,"Closing Tag is not closed."),I=u.substring(b+2,v).trim();if(this.options.removeNSPrefix){let te=I.indexOf(":");te!==-1&&(I=I.substr(te+1))}this.options.transformTagName&&(I=this.options.transformTagName(I)),y&&(w=this.saveTextToParentTag(w,y,S));let P=S.substring(S.lastIndexOf(".")+1);if(I&&this.options.unpairedTags.indexOf(I)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${I}>`);let M=0;P&&this.options.unpairedTags.indexOf(P)!==-1?(M=S.lastIndexOf(".",S.lastIndexOf(".")-1),this.tagsNodeStack.pop()):M=S.lastIndexOf("."),S=S.substring(0,M),y=this.tagsNodeStack.pop(),w="",b=v}else if(u[b+1]==="?"){let v=ku(u,b,!1,"?>");if(!v)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,y,S),!(this.options.ignoreDeclaration&&v.tagName==="?xml"||this.options.ignorePiTags)){let I=new Ke(v.tagName);I.add(this.options.textNodeName,""),v.tagName!==v.tagExp&&v.attrExpPresent&&(I[":@"]=this.buildAttributesMap(v.tagExp,S,v.tagName)),this.addChild(y,I,S,b)}b=v.closeIndex+1}else if(u.substr(b+1,3)==="!--"){let v=yn(u,"-->",b+4,"Comment is not closed.");if(this.options.commentPropName){let I=u.substring(b+4,v-2);w=this.saveTextToParentTag(w,y,S),y.add(this.options.commentPropName,[{[this.options.textNodeName]:I}])}b=v}else if(u.substr(b+1,2)==="!D"){let v=dt(u,b);this.docTypeEntities=v.entities,b=v.i}else if(u.substr(b+1,2)==="!["){let v=yn(u,"]]>",b,"CDATA is not closed.")-2,I=u.substring(b+9,v);w=this.saveTextToParentTag(w,y,S);let P=this.parseTextData(I,y.tagname,S,!0,!1,!0,!0);P==null&&(P=""),this.options.cdataPropName?y.add(this.options.cdataPropName,[{[this.options.textNodeName]:I}]):y.add(this.options.textNodeName,P),b=v+2}else{let v=ku(u,b,this.options.removeNSPrefix),I=v.tagName,P=v.rawTagName,M=v.tagExp,te=v.attrExpPresent,J=v.closeIndex;this.options.transformTagName&&(I=this.options.transformTagName(I)),y&&w&&y.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,y,S,!1));let ue=y;ue&&this.options.unpairedTags.indexOf(ue.tagname)!==-1&&(y=this.tagsNodeStack.pop(),S=S.substring(0,S.lastIndexOf("."))),I!==m.tagname&&(S+=S?"."+I:I);let fe=b;if(this.isItStopNode(this.options.stopNodes,S,I)){let me="";if(M.length>0&&M.lastIndexOf("/")===M.length-1)I[I.length-1]==="/"?(I=I.substr(0,I.length-1),S=S.substr(0,S.length-1),M=I):M=M.substr(0,M.length-1),b=v.closeIndex;else if(this.options.unpairedTags.indexOf(I)!==-1)b=v.closeIndex;else{let $t=this.readStopNodeData(u,P,J+1);if(!$t)throw new Error(`Unexpected end of ${P}`);b=$t.i,me=$t.tagContent}let ke=new Ke(I);I!==M&&te&&(ke[":@"]=this.buildAttributesMap(M,S,I)),me&&(me=this.parseTextData(me,I,S,!0,te,!0,!0)),S=S.substr(0,S.lastIndexOf(".")),ke.add(this.options.textNodeName,me),this.addChild(y,ke,S,fe)}else{if(M.length>0&&M.lastIndexOf("/")===M.length-1){I[I.length-1]==="/"?(I=I.substr(0,I.length-1),S=S.substr(0,S.length-1),M=I):M=M.substr(0,M.length-1),this.options.transformTagName&&(I=this.options.transformTagName(I));let me=new Ke(I);I!==M&&te&&(me[":@"]=this.buildAttributesMap(M,S,I)),this.addChild(y,me,S,fe),S=S.substr(0,S.lastIndexOf("."))}else{let me=new Ke(I);this.tagsNodeStack.push(y),I!==M&&te&&(me[":@"]=this.buildAttributesMap(M,S,I)),this.addChild(y,me,S,fe),y=me}w="",b=J}}else w+=u[b];return m.child};function zN(u,m,y,w){this.options.captureMetaData||(w=void 0);let S=this.options.updateTag(m.tagname,y,m[":@"]);S===!1||(typeof S=="string"&&(m.tagname=S),u.addChild(m,w))}let qN=function(u){if(this.options.processEntities){for(let m in this.docTypeEntities){let y=this.docTypeEntities[m];u=u.replace(y.regx,y.val)}for(let m in this.lastEntities){let y=this.lastEntities[m];u=u.replace(y.regex,y.val)}if(this.options.htmlEntities)for(let m in this.htmlEntities){let y=this.htmlEntities[m];u=u.replace(y.regex,y.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function HN(u,m,y,w){return u&&(w===void 0&&(w=m.child.length===0),(u=this.parseTextData(u,m.tagname,y,!1,!!m[":@"]&&Object.keys(m[":@"]).length!==0,w))!==void 0&&u!==""&&m.add(this.options.textNodeName,u),u=""),u}function VN(u,m,y){let w="*."+y;for(let S in u){let b=u[S];if(w===b||m===b)return!0}return!1}function yn(u,m,y,w){let S=u.indexOf(m,y);if(S===-1)throw new Error(w);return S+m.length-1}function ku(u,m,y,w=">"){let S=(function(J,ue,fe=">"){let me,ke="";for(let $t=ue;$t<J.length;$t++){let Nr=J[$t];if(me)Nr===me&&(me="");else if(Nr==='"'||Nr==="'")me=Nr;else if(Nr===fe[0]){if(!fe[1])return{data:ke,index:$t};if(J[$t+1]===fe[1])return{data:ke,index:$t}}else Nr==="	"&&(Nr=" ");ke+=Nr}})(u,m+1,w);if(!S)return;let b=S.data,v=S.index,I=b.search(/\s/),P=b,M=!0;I!==-1&&(P=b.substring(0,I),b=b.substring(I+1).trimStart());let te=P;if(y){let J=P.indexOf(":");J!==-1&&(P=P.substr(J+1),M=P!==S.data.substr(J+1))}return{tagName:P,tagExp:b,closeIndex:v,attrExpPresent:M,rawTagName:te}}function GN(u,m,y){let w=y,S=1;for(;y<u.length;y++)if(u[y]==="<")if(u[y+1]==="/"){let b=yn(u,">",y,`${m} is not closed`);if(u.substring(y+2,b).trim()===m&&(S--,S===0))return{tagContent:u.substring(w,y),i:b};y=b}else if(u[y+1]==="?")y=yn(u,"?>",y+1,"StopNode is not closed.");else if(u.substr(y+1,3)==="!--")y=yn(u,"-->",y+3,"StopNode is not closed.");else if(u.substr(y+1,2)==="![")y=yn(u,"]]>",y,"StopNode is not closed.")-2;else{let b=ku(u,y,">");b&&((b&&b.tagName)===m&&b.tagExp[b.tagExp.length-1]!=="/"&&S++,y=b.closeIndex)}}function Xg(u,m,y){if(m&&typeof u=="string"){let w=u.trim();return w==="true"||w!=="false"&&(function(S,b={}){if(b=Object.assign({},ON,b),!S||typeof S!="string")return S;let v=S.trim();if(b.skipLike!==void 0&&b.skipLike.test(v))return S;if(S==="0")return 0;if(b.hex&&PN.test(v))return(function(P){if(parseInt)return parseInt(P,16);if(Number.parseInt)return Number.parseInt(P,16);if(window&&window.parseInt)return window.parseInt(P,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(v);if(v.search(/.+[eE].+/)!==-1)return(function(P,M,te){if(!te.eNotation)return P;let J=M.match(kN);if(J){let ue=J[1]||"",fe=J[3].indexOf("e")===-1?"E":"e",me=J[2],ke=ue?P[me.length+1]===fe:P[me.length]===fe;return me.length>1&&ke?P:me.length!==1||!J[3].startsWith(`.${fe}`)&&J[3][0]!==fe?te.leadingZeros&&!ke?(M=(J[1]||"")+J[3],Number(M)):P:Number(M)}return P})(S,v,b);{let P=DN.exec(v);if(P){let M=P[1]||"",te=P[2],J=((I=P[3])&&I.indexOf(".")!==-1&&((I=I.replace(/0+$/,""))==="."?I="0":I[0]==="."?I="0"+I:I[I.length-1]==="."&&(I=I.substring(0,I.length-1))),I),ue=M?S[te.length+1]===".":S[te.length]===".";if(!b.leadingZeros&&(te.length>1||te.length===1&&!ue))return S;{let fe=Number(v),me=String(fe);if(fe===0||fe===-0)return fe;if(me.search(/[eE]/)!==-1)return b.eNotation?fe:S;if(v.indexOf(".")!==-1)return me==="0"||me===J||me===`${M}${J}`?fe:S;let ke=te?J:v;return te?ke===me||M+ke===me?fe:S:ke===me||ke===M+me?fe:S}}return S}var I})(u,y)}return u!==void 0?u:""}let Mu=Ke.getMetaDataSymbol();function WN(u,m){return Qg(u,m)}function Qg(u,m,y){let w,S={};for(let b=0;b<u.length;b++){let v=u[b],I=KN(v),P="";if(P=y===void 0?I:y+"."+I,I===m.textNodeName)w===void 0?w=v[I]:w+=""+v[I];else{if(I===void 0)continue;if(v[I]){let M=Qg(v[I],m,P),te=YN(M,m);v[Mu]!==void 0&&(M[Mu]=v[Mu]),v[":@"]?JN(M,v[":@"],P,m):Object.keys(M).length!==1||M[m.textNodeName]===void 0||m.alwaysCreateTextNode?Object.keys(M).length===0&&(m.alwaysCreateTextNode?M[m.textNodeName]="":M=""):M=M[m.textNodeName],S[I]!==void 0&&S.hasOwnProperty(I)?(Array.isArray(S[I])||(S[I]=[S[I]]),S[I].push(M)):m.isArray(I,P,te)?S[I]=[M]:S[I]=M}}}return typeof w=="string"?w.length>0&&(S[m.textNodeName]=w):w!==void 0&&(S[m.textNodeName]=w),S}function KN(u){let m=Object.keys(u);for(let y=0;y<m.length;y++){let w=m[y];if(w!==":@")return w}}function JN(u,m,y,w){if(m){let S=Object.keys(m),b=S.length;for(let v=0;v<b;v++){let I=S[v];w.isArray(I,y+"."+I,!0,!0)?u[I]=[m[I]]:u[I]=m[I]}}}function YN(u,m){let{textNodeName:y}=m,w=Object.keys(u).length;return w===0||!(w!==1||!u[y]&&typeof u[y]!="boolean"&&u[y]!==0)}class XN{constructor(m){this.externalEntities={},this.options=(function(y){return Object.assign({},K,y)})(m)}parse(m,y){if(typeof m!="string"){if(!m.toString)throw new Error("XML data is accepted in String or Bytes[] form.");m=m.toString()}if(y){y===!0&&(y={});let b=a(m,y);if(b!==!0)throw Error(`${b.err.msg}:${b.err.line}:${b.err.col}`)}let w=new MN(this.options);w.addExternalEntities(this.externalEntities);let S=w.parseXml(m);return this.options.preserveOrder||S===void 0?S:WN(S,this.options)}addEntity(m,y){if(y.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(m.indexOf("&")!==-1||m.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(y==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[m]=y}static getMetaDataSymbol(){return Ke.getMetaDataSymbol()}}function QN(u,m){let y="";return m.format&&m.indentBy.length>0&&(y=`
`),Zg(u,m,"",y)}function Zg(u,m,y,w){let S="",b=!1;for(let v=0;v<u.length;v++){let I=u[v],P=ZN(I);if(P===void 0)continue;let M="";if(M=y.length===0?P:`${y}.${P}`,P===m.textNodeName){let fe=I[P];eP(M,m)||(fe=m.tagValueProcessor(P,fe),fe=ty(fe,m)),b&&(S+=w),S+=fe,b=!1;continue}if(P===m.cdataPropName){b&&(S+=w),S+=`<![CDATA[${I[P][0][m.textNodeName]}]]>`,b=!1;continue}if(P===m.commentPropName){S+=w+`<!--${I[P][0][m.textNodeName]}-->`,b=!0;continue}if(P[0]==="?"){let fe=ey(I[":@"],m),me=P==="?xml"?"":w,ke=I[P][0][m.textNodeName];ke=ke.length!==0?" "+ke:"",S+=me+`<${P}${ke}${fe}?>`,b=!0;continue}let te=w;te!==""&&(te+=m.indentBy);let J=w+`<${P}${ey(I[":@"],m)}`,ue=Zg(I[P],m,M,te);m.unpairedTags.indexOf(P)!==-1?m.suppressUnpairedNode?S+=J+">":S+=J+"/>":ue&&ue.length!==0||!m.suppressEmptyNode?ue&&ue.endsWith(">")?S+=J+`>${ue}${w}</${P}>`:(S+=J+">",ue&&w!==""&&(ue.includes("/>")||ue.includes("</"))?S+=w+m.indentBy+ue+w:S+=ue,S+=`</${P}>`):S+=J+"/>",b=!0}return S}function ZN(u){let m=Object.keys(u);for(let y=0;y<m.length;y++){let w=m[y];if(u.hasOwnProperty(w)&&w!==":@")return w}}function ey(u,m){let y="";if(u&&!m.ignoreAttributes)for(let w in u){if(!u.hasOwnProperty(w))continue;let S=m.attributeValueProcessor(w,u[w]);S=ty(S,m),S===!0&&m.suppressBooleanAttributes?y+=` ${w.substr(m.attributeNamePrefix.length)}`:y+=` ${w.substr(m.attributeNamePrefix.length)}="${S}"`}return y}function eP(u,m){let y=(u=u.substr(0,u.length-m.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let w in m.stopNodes)if(m.stopNodes[w]===u||m.stopNodes[w]==="*."+y)return!0;return!1}function ty(u,m){if(u&&u.length>0&&m.processEntities)for(let y=0;y<m.entities.length;y++){let w=m.entities[y];u=u.replace(w.regex,w.val)}return u}let tP={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,m){return m},attributeValueProcessor:function(u,m){return m},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Rr(u){this.options=Object.assign({},tP,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=Yg(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=sP),this.processTextOrObjNode=rP,this.options.format?(this.indentate=nP,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function rP(u,m,y,w){let S=this.j2x(u,y+1,w.concat(m));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],m,S.attrStr,y):this.buildObjectNode(S.val,m,S.attrStr,y)}function nP(u){return this.options.indentBy.repeat(u)}function sP(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Rr.prototype.build=function(u){return this.options.preserveOrder?QN(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Rr.prototype.j2x=function(u,m,y){let w="",S="",b=y.join(".");for(let v in u)if(Object.prototype.hasOwnProperty.call(u,v))if(u[v]===void 0)this.isAttribute(v)&&(S+="");else if(u[v]===null)this.isAttribute(v)||v===this.options.cdataPropName?S+="":v[0]==="?"?S+=this.indentate(m)+"<"+v+"?"+this.tagEndChar:S+=this.indentate(m)+"<"+v+"/"+this.tagEndChar;else if(u[v]instanceof Date)S+=this.buildTextValNode(u[v],v,"",m);else if(typeof u[v]!="object"){let I=this.isAttribute(v);if(I&&!this.ignoreAttributesFn(I,b))w+=this.buildAttrPairStr(I,""+u[v]);else if(!I)if(v===this.options.textNodeName){let P=this.options.tagValueProcessor(v,""+u[v]);S+=this.replaceEntitiesValue(P)}else S+=this.buildTextValNode(u[v],v,"",m)}else if(Array.isArray(u[v])){let I=u[v].length,P="",M="";for(let te=0;te<I;te++){let J=u[v][te];if(J!==void 0)if(J===null)v[0]==="?"?S+=this.indentate(m)+"<"+v+"?"+this.tagEndChar:S+=this.indentate(m)+"<"+v+"/"+this.tagEndChar;else if(typeof J=="object")if(this.options.oneListGroup){let ue=this.j2x(J,m+1,y.concat(v));P+=ue.val,this.options.attributesGroupName&&J.hasOwnProperty(this.options.attributesGroupName)&&(M+=ue.attrStr)}else P+=this.processTextOrObjNode(J,v,m,y);else if(this.options.oneListGroup){let ue=this.options.tagValueProcessor(v,J);ue=this.replaceEntitiesValue(ue),P+=ue}else P+=this.buildTextValNode(J,v,"",m)}this.options.oneListGroup&&(P=this.buildObjectNode(P,v,M,m)),S+=P}else if(this.options.attributesGroupName&&v===this.options.attributesGroupName){let I=Object.keys(u[v]),P=I.length;for(let M=0;M<P;M++)w+=this.buildAttrPairStr(I[M],""+u[v][I[M]])}else S+=this.processTextOrObjNode(u[v],v,m,y);return{attrStr:w,val:S}},Rr.prototype.buildAttrPairStr=function(u,m){return m=this.options.attributeValueProcessor(u,""+m),m=this.replaceEntitiesValue(m),this.options.suppressBooleanAttributes&&m==="true"?" "+u:" "+u+'="'+m+'"'},Rr.prototype.buildObjectNode=function(u,m,y,w){if(u==="")return m[0]==="?"?this.indentate(w)+"<"+m+y+"?"+this.tagEndChar:this.indentate(w)+"<"+m+y+this.closeTag(m)+this.tagEndChar;{let S="</"+m+this.tagEndChar,b="";return m[0]==="?"&&(b="?",S=""),!y&&y!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&m===this.options.commentPropName&&b.length===0?this.indentate(w)+`<!--${u}-->`+this.newLine:this.indentate(w)+"<"+m+y+b+this.tagEndChar+u+this.indentate(w)+S:this.indentate(w)+"<"+m+y+b+">"+u+S}},Rr.prototype.closeTag=function(u){let m="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(m="/"):m=this.options.suppressEmptyNode?"/":`></${u}`,m},Rr.prototype.buildTextValNode=function(u,m,y,w){if(this.options.cdataPropName!==!1&&m===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&m===this.options.commentPropName)return this.indentate(w)+`<!--${u}-->`+this.newLine;if(m[0]==="?")return this.indentate(w)+"<"+m+y+"?"+this.tagEndChar;{let S=this.options.tagValueProcessor(m,u);return S=this.replaceEntitiesValue(S),S===""?this.indentate(w)+"<"+m+y+this.closeTag(m)+this.tagEndChar:this.indentate(w)+"<"+m+y+">"+S+"</"+m+this.tagEndChar}},Rr.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let m=0;m<this.options.entities.length;m++){let y=this.options.entities[m];u=u.replace(y.regex,y.val)}return u};let oP={validate:a};J_.exports=t})()});var X_=N(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.parseXML=y1;var g1=Y_(),kf=new g1.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,t)=>t.trim()===""&&t.includes(`
`)?"":void 0});kf.addEntity("#xD","\r");kf.addEntity("#10",`
`);function y1(e){return kf.parse(e,!0)}});var ac=N(ic=>{"use strict";var E1=X_();function S1(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function b1(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var oc=class{value;constructor(t){this.value=t}toString(){return b1(""+this.value)}},Lf=class e{name;children;attributes={};static of(t,r,n){let s=new e(t);return r!==void 0&&s.addChildNode(new oc(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}n(t){return this.name=t,this}c(t){return this.children.push(t),this}a(t,r){return r!=null&&(this.attributes[t]=r),this}cc(t,r,n=r){if(t[r]!=null){let s=e.of(r,t[r]).withName(n);this.c(s)}}l(t,r,n,s){t[r]!=null&&s().map(i=>{i.withName(n),this.c(i)})}lc(t,r,n,s){if(t[r]!=null){let o=s(),i=new e(n);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];o!=null&&(r+=` ${s}="${S1(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(ic,"parseXML",{enumerable:!0,get:function(){return E1.parseXML}});ic.XmlNode=Lf;ic.XmlText=oc});var Q_,Z_,ex,Ln,cc=_(()=>{Q_=T(ac());ut();Ce();Z_=T(se()),ex=T(qe());Gr();Ln=class extends Xe{settings;stringDeserializer;constructor(t){super(),this.settings=t,this.stringDeserializer=new xn(t)}setSerdeContext(t){this.serdeContext=t,this.stringDeserializer.setSerdeContext(t)}read(t,r,n){let s=G.of(t),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(l=>!!l.getMemberTraits().eventPayload)){let l={},p=Object.keys(o)[0];return o[p].isBlobSchema()?l[p]=r:l[p]=this.read(o[p],r),l}let a=(this.serdeContext?.utf8Encoder??ex.toUtf8)(r),d=this.parseXml(a);return this.readSchema(t,n?d[n]:d)}readSchema(t,r){let n=G.of(t);if(n.isUnitSchema())return;let s=n.getMergedTraits();if(n.isListSchema()&&!Array.isArray(r))return this.readSchema(n,[r]);if(r==null)return r;if(typeof r=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(n.isListSchema()){let d=n.getValueSchema(),l=[],p=d.getMergedTraits().xmlName??"member",f=i?r:(r[0]??r)[p],g=Array.isArray(f)?f:[f];for(let h of g)(h!=null||o)&&l.push(this.readSchema(d,h));return l}let a={};if(n.isMapSchema()){let d=n.getKeySchema(),l=n.getValueSchema(),p;i?p=Array.isArray(r)?r:[r]:p=Array.isArray(r.entry)?r.entry:[r.entry];let f=d.getMergedTraits().xmlName??"key",g=l.getMergedTraits().xmlName??"value";for(let h of p){let E=h[f],C=h[g];(C!=null||o)&&(a[E]=this.readSchema(l,C))}return a}if(n.isStructSchema()){for(let[d,l]of n.structIterator()){let p=l.getMergedTraits(),f=p.httpPayload?p.xmlName??l.getName():l.getMemberTraits().xmlName??d;r[f]!=null&&(a[d]=this.readSchema(l,r[f]))}return a}if(n.isDocumentSchema())return r;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${n.getName(!0)}`)}return n.isListSchema()?[]:n.isMapSchema()||n.isStructSchema()?{}:this.stringDeserializer.read(n,r)}parseXml(t){if(t.length){let r;try{r=(0,Q_.parseXML)(t)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:t}),i}let n="#text",s=Object.keys(r)[0],o=r[s];return o[n]&&(o[s]=o[n],delete o[n]),(0,Z_.getValueFromTextNode)(o)}return{}}}});var tx,rx,dc,nx=_(()=>{ut();Ce();lt();tx=T(se()),rx=T(He());Gr();dc=class extends Xe{settings;buffer;constructor(t){super(),this.settings=t}write(t,r,n=""){this.buffer===void 0&&(this.buffer="");let s=G.of(t);if(n&&!n.endsWith(".")&&(n+="."),s.isBlobSchema())(typeof r=="string"||r instanceof Uint8Array)&&(this.writeKey(n),this.writeValue((this.serdeContext?.base64Encoder??rx.toBase64)(r)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())r!=null?(this.writeKey(n),this.writeValue(String(r))):s.isIdempotencyToken()&&(this.writeKey(n),this.writeValue((0,Ht.v4)()));else if(s.isBigIntegerSchema())r!=null&&(this.writeKey(n),this.writeValue(String(r)));else if(s.isBigDecimalSchema())r!=null&&(this.writeKey(n),this.writeValue(r instanceof xe?r.string:String(r)));else if(s.isTimestampSchema()){if(r instanceof Date)switch(this.writeKey(n),yt(s,this.settings)){case 5:this.writeValue(r.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,tx.dateToUtcString)(r));break;case 7:this.writeValue(String(r.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(r))if(r.length===0)this.settings.serializeEmptyLists&&(this.writeKey(n),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let d of r){if(d==null)continue;let l=this.getKey("member",o.getMergedTraits().xmlName),p=i?`${n}${a}`:`${n}${l}.${a}`;this.write(o,d,p),++a}}}else if(s.isMapSchema()){if(r&&typeof r=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,d=1;for(let[l,p]of Object.entries(r)){if(p==null)continue;let f=this.getKey("key",o.getMergedTraits().xmlName),g=a?`${n}${d}.${f}`:`${n}entry.${d}.${f}`,h=this.getKey("value",i.getMergedTraits().xmlName),E=a?`${n}${d}.${h}`:`${n}entry.${d}.${h}`;this.write(o,l,g),this.write(i,p,E),++d}}}else if(s.isStructSchema()){if(r&&typeof r=="object")for(let[o,i]of s.structIterator()){if(r[o]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(o,i.getMergedTraits().xmlName),d=`${n}${a}`;this.write(i,r[o],d)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let t=this.buffer;return delete this.buffer,t}getKey(t,r){let n=r??t;return this.settings.capitalizeKeys?n[0].toUpperCase()+n.slice(1):n}writeKey(t){t.endsWith(".")&&(t=t.slice(0,t.length-1)),this.buffer+=`&${jt(t)}=`}writeValue(t){this.buffer+=jt(t)}}});var Ro,Bf=_(()=>{ut();Ce();ms();cc();nx();Ro=class extends cr{options;serializer;deserializer;mixin=new _t;constructor(t){super({defaultNamespace:t.defaultNamespace}),this.options=t;let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace,serializeEmptyLists:!0};this.serializer=new dc(r),this.deserializer=new Ln(r)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(t){this.serializer.setSerdeContext(t),this.deserializer.setSerdeContext(t)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Pt(t.input)==="unit"||!s.body)&&(s.body="");let o=t.name.split("#")[1]??t.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(t,r,n){let s=this.deserializer,o=G.of(t.output),i={};if(n.statusCode>=300){let f=await Nt(n.body,r);f.byteLength>0&&Object.assign(i,await s.read(15,f)),await this.handleError(t,r,n,i,this.deserializeMetadata(n))}for(let f in n.headers){let g=n.headers[f];delete n.headers[f],n.headers[f.toLowerCase()]=g}let a=t.name.split("#")[1]??t.name,d=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,l=await Nt(n.body,r);return l.byteLength>0&&Object.assign(i,await s.read(o,l,d)),{$metadata:this.deserializeMetadata(n),...i}}useNestedResult(){return!0}async handleError(t,r,n,s,o){let i=this.loadQueryErrorCode(n,s)??"Unknown",a=this.loadQueryError(s),d=this.loadQueryErrorMessage(s);a.message=d,a.Error={Type:a.Type,Code:a.Code,Message:d};let{errorSchema:l,errorMetadata:p}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,a,o,(C,A)=>C.find(R=>G.of(R).getMergedTraits().awsQueryError?.[0]===A)),f=G.of(l),g=Be.for(l[1]).getErrorCtor(l)??Error,h=new g(d),E={Error:a.Error};for(let[C,A]of f.structIterator()){let R=A.getMergedTraits().xmlName??C,O=a[R]??s[R];E[C]=this.deserializer.readSchema(A,O)}throw Object.assign(h,p,{$fault:f.getMergedTraits().error,message:d},E)}loadQueryErrorCode(t,r){let n=(r.Errors?.[0]?.Error??r.Errors?.Error??r.Error)?.Code;if(n!==void 0)return n;if(t.statusCode==404)return"NotFound"}loadQueryError(t){return t.Errors?.[0]?.Error??t.Errors?.Error??t.Error}loadQueryErrorMessage(t){let r=this.loadQueryError(t);return r?.message??r?.Message??t.message??t.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Uf,sx=_(()=>{Bf();Uf=class extends Ro{options;constructor(t){super(t),this.options=t;let r={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,r)}useNestedResult(){return!1}}});var ox,ix,No,$f,Ff,jf=_(()=>{ox=T(ac()),ix=T(se());Af();No=(e,t)=>tc(e,t).then(r=>{if(r.length){let n;try{n=(0,ox.parseXML)(r)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:r}),a}let s="#text",o=Object.keys(n)[0],i=n[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,ix.getValueFromTextNode)(i)}return{}}),$f=async(e,t)=>{let r=await No(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Ff=(e,t)=>{if(t?.Error?.Code!==void 0)return t.Error.Code;if(t?.Code!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"}});var xt,zf,lc,Po,qf=_(()=>{xt=T(ac());ut();Ce();lt();zf=T(se()),lc=T(He());Gr();Po=class extends Xe{settings;stringBuffer;byteBuffer;buffer;constructor(t){super(),this.settings=t}write(t,r){let n=G.of(t);if(n.isStringSchema()&&typeof r=="string")this.stringBuffer=r;else if(n.isBlobSchema())this.byteBuffer="byteLength"in r?r:(this.serdeContext?.base64Decoder??lc.fromBase64)(r);else{this.buffer=this.writeStruct(n,r,void 0);let s=n.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(n.getName())}}flush(){if(this.byteBuffer!==void 0){let r=this.byteBuffer;return delete this.byteBuffer,r}if(this.stringBuffer!==void 0){let r=this.stringBuffer;return delete this.stringBuffer,r}let t=this.buffer;return this.settings.xmlNamespace&&(t?.attributes?.xmlns||t.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,t.toString()}writeStruct(t,r,n){let s=t.getMergedTraits(),o=t.isMemberSchema()&&!s.httpPayload?t.getMemberTraits().xmlName??t.getMemberName():s.xmlName??t.getName();if(!o||!t.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${t.getName(!0)}.`);let i=xt.XmlNode.of(o),[a,d]=this.getXmlnsAttribute(t,n);for(let[l,p]of t.structIterator()){let f=r[l];if(f!=null||p.isIdempotencyToken()){if(p.getMergedTraits().xmlAttribute){i.addAttribute(p.getMergedTraits().xmlName??l,this.writeSimple(p,f));continue}if(p.isListSchema())this.writeList(p,f,i,d);else if(p.isMapSchema())this.writeMap(p,f,i,d);else if(p.isStructSchema())i.addChildNode(this.writeStruct(p,f,d));else{let g=xt.XmlNode.of(p.getMergedTraits().xmlName??p.getMemberName());this.writeSimpleInto(p,f,g,d),i.addChildNode(g)}}}return d&&i.addAttribute(a,d),i}writeList(t,r,n,s){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${t.getName(!0)}`);let o=t.getMergedTraits(),i=t.getValueSchema(),a=i.getMergedTraits(),d=!!a.sparse,l=!!o.xmlFlattened,[p,f]=this.getXmlnsAttribute(t,s),g=(h,E)=>{if(i.isListSchema())this.writeList(i,Array.isArray(E)?E:[E],h,f);else if(i.isMapSchema())this.writeMap(i,E,h,f);else if(i.isStructSchema()){let C=this.writeStruct(i,E,f);h.addChildNode(C.withName(l?o.xmlName??t.getMemberName():a.xmlName??"member"))}else{let C=xt.XmlNode.of(l?o.xmlName??t.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,E,C,f),h.addChildNode(C)}};if(l)for(let h of r)(d||h!=null)&&g(n,h);else{let h=xt.XmlNode.of(o.xmlName??t.getMemberName());f&&h.addAttribute(p,f);for(let E of r)(d||E!=null)&&g(h,E);n.addChildNode(h)}}writeMap(t,r,n,s,o=!1){if(!t.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${t.getName(!0)}`);let i=t.getMergedTraits(),a=t.getKeySchema(),l=a.getMergedTraits().xmlName??"key",p=t.getValueSchema(),f=p.getMergedTraits(),g=f.xmlName??"value",h=!!f.sparse,E=!!i.xmlFlattened,[C,A]=this.getXmlnsAttribute(t,s),R=(O,Y,X)=>{let K=xt.XmlNode.of(l,Y),[le,Ke]=this.getXmlnsAttribute(a,A);Ke&&K.addAttribute(le,Ke),O.addChildNode(K);let dt=xt.XmlNode.of(g);p.isListSchema()?this.writeList(p,X,dt,A):p.isMapSchema()?this.writeMap(p,X,dt,A,!0):p.isStructSchema()?dt=this.writeStruct(p,X,A):this.writeSimpleInto(p,X,dt,A),O.addChildNode(dt)};if(E){for(let[O,Y]of Object.entries(r))if(h||Y!=null){let X=xt.XmlNode.of(i.xmlName??t.getMemberName());R(X,O,Y),n.addChildNode(X)}}else{let O;o||(O=xt.XmlNode.of(i.xmlName??t.getMemberName()),A&&O.addAttribute(C,A),n.addChildNode(O));for(let[Y,X]of Object.entries(r))if(h||X!=null){let K=xt.XmlNode.of("entry");R(K,Y,X),(o?n:O).addChildNode(K)}}}writeSimple(t,r){if(r===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let n=G.of(t),s=null;if(r&&typeof r=="object")if(n.isBlobSchema())s=(this.serdeContext?.base64Encoder??lc.toBase64)(r);else if(n.isTimestampSchema()&&r instanceof Date)switch(yt(n,this.settings)){case 5:s=r.toISOString().replace(".000Z","Z");break;case 6:s=(0,zf.dateToUtcString)(r);break;case 7:s=String(r.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",r),s=(0,zf.dateToUtcString)(r);break}else{if(n.isBigDecimalSchema()&&r)return r instanceof xe?r.string:String(r);throw n.isMapSchema()||n.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${n.getName(!0)}`)}if((n.isBooleanSchema()||n.isNumericSchema()||n.isBigIntegerSchema()||n.isBigDecimalSchema())&&(s=String(r)),n.isStringSchema()&&(r===void 0&&n.isIdempotencyToken()?s=(0,Ht.v4)():s=String(r)),s===null)throw new Error(`Unhandled schema-value pair ${n.getName(!0)}=${r}`);return s}writeSimpleInto(t,r,n,s){let o=this.writeSimple(t,r),i=G.of(t),a=new xt.XmlText(o),[d,l]=this.getXmlnsAttribute(i,s);l&&n.addAttribute(d,l),n.addChildNode(a)}getXmlnsAttribute(t,r){let n=t.getMergedTraits(),[s,o]=n.xmlNamespace??[];return o&&o!==r?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var Do,Hf=_(()=>{Gr();cc();qf();Do=class extends Xe{settings;constructor(t){super(),this.settings=t}createSerializer(){let t=new Po(this.settings);return t.setSerdeContext(this.serdeContext),t}createDeserializer(){let t=new Ln(this.settings);return t.setSerdeContext(this.serdeContext),t}}});var Vf,ax=_(()=>{ut();Ce();ms();jf();Hf();Vf=class extends _n{codec;serializer;deserializer;mixin=new _t;constructor(t){super(t);let r={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:t.xmlNamespace,serviceNamespace:t.defaultNamespace};this.codec=new Do(r),this.serializer=new Cn(this.codec.createSerializer(),r),this.deserializer=new Tn(this.codec.createDeserializer(),r)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(t,r,n){let s=await super.serializeRequest(t,r,n),o=G.of(t.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(t,r,n){return super.deserializeResponse(t,r,n)}async handleError(t,r,n,s,o){let i=Ff(n,s)??"Unknown",{errorSchema:a,errorMetadata:d}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,n,s,o),l=G.of(a),p=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",f=Be.for(a[1]).getErrorCtor(a)??Error,g=new f(p);await this.deserializeHttpMessage(a,r,n,s);let h={};for(let[E,C]of l.structIterator()){let A=C.getMergedTraits().xmlName??E,R=s.Error?.[A]??s[A];h[E]=this.codec.createDeserializer().readSchema(C,R)}throw Object.assign(g,d,{$fault:l.getMergedTraits().error,message:p},h)}getDefaultContentType(){return"application/xml"}}});var cx=_(()=>{w_();__();H_();V_();sc();G_();nc();Rf();Nf();K_();Io();sx();Bf();ax();Hf();cc();qf();jf()});var kt={};gt(kt,{AWSSDKSigV4Signer:()=>Op,AwsEc2QueryProtocol:()=>Uf,AwsJson1_0Protocol:()=>Pf,AwsJson1_1Protocol:()=>Df,AwsJsonRpcProtocol:()=>Mn,AwsQueryProtocol:()=>Ro,AwsRestJsonProtocol:()=>Of,AwsRestXmlProtocol:()=>Vf,AwsSdkSigV4ASigner:()=>wo,AwsSdkSigV4Signer:()=>mt,AwsSmithyRpcV2CborProtocol:()=>gf,JsonCodec:()=>kn,JsonShapeDeserializer:()=>Ao,JsonShapeSerializer:()=>vo,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>cs,NODE_SIGV4A_CONFIG_OPTIONS:()=>Pw,XmlCodec:()=>Do,XmlShapeDeserializer:()=>Ln,XmlShapeSerializer:()=>Po,_toBool:()=>Vk,_toNum:()=>Gk,_toStr:()=>Hk,awsExpectUnion:()=>h1,emitWarningIfUnsupportedVersion:()=>os,getBearerTokenEnvKey:()=>Ba,loadRestJsonErrorCode:()=>On,loadRestXmlErrorCode:()=>Ff,parseJsonBody:()=>ps,parseJsonErrorBody:()=>vf,parseXmlBody:()=>No,parseXmlErrorBody:()=>$f,resolveAWSSDKSigV4Config:()=>n_,resolveAwsSdkSigV4AConfig:()=>Nw,resolveAwsSdkSigV4Config:()=>Pn,setCredentialFeature:()=>$r,setFeature:()=>fw,setTokenFeature:()=>gw,state:()=>La,validateSigningProperties:()=>as});var Ue=_(()=>{Ot();Qp();cx()});var hs=N(fs=>{"use strict";var w1=(it(),de(An)),_1=ss(),x1=Ee(),Gt=(Ue(),de(kt)),mx=void 0;function T1(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function C1(e){let t=w1.normalizeProvider(e.userAgentAppId??mx),{customUserAgent:r}=e;return Object.assign(e,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:async()=>{let n=await t();if(!T1(n)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof n!="string"?s?.warn("userAgentAppId must be a string or undefined."):n.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n}})}var I1=/\d{12}\.ddb/;async function A1(e,t,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&Gt.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof t.retryStrategy=="function"){let o=await t.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?Gt.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):Gt.setFeature(e,"RETRY_MODE_STANDARD","E"):Gt.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof t.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(I1)&&Gt.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await t.accountIdEndpointMode?.()){case"disabled":Gt.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":Gt.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":Gt.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&Gt.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))Gt.setFeature(e,i,a)}}var dx="user-agent",Gf="x-amz-user-agent",lx=" ",Wf="/",v1=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,R1=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ux="-",N1=1024;function P1(e){let t="";for(let r in e){let n=e[r];if(t.length+n.length+1<=N1){t.length?t+=","+n:t+=n;continue}break}return t}var px=e=>(t,r)=>async n=>{let{request:s}=n;if(!x1.HttpRequest.isInstance(s))return t(n);let{headers:o}=s,i=r?.userAgent?.map(uc)||[],a=(await e.defaultUserAgentProvider()).map(uc);await A1(r,e,n);let d=r;a.push(`m/${P1(Object.assign({},r.__smithy_context?.features,d.__aws_sdk_context?.features))}`);let l=e?.customUserAgent?.map(uc)||[],p=await e.userAgentAppId();p&&a.push(uc([`app/${p}`]));let f=_1.getUserAgentPrefix(),g=(f?[f]:[]).concat([...a,...i,...l]).join(lx),h=[...a.filter(E=>E.startsWith("aws-sdk-")),...l].join(lx);return e.runtime!=="browser"?(h&&(o[Gf]=o[Gf]?`${o[dx]} ${h}`:h),o[dx]=g):o[Gf]=g,t({...n,request:s})},uc=e=>{let t=e[0].split(Wf).map(i=>i.replace(v1,ux)).join(Wf),r=e[1]?.replace(R1,ux),n=t.indexOf(Wf),s=t.substring(0,n),o=t.substring(n+1);return s==="api"&&(o=o.toLowerCase()),[s,o,r].filter(i=>i&&i.length>0).reduce((i,a,d)=>{switch(d){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},fx={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},D1=e=>({applyToStack:t=>{t.add(px(e),fx)}});fs.DEFAULT_UA_APP_ID=mx;fs.getUserAgentMiddlewareOptions=fx;fs.getUserAgentPlugin=D1;fs.resolveUserAgentConfig=C1;fs.userAgentMiddleware=px});var hx=N(gs=>{"use strict";var O1=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}},k1=(e,t,r)=>{if(!(t in e))return;let n=parseInt(e[t],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${t}'. Expected number, got '${e[t]}'.`);return n};gs.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(gs.SelectorType||(gs.SelectorType={}));gs.booleanSelector=O1;gs.numberSelector=k1});var Wt=N(Ve=>{"use strict";var Kr=hx(),mc=rt(),Ex="AWS_USE_DUALSTACK_ENDPOINT",Sx="use_dualstack_endpoint",M1=!1,L1={environmentVariableSelector:e=>Kr.booleanSelector(e,Ex,Kr.SelectorType.ENV),configFileSelector:e=>Kr.booleanSelector(e,Sx,Kr.SelectorType.CONFIG),default:!1},bx="AWS_USE_FIPS_ENDPOINT",wx="use_fips_endpoint",B1=!1,U1={environmentVariableSelector:e=>Kr.booleanSelector(e,bx,Kr.SelectorType.ENV),configFileSelector:e=>Kr.booleanSelector(e,wx,Kr.SelectorType.CONFIG),default:!1},$1=e=>{let{tls:t,endpoint:r,urlParser:n,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:t??!0,endpoint:mc.normalizeProvider(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:mc.normalizeProvider(s??!1)})},F1=async e=>{let{tls:t=!0}=e,r=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(r,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${t?"https:":"http:"}//${i}`)},j1=e=>{let t=mc.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:r?mc.normalizeProvider(typeof r=="string"?s(r):r):()=>F1({...e,useDualstackEndpoint:t,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:t})},_x="AWS_REGION",xx="region",z1={environmentVariableSelector:e=>e[_x],configFileSelector:e=>e[xx],default:()=>{throw new Error("Region is missing")}},q1={preferredFile:"credentials"},Tx=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),gx=e=>Tx(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,H1=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return gx(t);let n=await t();return gx(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Tx(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},yx=(e=[],{useFipsEndpoint:t,useDualstackEndpoint:r})=>e.find(({tags:n})=>t===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,V1=(e,{regionHostname:t,partitionHostname:r})=>t||(r?r.replace("{region}",e):void 0),G1=(e,{partitionHash:t})=>Object.keys(t||{}).find(r=>t[r].regions.includes(e))??"aws",W1=(e,{signingRegion:t,regionRegex:r,useFipsEndpoint:n})=>{if(t)return t;if(n){let s=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},K1=(e,{useFipsEndpoint:t=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:s,partitionHash:o})=>{let i=G1(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,d={useFipsEndpoint:t,useDualstackEndpoint:r},l=yx(s[a]?.variants,d),p=yx(o[i]?.variants,d),f=V1(a,{regionHostname:l,partitionHostname:p});if(f===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:t,useDualstackEndpoint:r}}`);let g=W1(f,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:t});return{partition:i,signingService:n,hostname:f,...g&&{signingRegion:g},...s[a]?.signingService&&{signingService:s[a].signingService}}};Ve.CONFIG_USE_DUALSTACK_ENDPOINT=Sx;Ve.CONFIG_USE_FIPS_ENDPOINT=wx;Ve.DEFAULT_USE_DUALSTACK_ENDPOINT=M1;Ve.DEFAULT_USE_FIPS_ENDPOINT=B1;Ve.ENV_USE_DUALSTACK_ENDPOINT=Ex;Ve.ENV_USE_FIPS_ENDPOINT=bx;Ve.NODE_REGION_CONFIG_FILE_OPTIONS=q1;Ve.NODE_REGION_CONFIG_OPTIONS=z1;Ve.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=L1;Ve.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=U1;Ve.REGION_ENV_NAME=_x;Ve.REGION_INI_NAME=xx;Ve.getRegionInfo=K1;Ve.resolveCustomEndpointsConfig=$1;Ve.resolveEndpointsConfig=j1;Ve.resolveRegionConfig=H1});var Oo=N(pc=>{"use strict";var J1=Ee(),Cx="content-length";function Ix(e){return t=>async r=>{let n=r.request;if(J1.HttpRequest.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(Cx)===-1)try{let i=e(s);n.headers={...n.headers,[Cx]:String(i)}}catch{}}return t({...r,request:n})}}var Ax={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Y1=e=>({applyToStack:t=>{t.add(Ix(e.bodyLengthChecker),Ax)}});pc.contentLengthMiddleware=Ix;pc.contentLengthMiddlewareOptions=Ax;pc.getContentLengthPlugin=Y1});var Jf=N(fc=>{"use strict";Object.defineProperty(fc,"__esModule",{value:!0});fc.getHomeDir=void 0;var X1=require("os"),Q1=require("path"),Kf={},Z1=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",eM=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Q1.sep}`}=process.env;if(e)return e;if(t)return t;if(r)return`${n}${r}`;let s=Z1();return Kf[s]||(Kf[s]=(0,X1.homedir)()),Kf[s]};fc.getHomeDir=eM});var Yf=N(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.getSSOTokenFilepath=void 0;var tM=require("crypto"),rM=require("path"),nM=Jf(),sM=e=>{let r=(0,tM.createHash)("sha1").update(e).digest("hex");return(0,rM.join)((0,nM.getHomeDir)(),".aws","sso","cache",`${r}.json`)};hc.getSSOTokenFilepath=sM});var vx=N(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.getSSOTokenFromFile=Jr.tokenIntercept=void 0;var oM=require("fs"),iM=Yf(),{readFile:aM}=oM.promises;Jr.tokenIntercept={};var cM=async e=>{if(Jr.tokenIntercept[e])return Jr.tokenIntercept[e];let t=(0,iM.getSSOTokenFilepath)(e),r=await aM(t,"utf8");return JSON.parse(r)};Jr.getSSOTokenFromFile=cM});var Rx=N(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.slurpFile=Et.fileIntercept=Et.filePromisesHash=void 0;var dM=require("fs"),{readFile:lM}=dM.promises;Et.filePromisesHash={};Et.fileIntercept={};var uM=(e,t)=>Et.fileIntercept[e]!==void 0?Et.fileIntercept[e]:((!Et.filePromisesHash[e]||t?.ignoreCache)&&(Et.filePromisesHash[e]=lM(e,"utf8")),Et.filePromisesHash[e]);Et.slurpFile=uM});var hr=N(pt=>{"use strict";var ko=Jf(),Nx=Yf(),Xf=vx(),gc=require("path"),yc=Pr(),Mo=Rx(),Dx="AWS_PROFILE",Ox="default",mM=e=>e.profile||process.env[Dx]||Ox,Bn=".",pM=e=>Object.entries(e).filter(([t])=>{let r=t.indexOf(Bn);return r===-1?!1:Object.values(yc.IniSectionType).includes(t.substring(0,r))}).reduce((t,[r,n])=>{let s=r.indexOf(Bn),o=r.substring(0,s)===yc.IniSectionType.PROFILE?r.substring(s+1):r;return t[o]=n,t},{...e.default&&{default:e.default}}),fM="AWS_CONFIG_FILE",kx=()=>process.env[fM]||gc.join(ko.getHomeDir(),".aws","config"),hM="AWS_SHARED_CREDENTIALS_FILE",gM=()=>process.env[hM]||gc.join(ko.getHomeDir(),".aws","credentials"),yM=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,EM=["__proto__","profile __proto__"],Qf=e=>{let t={},r,n;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){r=void 0,n=void 0;let a=o.substring(1,o.length-1),d=yM.exec(a);if(d){let[,l,,p]=d;Object.values(yc.IniSectionType).includes(l)&&(r=[l,p].join(Bn))}else r=a;if(EM.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=o.indexOf("=");if(![0,-1].includes(a)){let[d,l]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(l==="")n=d;else{n&&s.trimStart()===s&&(n=void 0),t[r]=t[r]||{};let p=n?[n,d].join(Bn):d;t[r][p]=l}}}}return t},Px=()=>({}),Mx=async(e={})=>{let{filepath:t=gM(),configFilepath:r=kx()}=e,n=ko.getHomeDir(),s="~/",o=t;t.startsWith(s)&&(o=gc.join(n,t.slice(2)));let i=r;r.startsWith(s)&&(i=gc.join(n,r.slice(2)));let a=await Promise.all([Mo.slurpFile(i,{ignoreCache:e.ignoreCache}).then(Qf).then(pM).catch(Px),Mo.slurpFile(o,{ignoreCache:e.ignoreCache}).then(Qf).catch(Px)]);return{configFile:a[0],credentialsFile:a[1]}},SM=e=>Object.entries(e).filter(([t])=>t.startsWith(yc.IniSectionType.SSO_SESSION+Bn)).reduce((t,[r,n])=>({...t,[r.substring(r.indexOf(Bn)+1)]:n}),{}),bM=()=>({}),wM=async(e={})=>Mo.slurpFile(e.configFilepath??kx()).then(Qf).then(SM).catch(bM),_M=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t},xM=async e=>{let t=await Mx(e);return _M(t.configFile,t.credentialsFile)},TM={getFileRecord(){return Mo.fileIntercept},interceptFile(e,t){Mo.fileIntercept[e]=Promise.resolve(t)},getTokenRecord(){return Xf.tokenIntercept},interceptToken(e,t){Xf.tokenIntercept[e]=t}};Object.defineProperty(pt,"getSSOTokenFromFile",{enumerable:!0,get:function(){return Xf.getSSOTokenFromFile}});pt.CONFIG_PREFIX_SEPARATOR=Bn;pt.DEFAULT_PROFILE=Ox;pt.ENV_PROFILE=Dx;pt.externalDataInterceptor=TM;pt.getProfileName=mM;pt.loadSharedConfigFiles=Mx;pt.loadSsoSessionData=wM;pt.parseKnownFiles=xM;Object.keys(ko).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pt,e)&&Object.defineProperty(pt,e,{enumerable:!0,get:function(){return ko[e]}})});Object.keys(Nx).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(pt,e)&&Object.defineProperty(pt,e,{enumerable:!0,get:function(){return Nx[e]}})})});var Yr=N(Ux=>{"use strict";var Lo=at(),Lx=hr();function Bx(e){try{let t=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return t.delete("CONFIG"),t.delete("CONFIG_PREFIX_SEPARATOR"),t.delete("ENV"),[...t].join(", ")}catch{return e}}var CM=(e,t)=>async()=>{try{let r=e(process.env,t);if(r===void 0)throw new Error;return r}catch(r){throw new Lo.CredentialsProviderError(r.message||`Not found in ENV: ${Bx(e.toString())}`,{logger:t?.logger})}},IM=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=Lx.getProfileName(r),{configFile:s,credentialsFile:o}=await Lx.loadSharedConfigFiles(r),i=o[n]||{},a=s[n]||{},d=t==="config"?{...i,...a}:{...a,...i};try{let p=e(d,t==="config"?s:o);if(p===void 0)throw new Error;return p}catch(l){throw new Lo.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${Bx(e.toString())}`,{logger:r.logger})}},AM=e=>typeof e=="function",vM=e=>AM(e)?async()=>await e():Lo.fromStatic(e),RM=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>{let{signingName:s,logger:o}=n,i={signingName:s,logger:o};return Lo.memoize(Lo.chain(CM(e,i),IM(t,n),vM(r)))};Ux.loadConfig=RM});var zx=N(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.getEndpointUrlConfig=void 0;var $x=hr(),Fx="AWS_ENDPOINT_URL",jx="endpoint_url",NM=e=>({environmentVariableSelector:t=>{let r=e.split(" ").map(o=>o.toUpperCase()),n=t[[Fx,...r].join("_")];if(n)return n;let s=t[Fx];if(s)return s},configFileSelector:(t,r)=>{if(r&&t.services){let s=r[["services",t.services].join($x.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),jx].join($x.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let n=t[jx];if(n)return n},default:void 0});Ec.getEndpointUrlConfig=NM});var qx=N(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.getEndpointFromConfig=void 0;var PM=Yr(),DM=zx(),OM=async e=>(0,PM.loadConfig)((0,DM.getEndpointUrlConfig)(e??""))();Sc.getEndpointFromConfig=OM});var Xr=N(gr=>{"use strict";var Vx=qx(),Hx=Ur(),kM=(it(),de(An)),bc=rt(),MM=Or(),LM=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),jM(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!FM(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},BM=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,UM=/(\d+\.){3}\d+/,$M=/\.\./,FM=e=>BM.test(e)&&!UM.test(e)&&!$M.test(e),jM=e=>{let[t,r,n,,,s]=e.split(":"),o=t==="arn"&&e.split(":").length>=6,i=!!(o&&r&&n&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},zM=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="credentialScope"||t==="CredentialScope"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||t==="AccountId"?async()=>{let s=typeof r.credentials=="function"?await r.credentials():r.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||t==="endpoint"?async()=>{if(r.isCustomEndpoint===!1)return;let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:d}=s;return`${o}//${i}${a?":"+a:""}${d}`}}return s}:n},Zf=e=>typeof e=="object"?"url"in e?Hx.parseUrl(e.url):e:Hx.parseUrl(e),Gx=async(e,t,r,n)=>{if(!r.isCustomEndpoint){let i;r.serviceConfiguredEndpoint?i=await r.serviceConfiguredEndpoint():i=await Vx.getEndpointFromConfig(r.serviceId),i&&(r.endpoint=()=>Promise.resolve(Zf(i)),r.isCustomEndpoint=!0)}let s=await Wx(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},Wx=async(e,t,r)=>{let n={},s=t?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":n[o]=i.value;break;case"contextParams":n[o]=e[i.name];break;case"clientContextParams":case"builtInParams":n[o]=await zM(i.name,o,r)();break;case"operationContextParams":n[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await LM(n),n},Kx=({config:e,instructions:t})=>(r,n)=>async s=>{e.isCustomEndpoint&&kM.setFeature(n,"ENDPOINT_OVERRIDE","N");let o=await Gx(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=o.properties?.authSchemes;let i=n.authSchemes?.[0];if(i){n.signing_region=i.signingRegion,n.signing_service=i.signingName;let d=bc.getSmithyContext(n)?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return r({...s})},Jx={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:MM.serializerMiddlewareOption.name},qM=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Kx({config:e,instructions:t}),Jx)}}),HM=e=>{let t=e.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:s}=e,o=r!=null?async()=>Zf(await bc.normalizeProvider(r)()):void 0,a=Object.assign(e,{endpoint:o,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:bc.normalizeProvider(n??!1),useFipsEndpoint:bc.normalizeProvider(s??!1)}),d;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!d&&(d=Vx.getEndpointFromConfig(e.serviceId)),d),a},VM=e=>{let{endpoint:t}=e;return t===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};gr.endpointMiddleware=Kx;gr.endpointMiddlewareOptions=Jx;gr.getEndpointFromInstructions=Gx;gr.getEndpointPlugin=qM;gr.resolveEndpointConfig=HM;gr.resolveEndpointRequiredConfig=VM;gr.resolveParams=Wx;gr.toEndpointV1=Zf});var th=N(Qr=>{"use strict";var GM=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],WM=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],KM=["TimeoutError","RequestTimeout","RequestTimeoutException"],JM=[500,502,503,504],YM=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],XM=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],Yx=e=>e?.$retryable!==void 0,QM=e=>GM.includes(e.name),Xx=e=>e.$metadata?.clockSkewCorrected,Qx=e=>{let t=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?t.has(e.message):!1},ZM=e=>e.$metadata?.httpStatusCode===429||WM.includes(e.name)||e.$retryable?.throttling==!0,eh=(e,t=0)=>Yx(e)||Xx(e)||KM.includes(e.name)||YM.includes(e?.code||"")||XM.includes(e?.code||"")||JM.includes(e.$metadata?.httpStatusCode||0)||Qx(e)||e.cause!==void 0&&t<=10&&eh(e.cause,t+1),eL=e=>{if(e.$metadata?.httpStatusCode!==void 0){let t=e.$metadata.httpStatusCode;return 500<=t&&t<=599&&!eh(e)}return!1};Qr.isBrowserNetworkError=Qx;Qr.isClockSkewCorrectedError=Xx;Qr.isClockSkewError=QM;Qr.isRetryableByTrait=Yx;Qr.isServerError=eL;Qr.isThrottlingError=ZM;Qr.isTransientError=eh});var ys=N(Ie=>{"use strict";var tL=th();Ie.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Ie.RETRY_MODES||(Ie.RETRY_MODES={}));var rh=3,rL=Ie.RETRY_MODES.STANDARD,wc=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(t){this.beta=t?.beta??.7,this.minCapacity=t?.minCapacity??1,this.minFillRate=t?.minFillRate??.5,this.scaleConstant=t?.scaleConstant??.4,this.smooth=t?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>e.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),tL.isThrottlingError(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}},Bo=100,ih=20*1e3,eT=500,nh=500,tT=5,rT=10,nT=1,nL="amz-sdk-invocation-id",sL="amz-sdk-request",oL=()=>{let e=Bo;return{computeNextBackoffDelay:n=>Math.floor(Math.min(ih,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}},Zx=({retryDelay:e,retryCount:t,retryCost:r})=>({getRetryCount:()=>t,getRetryDelay:()=>Math.min(ih,e),getRetryCost:()=>r}),Uo=class{maxAttempts;mode=Ie.RETRY_MODES.STANDARD;capacity=nh;retryBackoffStrategy=oL();maxAttemptsProvider;constructor(t){this.maxAttempts=t,this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}async acquireInitialRetryToken(t){return Zx({retryDelay:Bo,retryCount:0})}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n)){let s=r.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?eT:Bo);let o=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),i=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,Zx({retryDelay:i,retryCount:t.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(nh,this.capacity+(t.getRetryCost()??nT))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${rh}`),rh}}shouldRetry(t,r,n){return t.getRetryCount()+1<n&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(t){return t==="TRANSIENT"?rT:tT}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},sh=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Ie.RETRY_MODES.ADAPTIVE;constructor(t,r){this.maxAttemptsProvider=t;let{rateLimiter:n}=r??{};this.rateLimiter=n??new wc,this.standardRetryStrategy=new Uo(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},oh=class extends Uo{computeNextBackoffDelay;constructor(t,r=Bo){super(typeof t=="function"?t:async()=>t),typeof r=="number"?this.computeNextBackoffDelay=()=>r:this.computeNextBackoffDelay=r}async refreshRetryTokenForRetry(t,r){let n=await super.refreshRetryTokenForRetry(t,r);return n.getRetryDelay=()=>this.computeNextBackoffDelay(n.getRetryCount()),n}};Ie.AdaptiveRetryStrategy=sh;Ie.ConfiguredRetryStrategy=oh;Ie.DEFAULT_MAX_ATTEMPTS=rh;Ie.DEFAULT_RETRY_DELAY_BASE=Bo;Ie.DEFAULT_RETRY_MODE=rL;Ie.DefaultRateLimiter=wc;Ie.INITIAL_RETRY_TOKENS=nh;Ie.INVOCATION_ID_HEADER=nL;Ie.MAXIMUM_RETRY_DELAY=ih;Ie.NO_RETRY_INCREMENT=nT;Ie.REQUEST_HEADER=sL;Ie.RETRY_COST=tT;Ie.StandardRetryStrategy=Uo;Ie.THROTTLING_RETRY_DELAY_BASE=eT;Ie.TIMEOUT_RETRY_COST=rT});var sT=N(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.isStreamingPayload=void 0;var iL=require("stream"),aL=e=>e?.body instanceof iL.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;_c.isStreamingPayload=aL});var yr=N($e=>{"use strict";var Te=ys(),Es=Ee(),Zr=th(),iT=va(),oT=rt(),cL=se(),dL=sT(),lL=(e,t)=>{let r=e,n=Te.NO_RETRY_INCREMENT,s=Te.RETRY_COST,o=Te.TIMEOUT_RETRY_COST,i=e,a=f=>f.name==="TimeoutError"?o:s,d=f=>a(f)<=i;return Object.freeze({hasRetryTokens:d,retrieveRetryTokens:f=>{if(!d(f))throw new Error("No retry token available");let g=a(f);return i-=g,g},releaseRetryTokens:f=>{i+=f??n,i=Math.min(i,r)}})},aT=(e,t)=>Math.floor(Math.min(Te.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e)),cT=e=>e?Zr.isRetryableByTrait(e)||Zr.isClockSkewError(e)||Zr.isThrottlingError(e)||Zr.isTransientError(e):!1,dT=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),xc=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Te.RETRY_MODES.STANDARD;constructor(t,r){this.maxAttemptsProvider=t,this.retryDecider=r?.retryDecider??cT,this.delayDecider=r?.delayDecider??aT,this.retryQuota=r?.retryQuota??lL(Te.INITIAL_RETRY_TOKENS)}shouldRetry(t,r,n){return r<n&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Te.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,r,n){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:d}=r;for(Es.HttpRequest.isInstance(d)&&(d.headers[Te.INVOCATION_ID_HEADER]=iT.v4());;)try{Es.HttpRequest.isInstance(d)&&(d.headers[Te.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),n?.beforeRequest&&await n.beforeRequest();let{response:l,output:p}=await t(r);return n?.afterRequest&&n.afterRequest(l),this.retryQuota.releaseRetryTokens(s),p.$metadata.attempts=o+1,p.$metadata.totalRetryDelay=i,{response:l,output:p}}catch(l){let p=dT(l);if(o++,this.shouldRetry(p,o,a)){s=this.retryQuota.retrieveRetryTokens(p);let f=this.delayDecider(Zr.isThrottlingError(p)?Te.THROTTLING_RETRY_DELAY_BASE:Te.DEFAULT_RETRY_DELAY_BASE,o),g=uL(p.$response),h=Math.max(g||0,f);i+=h,await new Promise(E=>setTimeout(E,h));continue}throw p.$metadata||(p.$metadata={}),p.$metadata.attempts=o,p.$metadata.totalRetryDelay=i,p}}},uL=e=>{if(!Es.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},ah=class extends xc{rateLimiter;constructor(t,r){let{rateLimiter:n,...s}=r??{};super(t,s),this.rateLimiter=n??new Te.DefaultRateLimiter,this.mode=Te.RETRY_MODES.ADAPTIVE}async retry(t,r){return super.retry(t,r,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:n=>{this.rateLimiter.updateClientSendingRate(n)}})}},ch="AWS_MAX_ATTEMPTS",dh="max_attempts",mL={environmentVariableSelector:e=>{let t=e[ch];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${ch} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[dh];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${dh} mast be a number, got "${t}"`);return r},default:Te.DEFAULT_MAX_ATTEMPTS},pL=e=>{let{retryStrategy:t,retryMode:r,maxAttempts:n}=e,s=oT.normalizeProvider(n??Te.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>t||(await oT.normalizeProvider(r)()===Te.RETRY_MODES.ADAPTIVE?new Te.AdaptiveRetryStrategy(s):new Te.StandardRetryStrategy(s))})},lT="AWS_RETRY_MODE",uT="retry_mode",fL={environmentVariableSelector:e=>e[lT],configFileSelector:e=>e[uT],default:Te.DEFAULT_RETRY_MODE},mT=()=>e=>async t=>{let{request:r}=t;return Es.HttpRequest.isInstance(r)&&(delete r.headers[Te.INVOCATION_ID_HEADER],delete r.headers[Te.REQUEST_HEADER]),e(t)},pT={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},hL=e=>({applyToStack:t=>{t.addRelativeTo(mT(),pT)}}),fT=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(gL(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,d=0,l=0,{request:p}=n,f=Es.HttpRequest.isInstance(p);for(f&&(p.headers[Te.INVOCATION_ID_HEADER]=iT.v4());;)try{f&&(p.headers[Te.REQUEST_HEADER]=`attempt=${d+1}; max=${o}`);let{response:g,output:h}=await t(n);return s.recordSuccess(i),h.$metadata.attempts=d+1,h.$metadata.totalRetryDelay=l,{response:g,output:h}}catch(g){let h=yL(g);if(a=dT(g),f&&dL.isStreamingPayload(p))throw(r.logger instanceof cL.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=d+1,a.$metadata.totalRetryDelay=l,a}d=i.getRetryCount();let E=i.getRetryDelay();l+=E,await new Promise(C=>setTimeout(C,E))}}else return s=s,s?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},gL=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",yL=e=>{let t={error:e,errorType:EL(e)},r=gT(e.$response);return r&&(t.retryAfterHint=r),t},EL=e=>Zr.isThrottlingError(e)?"THROTTLING":Zr.isTransientError(e)?"TRANSIENT":Zr.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",hT={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},SL=e=>({applyToStack:t=>{t.add(fT(e),hT)}}),gT=e=>{if(!Es.HttpResponse.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};$e.AdaptiveRetryStrategy=ah;$e.CONFIG_MAX_ATTEMPTS=dh;$e.CONFIG_RETRY_MODE=uT;$e.ENV_MAX_ATTEMPTS=ch;$e.ENV_RETRY_MODE=lT;$e.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=mL;$e.NODE_RETRY_MODE_CONFIG_OPTIONS=fL;$e.StandardRetryStrategy=xc;$e.defaultDelayDecider=aT;$e.defaultRetryDecider=cT;$e.getOmitRetryHeadersPlugin=hL;$e.getRetryAfterHint=gT;$e.getRetryPlugin=SL;$e.omitRetryHeadersMiddleware=mT;$e.omitRetryHeadersMiddlewareOptions=pT;$e.resolveRetryConfig=pL;$e.retryMiddleware=fT;$e.retryMiddlewareOptions=hT});var uh=N(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.resolveHttpAuthSchemeConfig=en.defaultDynamoDBHttpAuthSchemeProvider=en.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var bL=(Ue(),de(kt)),lh=rt(),wL=async(e,t,r)=>({operation:(0,lh.getSmithyContext)(t).operation,region:await(0,lh.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});en.defaultDynamoDBHttpAuthSchemeParametersProvider=wL;function _L(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}var xL=e=>{let t=[];switch(e.operation){default:t.push(_L(e))}return t};en.defaultDynamoDBHttpAuthSchemeProvider=xL;var TL=e=>{let t=(0,bL.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,lh.normalizeProvider)(e.authSchemePreference??[])})};en.resolveHttpAuthSchemeConfig=TL});var yT=N((N5,CL)=>{CL.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/credential-provider-node":"3.911.0","@aws-sdk/middleware-endpoint-discovery":"3.910.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.2","@smithy/uuid":"^1.1.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var mh=N(tn=>{"use strict";var IL=(Ot(),de(Fr)),AL=at(),ET="AWS_ACCESS_KEY_ID",ST="AWS_SECRET_ACCESS_KEY",bT="AWS_SESSION_TOKEN",wT="AWS_CREDENTIAL_EXPIRATION",_T="AWS_CREDENTIAL_SCOPE",xT="AWS_ACCOUNT_ID",vL=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let t=process.env[ET],r=process.env[ST],n=process.env[bT],s=process.env[wT],o=process.env[_T],i=process.env[xT];if(t&&r){let a={accessKeyId:t,secretAccessKey:r,...n&&{sessionToken:n},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return IL.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new AL.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};tn.ENV_ACCOUNT_ID=xT;tn.ENV_CREDENTIAL_SCOPE=_T;tn.ENV_EXPIRATION=wT;tn.ENV_KEY=ET;tn.ENV_SECRET=ST;tn.ENV_SESSION=bT;tn.fromEnv=vL});var Fo=N(Qe=>{"use strict";var Kt=at(),RL=require("url"),NL=require("buffer"),PL=require("http"),yh=Yr(),DL=Ur();function $o(e){return new Promise((t,r)=>{let n=PL.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",s=>{r(Object.assign(new Kt.ProviderError("Unable to connect to instance metadata service"),s)),n.destroy()}),n.on("timeout",()=>{r(new Kt.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(r(Object.assign(new Kt.ProviderError("Error response received from instance metadata service"),{statusCode:o})),n.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{t(NL.Buffer.concat(i)),n.destroy()})}),n.end()})}var AT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",vT=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),RT=1e3,NT=0,Eh=({maxRetries:e=NT,timeout:t=RT})=>({maxRetries:e,timeout:t}),fh=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r},Tc="AWS_CONTAINER_CREDENTIALS_FULL_URI",Cc="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",hh="AWS_CONTAINER_AUTHORIZATION_TOKEN",OL=(e={})=>{let{timeout:t,maxRetries:r}=Eh(e);return()=>fh(async()=>{let n=await UL({logger:e.logger}),s=JSON.parse(await kL(t,n));if(!AT(s))throw new Kt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return vT(s)},r)},kL=async(e,t)=>(process.env[hh]&&(t.headers={...t.headers,Authorization:process.env[hh]}),(await $o({...t,timeout:e})).toString()),ML="169.254.170.2",LL={localhost:!0,"127.0.0.1":!0},BL={"http:":!0,"https:":!0},UL=async({logger:e})=>{if(process.env[Cc])return{hostname:ML,path:process.env[Cc]};if(process.env[Tc]){let t=RL.parse(process.env[Tc]);if(!t.hostname||!(t.hostname in LL))throw new Kt.CredentialsProviderError(`${t.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!t.protocol||!(t.protocol in BL))throw new Kt.CredentialsProviderError(`${t.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new Kt.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Cc} or ${Tc} environment variable is set`,{tryNextLink:!1,logger:e})},gh=class e extends Kt.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(t,r=!0){super(t,r),this.tryNextLink=r,Object.setPrototypeOf(this,e.prototype)}};Qe.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Qe.Endpoint||(Qe.Endpoint={}));var $L="AWS_EC2_METADATA_SERVICE_ENDPOINT",FL="ec2_metadata_service_endpoint",jL={environmentVariableSelector:e=>e[$L],configFileSelector:e=>e[FL],default:void 0},Ss;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(Ss||(Ss={}));var zL="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",qL="ec2_metadata_service_endpoint_mode",HL={environmentVariableSelector:e=>e[zL],configFileSelector:e=>e[qL],default:Ss.IPv4},PT=async()=>DL.parseUrl(await VL()||await GL()),VL=async()=>yh.loadConfig(jL)(),GL=async()=>{let e=await yh.loadConfig(HL)();switch(e){case Ss.IPv4:return Qe.Endpoint.IPv4;case Ss.IPv6:return Qe.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(Ss)}`)}},WL=300,KL=300,JL="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",TT=(e,t)=>{let r=WL+Math.floor(Math.random()*KL),n=new Date(Date.now()+r*1e3);t.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+JL);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}},YL=(e,t={})=>{let r=t?.logger||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=TT(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=TT(n,r);else throw o}return n=s,s}},DT="/latest/meta-data/iam/security-credentials/",XL="/latest/api/token",ph="AWS_EC2_METADATA_V1_DISABLED",CT="ec2_metadata_v1_disabled",IT="x-aws-ec2-metadata-token",QL=(e={})=>YL(ZL(e),{logger:e.logger}),ZL=(e={})=>{let t=!1,{logger:r,profile:n}=e,{timeout:s,maxRetries:o}=Eh(e),i=async(a,d)=>{if(t||d.headers?.[IT]==null){let f=!1,g=!1,h=await yh.loadConfig({environmentVariableSelector:E=>{let C=E[ph];if(g=!!C&&C!=="false",C===void 0)throw new Kt.CredentialsProviderError(`${ph} not set in env, checking config file next.`,{logger:e.logger});return g},configFileSelector:E=>{let C=E[CT];return f=!!C&&C!=="false",f},default:!1},{profile:n})();if(e.ec2MetadataV1Disabled||h){let E=[];throw e.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),f&&E.push(`config file profile (${CT})`),g&&E.push(`process environment variable (${ph})`),new gh(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let p=(await fh(async()=>{let f;try{f=await tB(d)}catch(g){throw g.statusCode===401&&(t=!1),g}return f},a)).trim();return fh(async()=>{let f;try{f=await rB(p,d,e)}catch(g){throw g.statusCode===401&&(t=!1),g}return f},a)};return async()=>{let a=await PT();if(t)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let d;try{d=(await eB({...a,timeout:s})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(t=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[IT]:d},timeout:s})}}},eB=async e=>$o({...e,path:XL,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),tB=async e=>(await $o({...e,path:DT})).toString(),rB=async(e,t,r)=>{let n=JSON.parse((await $o({...t,path:DT+e})).toString());if(!AT(n))throw new Kt.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return vT(n)};Qe.DEFAULT_MAX_RETRIES=NT;Qe.DEFAULT_TIMEOUT=RT;Qe.ENV_CMDS_AUTH_TOKEN=hh;Qe.ENV_CMDS_FULL_URI=Tc;Qe.ENV_CMDS_RELATIVE_URI=Cc;Qe.fromContainerMetadata=OL;Qe.fromInstanceMetadata=QL;Qe.getInstanceMetadataEndpoint=PT;Qe.httpRequest=$o;Qe.providerConfigFromInit=Eh});var OT=N(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.checkUrl=void 0;var nB=at(),sB="169.254.170.2",oB="169.254.170.23",iB="[fd00:ec2::23]",aB=(e,t)=>{if(e.protocol!=="https:"&&!(e.hostname===sB||e.hostname===oB||e.hostname===iB)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let r=e.hostname.split("."),n=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new nB.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:t})}};Ic.checkUrl=aB});var kT=N(Ac=>{"use strict";Object.defineProperty(Ac,"__esModule",{value:!0});Ac.createGetRequest=uB;Ac.getCredentials=mB;var Sh=at(),cB=Ee(),dB=se(),lB=ma();function uB(e){return new cB.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((t,[r,n])=>(t[r]=n,t),{}),fragment:e.hash})}async function mB(e,t){let n=await(0,lB.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(n);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Sh.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,dB.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(n)}catch{}throw Object.assign(new Sh.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:s.Code,Message:s.Message})}throw new Sh.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:t})}});var MT=N(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.retryWrapper=void 0;var pB=(e,t,r)=>async()=>{for(let n=0;n<t;++n)try{return await e()}catch{await new Promise(o=>setTimeout(o,r))}return await e()};vc.retryWrapper=pB});var UT=N(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.fromHttp=void 0;var fB=(fo(),de(po)),hB=(Ot(),de(Fr)),gB=Sn(),LT=at(),yB=fB.__importDefault(require("fs/promises")),EB=OT(),BT=kT(),SB=MT(),bB="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wB="http://169.254.170.2",_B="AWS_CONTAINER_CREDENTIALS_FULL_URI",xB="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",TB="AWS_CONTAINER_AUTHORIZATION_TOKEN",CB=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let t,r=e.awsContainerCredentialsRelativeUri??process.env[bB],n=e.awsContainerCredentialsFullUri??process.env[_B],s=e.awsContainerAuthorizationToken??process.env[TB],o=e.awsContainerAuthorizationTokenFile??process.env[xB],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(r&&n&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),n)t=n;else if(r)t=`${wB}${r}`;else throw new LT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(t);(0,EB.checkUrl)(a,e.logger);let d=gB.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,SB.retryWrapper)(async()=>{let l=(0,BT.createGetRequest)(a);s?l.headers.Authorization=s:o&&(l.headers.Authorization=(await yB.default.readFile(o)).toString());try{let p=await d.handle(l);return(0,BT.getCredentials)(p.response).then(f=>(0,hB.setCredentialFeature)(f,"CREDENTIALS_HTTP","z"))}catch(p){throw new LT.CredentialsProviderError(String(p),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Rc.fromHttp=CB});var bh=N(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.fromHttp=void 0;var IB=UT();Object.defineProperty(Nc,"fromHttp",{enumerable:!0,get:function(){return IB.fromHttp}})});function AB(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function vB(e){return{schemeId:"smithy.api#noAuth"}}var jo,$T,FT,jT,wh=_(()=>{Ue();jo=T(rt()),$T=async(e,t,r)=>({operation:(0,jo.getSmithyContext)(t).operation,region:await(0,jo.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});FT=e=>{let t=[];switch(e.operation){case"CreateToken":{t.push(vB(e));break}default:t.push(AB(e))}return t},jT=e=>{let t=Pn(e);return Object.assign(t,{authSchemePreference:(0,jo.normalizeProvider)(e.authSchemePreference??[])})}});var zT,qT,_h=_(()=>{zT=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),qT={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Pc,xh=_(()=>{Pc={name:"@aws-sdk/nested-clients",version:"3.911.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var zo=N(Un=>{"use strict";var HT=require("os"),Th=require("process"),NB=hs(),VT={isCrtAvailable:!1},PB=()=>VT.isCrtAvailable?["md/crt-avail"]:null,GT=({serviceId:e,clientVersion:t})=>async r=>{let n=[["aws-sdk-js",t],["ua","2.1"],[`os/${HT.platform()}`,HT.release()],["lang/js"],["md/nodejs",`${Th.versions.node}`]],s=PB();s&&n.push(s),e&&n.push([`api/${e}`,t]),Th.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Th.env.AWS_EXECUTION_ENV}`]);let o=await r?.userAgentAppId?.();return o?[...n,[`app/${o}`]]:[...n]},DB=GT,WT="AWS_SDK_UA_APP_ID",KT="sdk_ua_app_id",OB="sdk-ua-app-id",kB={environmentVariableSelector:e=>e[WT],configFileSelector:e=>e[KT]??e[OB],default:NB.DEFAULT_UA_APP_ID};Un.NODE_APP_ID_CONFIG_OPTIONS=kB;Un.UA_APP_ID_ENV_NAME=WT;Un.UA_APP_ID_INI_NAME=KT;Un.createDefaultUserAgentProvider=GT;Un.crtAvailability=VT;Un.defaultUserAgent=DB});var qo=N(XT=>{"use strict";var Ch=Kn(),MB=qe(),LB=require("buffer"),JT=require("crypto"),Ih=class{algorithmIdentifier;secret;hash;constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(MB.toUint8Array(YT(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?JT.createHmac(this.algorithmIdentifier,YT(this.secret)):JT.createHash(this.algorithmIdentifier)}};function YT(e,t){return LB.Buffer.isBuffer(e)?e:typeof e=="string"?Ch.fromString(e,t):ArrayBuffer.isView(e)?Ch.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Ch.fromArrayBuffer(e)}XT.Hash=Ih});var Ho=N(QT=>{"use strict";var Ah=require("node:fs"),BB=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Ah.ReadStream){if(e.path!=null)return Ah.lstatSync(e.path).size;if(typeof e.fd=="number")return Ah.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};QT.calculateBodyLength=BB});var cC,Ct,ZT,Vo,bs,ws,Er,vh,Rh,eC,tC,rC,dC,lC,Tt,nC,uC,sC,oC,iC,aC,UB,mC,pC=_(()=>{cC="required",Ct="argv",ZT="isSet",Vo="booleanEquals",bs="error",ws="endpoint",Er="tree",vh="PartitionResult",Rh="getAttr",eC={[cC]:!1,type:"String"},tC={[cC]:!0,default:!1,type:"Boolean"},rC={ref:"Endpoint"},dC={fn:Vo,[Ct]:[{ref:"UseFIPS"},!0]},lC={fn:Vo,[Ct]:[{ref:"UseDualStack"},!0]},Tt={},nC={fn:Rh,[Ct]:[{ref:vh},"supportsFIPS"]},uC={ref:vh},sC={fn:Vo,[Ct]:[!0,{fn:Rh,[Ct]:[uC,"supportsDualStack"]}]},oC=[dC],iC=[lC],aC=[{ref:"Region"}],UB={version:"1.0",parameters:{Region:eC,UseDualStack:tC,UseFIPS:tC,Endpoint:eC},rules:[{conditions:[{fn:ZT,[Ct]:[rC]}],rules:[{conditions:oC,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:bs},{conditions:iC,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:bs},{endpoint:{url:rC,properties:Tt,headers:Tt},type:ws}],type:Er},{conditions:[{fn:ZT,[Ct]:aC}],rules:[{conditions:[{fn:"aws.partition",[Ct]:aC,assign:vh}],rules:[{conditions:[dC,lC],rules:[{conditions:[{fn:Vo,[Ct]:[!0,nC]},sC],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:ws}],type:Er},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:bs}],type:Er},{conditions:oC,rules:[{conditions:[{fn:Vo,[Ct]:[nC,!0]}],rules:[{conditions:[{fn:"stringEquals",[Ct]:[{fn:Rh,[Ct]:[uC,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Tt,headers:Tt},type:ws},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:ws}],type:Er},{error:"FIPS is enabled but this partition does not support FIPS",type:bs}],type:Er},{conditions:iC,rules:[{conditions:[sC],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Tt,headers:Tt},type:ws}],type:Er},{error:"DualStack is enabled but this partition does not support DualStack",type:bs}],type:Er},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Tt,headers:Tt},type:ws}],type:Er}],type:Er},{error:"Invalid Configuration: Missing Region",type:bs}]},mC=UB});var fC,_s,$B,hC,gC=_(()=>{fC=T(ss()),_s=T(rs());pC();$B=new _s.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),hC=(e,t={})=>$B.get(e,()=>(0,_s.resolveEndpoint)(mC,{endpointParams:e,logger:t.logger}));_s.customEndpointFunctions.aws=fC.awsEndpointFunctions});var yC,EC,Dc,Oc,SC,bC=_(()=>{Ue();it();yC=T(se()),EC=T(Ur()),Dc=T(He()),Oc=T(qe());wh();gC();SC=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Dc.fromBase64,base64Encoder:e?.base64Encoder??Dc.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??hC,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??FT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new mt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dr}],logger:e?.logger??new yC.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??EC.parseUrl,utf8Decoder:e?.utf8Decoder??Oc.fromUtf8,utf8Encoder:e?.utf8Encoder??Oc.toUtf8})});var Go=N(TC=>{"use strict";var FB=Wt(),wC=Yr(),jB=at(),zB="AWS_EXECUTION_ENV",_C="AWS_REGION",xC="AWS_DEFAULT_REGION",qB="AWS_EC2_METADATA_DISABLED",HB=["in-region","cross-region","mobile","standard","legacy"],VB="/latest/meta-data/placement/region",GB="AWS_DEFAULTS_MODE",WB="defaults_mode",KB={environmentVariableSelector:e=>e[GB],configFileSelector:e=>e[WB],default:"legacy"},JB=({region:e=wC.loadConfig(FB.NODE_REGION_CONFIG_OPTIONS),defaultsMode:t=wC.loadConfig(KB)}={})=>jB.memoize(async()=>{let r=typeof t=="function"?await t():t;switch(r?.toLowerCase()){case"auto":return YB(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${HB.join(", ")}, got ${r}`)}}),YB=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await XB();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},XB=async()=>{if(process.env[zB]&&(process.env[_C]||process.env[xC]))return process.env[_C]??process.env[xC];if(!process.env[qB])try{let{getInstanceMetadataEndpoint:e,httpRequest:t}=await Promise.resolve().then(()=>T(Fo())),r=await e();return(await t({...r,path:VB})).toString()}catch{}};TC.resolveDefaultsModeConfig=JB});var kc,nn,CC,Mc,rn,Lc,IC,AC,vC,RC,NC,PC,DC=_(()=>{xh();Ue();kc=T(zo()),nn=T(Wt()),CC=T(qo()),Mc=T(yr()),rn=T(Yr()),Lc=T(Sn()),IC=T(Ho()),AC=T(ys());bC();vC=T(se()),RC=T(Go()),NC=T(se()),PC=e=>{(0,NC.emitWarningIfUnsupportedVersion)(process.version);let t=(0,RC.resolveDefaultsModeConfig)(e),r=()=>t().then(vC.loadConfigsForDefaultMode),n=SC(e);os(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,rn.loadConfig)(cs,s),bodyLengthChecker:e?.bodyLengthChecker??IC.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,kc.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Pc.version}),maxAttempts:e?.maxAttempts??(0,rn.loadConfig)(Mc.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,rn.loadConfig)(nn.NODE_REGION_CONFIG_OPTIONS,{...nn.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Lc.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,rn.loadConfig)({...Mc.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||AC.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??CC.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Lc.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,rn.loadConfig)(nn.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,rn.loadConfig)(nn.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,rn.loadConfig)(kc.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var Wo=N(sn=>{"use strict";var QB=e=>({setRegion(t){e.region=t},region(){return e.region}}),ZB=e=>({region:e.region()}),kC="AWS_REGION",MC="region",eU={environmentVariableSelector:e=>e[kC],configFileSelector:e=>e[MC],default:()=>{throw new Error("Region is missing")}},tU={preferredFile:"credentials"},LC=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),OC=e=>LC(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,rU=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{if(typeof t=="string")return OC(t);let n=await t();return OC(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return LC(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})};sn.NODE_REGION_CONFIG_FILE_OPTIONS=tU;sn.NODE_REGION_CONFIG_OPTIONS=eU;sn.REGION_ENV_NAME=kC;sn.REGION_INI_NAME=MC;sn.getAwsRegionExtensionConfiguration=QB;sn.resolveAwsRegionExtensionConfiguration=ZB;sn.resolveRegionConfig=rU});var BC,UC,$C=_(()=>{BC=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},UC=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Bc,Uc,$c,FC,jC=_(()=>{Bc=T(Wo()),Uc=T(Ee()),$c=T(se());$C();FC=(e,t)=>{let r=Object.assign((0,Bc.getAwsRegionExtensionConfiguration)(e),(0,$c.getDefaultExtensionConfiguration)(e),(0,Uc.getHttpHandlerExtensionConfiguration)(e),BC(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Bc.resolveAwsRegionExtensionConfiguration)(r),(0,$c.resolveDefaultRuntimeConfig)(r),(0,Uc.resolveHttpHandlerRuntimeConfig)(r),UC(r))}});var Fc,zC,qC,jc,HC,VC,GC,zc,Nh,Ko,Ph=_(()=>{Fc=T(Ys()),zC=T(Xs()),qC=T(Qs()),jc=T(hs()),HC=T(Wt());it();VC=T(Oo()),GC=T(Xr()),zc=T(yr()),Nh=T(se());wh();_h();DC();jC();Ko=class extends Nh.Client{config;constructor(...[t]){let r=PC(t||{});super(r),this.initConfig=r;let n=zT(r),s=(0,jc.resolveUserAgentConfig)(n),o=(0,zc.resolveRetryConfig)(s),i=(0,HC.resolveRegionConfig)(o),a=(0,Fc.resolveHostHeaderConfig)(i),d=(0,GC.resolveEndpointConfig)(a),l=jT(d),p=FC(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,jc.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,zc.getRetryPlugin)(this.config)),this.middlewareStack.use((0,VC.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Fc.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,zC.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,qC.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(eo(this.config,{httpAuthSchemeParametersProvider:$T,identityProviderConfigProvider:async f=>new In({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(to(this.config))}destroy(){super.destroy()}}});var WC,ze,qc=_(()=>{WC=T(se()),ze=class e extends WC.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var $n,nU,Jo,Yo,Dh,Oh,Xo,Qo,Zo,ei,sU,ti,ri,ni,si,oi,Hc=_(()=>{$n=T(se());qc();nU={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Jo=class e extends ze{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},Yo=class e extends ze{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Dh=e=>({...e,...e.clientSecret&&{clientSecret:$n.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:$n.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:$n.SENSITIVE_STRING}}),Oh=e=>({...e,...e.accessToken&&{accessToken:$n.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:$n.SENSITIVE_STRING},...e.idToken&&{idToken:$n.SENSITIVE_STRING}}),Xo=class e extends ze{name="ExpiredTokenException";$fault="client";error;error_description;constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Qo=class e extends ze{name="InternalServerException";$fault="server";error;error_description;constructor(t){super({name:"InternalServerException",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},Zo=class e extends ze{name="InvalidClientException";$fault="client";error;error_description;constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ei=class e extends ze{name="InvalidGrantException";$fault="client";error;error_description;constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},sU={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},ti=class e extends ze{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.reason=t.reason,this.error_description=t.error_description}},ri=class e extends ze{name="InvalidScopeException";$fault="client";error;error_description;constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},ni=class e extends ze{name="SlowDownException";$fault="client";error;error_description;constructor(t){super({name:"SlowDownException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},si=class e extends ze{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}},oi=class e extends ze{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.error=t.error,this.error_description=t.error_description}}});var k,KC,JC,oU,iU,aU,cU,dU,lU,uU,mU,pU,fU,hU,gU,yU,It,YC=_(()=>{Ue();it();k=T(se());Hc();qc();KC=async(e,t)=>{let r=yo(e,t),n={"content-type":"application/json"};r.bp("/token");let s;return s=JSON.stringify((0,k.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,k._json)(o)})),r.m("POST").h(n).b(s),r.build()},JC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return oU(e,t);let r=(0,k.map)({$metadata:It(e)}),n=(0,k.expectNonNull)((0,k.expectObject)(await ps(e.body,t)),"body"),s=(0,k.take)(n,{accessToken:k.expectString,expiresIn:k.expectInt32,idToken:k.expectString,refreshToken:k.expectString,tokenType:k.expectString});return Object.assign(r,s),r},oU=async(e,t)=>{let r={...e,body:await vf(e.body,t)},n=On(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await aU(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await cU(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await dU(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await lU(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await uU(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await mU(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await pU(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await fU(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await hU(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await gU(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await yU(r,t);default:let s=r.body;return iU({output:e,parsedBody:s,errorCode:n})}},iU=(0,k.withBaseException)(ze),aU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString,reason:k.expectString});Object.assign(r,s);let o=new Jo({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},cU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Yo({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},dU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Xo({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},lU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Qo({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},uU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new Zo({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},mU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new ei({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},pU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString,reason:k.expectString});Object.assign(r,s);let o=new ti({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},fU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new ri({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},hU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new ni({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},gU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new si({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},yU=async(e,t)=>{let r=(0,k.map)({}),n=e.body,s=(0,k.take)(n,{error:k.expectString,error_description:k.expectString});Object.assign(r,s);let o=new oi({$metadata:It(e),...r});return(0,k.decorateServiceException)(o,e.body)},It=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var XC,QC,kh,ii,Mh=_(()=>{XC=T(Xr()),QC=T(Or()),kh=T(se());_h();Hc();YC();ii=class extends kh.Command.classBuilder().ep(qT).m(function(t,r,n,s){return[(0,QC.getSerdePlugin)(n,this.serialize,this.deserialize),(0,XC.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(Dh,Oh).ser(KC).de(JC).build(){}});var ZC,EU,Vc,eI=_(()=>{ZC=T(se());Mh();Ph();EU={CreateTokenCommand:ii},Vc=class extends Ko{};(0,ZC.createAggregatedClient)(EU,Vc)});var tI=_(()=>{Mh()});var rI=_(()=>{Hc()});var Lh={};gt(Lh,{$Command:()=>kh.Command,AccessDeniedException:()=>Jo,AccessDeniedExceptionReason:()=>nU,AuthorizationPendingException:()=>Yo,CreateTokenCommand:()=>ii,CreateTokenRequestFilterSensitiveLog:()=>Dh,CreateTokenResponseFilterSensitiveLog:()=>Oh,ExpiredTokenException:()=>Xo,InternalServerException:()=>Qo,InvalidClientException:()=>Zo,InvalidGrantException:()=>ei,InvalidRequestException:()=>ti,InvalidRequestExceptionReason:()=>sU,InvalidScopeException:()=>ri,SSOOIDC:()=>Vc,SSOOIDCClient:()=>Ko,SSOOIDCServiceException:()=>ze,SlowDownException:()=>ni,UnauthorizedClientException:()=>si,UnsupportedGrantTypeException:()=>oi,__Client:()=>Nh.Client});var Bh=_(()=>{Ph();eI();tI();rI();qc()});var iI=N(ci=>{"use strict";var SU=(Ot(),de(Fr)),bU=(Qp(),de(i_)),St=at(),ai=hr(),wU=require("fs"),_U=({logger:e,signingName:t}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!t)throw new St.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let r=bU.getBearerTokenEnvKey(t);if(!(r in process.env))throw new St.TokenProviderError(`Token not present in '${r}' environment variable`,{logger:e});let n={token:process.env[r]};return SU.setTokenFeature(n,"BEARER_SERVICE_ENV_VARS","3"),n},xU=300*1e3,Uh="To refresh this SSO session run 'aws sso login' with the corresponding profile.",TU=async(e,t={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>(Bh(),Lh));return new r(Object.assign({},t.clientConfig??{},{region:e??t.clientConfig?.region,logger:t.clientConfig?.logger??t.parentClientConfig?.logger}))},CU=async(e,t,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>(Bh(),Lh));return(await TU(t,r)).send(new n({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},nI=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new St.TokenProviderError(`Token is expired. ${Uh}`,!1)},Fn=(e,t,r=!1)=>{if(typeof t>"u")throw new St.TokenProviderError(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${Uh}`,!1)},{writeFile:IU}=wU.promises,AU=(e,t)=>{let r=ai.getSSOTokenFilepath(e),n=JSON.stringify(t,null,2);return IU(r,n)},sI=new Date(0),oI=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await ai.parseKnownFiles(r),s=ai.getProfileName({profile:r.profile??t?.profile}),o=n[s];if(o){if(!o.sso_session)throw new St.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new St.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,d=(await ai.loadSsoSessionData(r))[i];if(!d)throw new St.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!d[E])throw new St.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);d.sso_start_url;let l=d.sso_region,p;try{p=await ai.getSSOTokenFromFile(i)}catch{throw new St.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Uh}`,!1)}Fn("accessToken",p.accessToken),Fn("expiresAt",p.expiresAt);let{accessToken:f,expiresAt:g}=p,h={token:f,expiration:new Date(g)};if(h.expiration.getTime()-Date.now()>xU)return h;if(Date.now()-sI.getTime()<30*1e3)return nI(h),h;Fn("clientId",p.clientId,!0),Fn("clientSecret",p.clientSecret,!0),Fn("refreshToken",p.refreshToken,!0);try{sI.setTime(Date.now());let E=await CU(p,l,r);Fn("accessToken",E.accessToken),Fn("expiresIn",E.expiresIn);let C=new Date(Date.now()+E.expiresIn*1e3);try{await AU(i,{...p,accessToken:E.accessToken,expiresAt:C.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:C}}catch{return nI(h),h}},vU=({token:e,logger:t})=>async()=>{if(t?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new St.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},RU=(e={})=>St.memoize(St.chain(oI(e),async()=>{throw new St.TokenProviderError("Could not load token from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);ci.fromEnvSigningName=_U;ci.fromSso=oI;ci.fromStatic=vU;ci.nodeProvider=RU});var Fh=N(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.resolveHttpAuthSchemeConfig=on.defaultSSOHttpAuthSchemeProvider=on.defaultSSOHttpAuthSchemeParametersProvider=void 0;var NU=(Ue(),de(kt)),$h=rt(),PU=async(e,t,r)=>({operation:(0,$h.getSmithyContext)(t).operation,region:await(0,$h.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});on.defaultSSOHttpAuthSchemeParametersProvider=PU;function DU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function Gc(e){return{schemeId:"smithy.api#noAuth"}}var OU=e=>{let t=[];switch(e.operation){case"GetRoleCredentials":{t.push(Gc(e));break}case"ListAccountRoles":{t.push(Gc(e));break}case"ListAccounts":{t.push(Gc(e));break}case"Logout":{t.push(Gc(e));break}default:t.push(DU(e))}return t};on.defaultSSOHttpAuthSchemeProvider=OU;var kU=e=>{let t=(0,NU.resolveAwsSdkSigV4Config)(e);return Object.assign(t,{authSchemePreference:(0,$h.normalizeProvider)(e.authSchemePreference??[])})};on.resolveHttpAuthSchemeConfig=kU});var aI=N((FX,MU)=>{MU.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.911.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.911.0","@aws-sdk/middleware-host-header":"3.910.0","@aws-sdk/middleware-logger":"3.910.0","@aws-sdk/middleware-recursion-detection":"3.910.0","@aws-sdk/middleware-user-agent":"3.911.0","@aws-sdk/region-config-resolver":"3.910.0","@aws-sdk/types":"3.910.0","@aws-sdk/util-endpoints":"3.910.0","@aws-sdk/util-user-agent-browser":"3.910.0","@aws-sdk/util-user-agent-node":"3.911.0","@smithy/config-resolver":"^4.3.2","@smithy/core":"^3.16.1","@smithy/fetch-http-handler":"^5.3.3","@smithy/hash-node":"^4.2.2","@smithy/invalid-dependency":"^4.2.2","@smithy/middleware-content-length":"^4.2.2","@smithy/middleware-endpoint":"^4.3.3","@smithy/middleware-retry":"^4.4.3","@smithy/middleware-serde":"^4.2.2","@smithy/middleware-stack":"^4.2.2","@smithy/node-config-provider":"^4.3.2","@smithy/node-http-handler":"^4.4.1","@smithy/protocol-http":"^5.3.2","@smithy/smithy-client":"^4.8.1","@smithy/types":"^4.7.1","@smithy/url-parser":"^4.2.2","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.2","@smithy/util-defaults-mode-node":"^4.2.3","@smithy/util-endpoints":"^3.2.2","@smithy/util-middleware":"^4.2.2","@smithy/util-retry":"^4.2.2","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var _I=N(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.ruleSet=void 0;var EI="required",vt="fn",Rt="argv",Cs="ref",cI=!0,dI="isSet",di="booleanEquals",xs="error",Ts="endpoint",Sr="tree",jh="PartitionResult",zh="getAttr",lI={[EI]:!1,type:"String"},uI={[EI]:!0,default:!1,type:"Boolean"},mI={[Cs]:"Endpoint"},SI={[vt]:di,[Rt]:[{[Cs]:"UseFIPS"},!0]},bI={[vt]:di,[Rt]:[{[Cs]:"UseDualStack"},!0]},At={},pI={[vt]:zh,[Rt]:[{[Cs]:jh},"supportsFIPS"]},wI={[Cs]:jh},fI={[vt]:di,[Rt]:[!0,{[vt]:zh,[Rt]:[wI,"supportsDualStack"]}]},hI=[SI],gI=[bI],yI=[{[Cs]:"Region"}],LU={version:"1.0",parameters:{Region:lI,UseDualStack:uI,UseFIPS:uI,Endpoint:lI},rules:[{conditions:[{[vt]:dI,[Rt]:[mI]}],rules:[{conditions:hI,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:xs},{conditions:gI,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:xs},{endpoint:{url:mI,properties:At,headers:At},type:Ts}],type:Sr},{conditions:[{[vt]:dI,[Rt]:yI}],rules:[{conditions:[{[vt]:"aws.partition",[Rt]:yI,assign:jh}],rules:[{conditions:[SI,bI],rules:[{conditions:[{[vt]:di,[Rt]:[cI,pI]},fI],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Ts}],type:Sr},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:xs}],type:Sr},{conditions:hI,rules:[{conditions:[{[vt]:di,[Rt]:[pI,cI]}],rules:[{conditions:[{[vt]:"stringEquals",[Rt]:[{[vt]:zh,[Rt]:[wI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:At,headers:At},type:Ts},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Ts}],type:Sr},{error:"FIPS is enabled but this partition does not support FIPS",type:xs}],type:Sr},{conditions:gI,rules:[{conditions:[fI],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:At,headers:At},type:Ts}],type:Sr},{error:"DualStack is enabled but this partition does not support DualStack",type:xs}],type:Sr},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:At,headers:At},type:Ts}],type:Sr}],type:Sr},{error:"Invalid Configuration: Missing Region",type:xs}]};Wc.ruleSet=LU});var xI=N(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.defaultEndpointResolver=void 0;var BU=ss(),qh=rs(),UU=_I(),$U=new qh.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),FU=(e,t={})=>$U.get(e,()=>(0,qh.resolveEndpoint)(UU.ruleSet,{endpointParams:e,logger:t.logger}));Kc.defaultEndpointResolver=FU;qh.customEndpointFunctions.aws=BU.awsEndpointFunctions});var II=N(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.getRuntimeConfig=void 0;var jU=(Ue(),de(kt)),zU=(it(),de(An)),qU=se(),HU=Ur(),TI=He(),CI=qe(),VU=Fh(),GU=xI(),WU=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??TI.fromBase64,base64Encoder:e?.base64Encoder??TI.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??GU.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??VU.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new jU.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new zU.NoAuthSigner}],logger:e?.logger??new qU.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??HU.parseUrl,utf8Decoder:e?.utf8Decoder??CI.fromUtf8,utf8Encoder:e?.utf8Encoder??CI.toUtf8});Jc.getRuntimeConfig=WU});var PI=N(Xc=>{"use strict";Object.defineProperty(Xc,"__esModule",{value:!0});Xc.getRuntimeConfig=void 0;var KU=(fo(),de(po)),JU=KU.__importDefault(aI()),AI=(Ue(),de(kt)),vI=zo(),Yc=Wt(),YU=qo(),RI=yr(),jn=Yr(),NI=Sn(),XU=Ho(),QU=ys(),ZU=II(),e$=se(),t$=Go(),r$=se(),n$=e=>{(0,r$.emitWarningIfUnsupportedVersion)(process.version);let t=(0,t$.resolveDefaultsModeConfig)(e),r=()=>t().then(e$.loadConfigsForDefaultMode),n=(0,ZU.getRuntimeConfig)(e);(0,AI.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,jn.loadConfig)(AI.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??XU.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,vI.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:JU.default.version}),maxAttempts:e?.maxAttempts??(0,jn.loadConfig)(RI.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,jn.loadConfig)(Yc.NODE_REGION_CONFIG_OPTIONS,{...Yc.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:NI.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,jn.loadConfig)({...RI.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||QU.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??YU.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??NI.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,jn.loadConfig)(Yc.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,jn.loadConfig)(Yc.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,jn.loadConfig)(vI.NODE_APP_ID_CONFIG_OPTIONS,s)}};Xc.getRuntimeConfig=n$});var YI=N(Ae=>{"use strict";var DI=Ys(),s$=Xs(),o$=Qs(),OI=hs(),i$=Wt(),br=(it(),de(An)),a$=Oo(),pi=Xr(),kI=yr(),L=se(),MI=Fh(),c$=PI(),LI=Wo(),BI=Ee(),od=Or(),li=(Ue(),de(kt)),d$=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),id={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},l$=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},u$=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),m$=(e,t)=>{let r=Object.assign(LI.getAwsRegionExtensionConfiguration(e),L.getDefaultExtensionConfiguration(e),BI.getHttpHandlerExtensionConfiguration(e),l$(e));return t.forEach(n=>n.configure(r)),Object.assign(e,LI.resolveAwsRegionExtensionConfiguration(r),L.resolveDefaultRuntimeConfig(r),BI.resolveHttpHandlerRuntimeConfig(r),u$(r))},Is=class extends L.Client{config;constructor(...[t]){let r=c$.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=d$(r),s=OI.resolveUserAgentConfig(n),o=kI.resolveRetryConfig(s),i=i$.resolveRegionConfig(o),a=DI.resolveHostHeaderConfig(i),d=pi.resolveEndpointConfig(a),l=MI.resolveHttpAuthSchemeConfig(d),p=m$(l,t?.extensions||[]);this.config=p,this.middlewareStack.use(OI.getUserAgentPlugin(this.config)),this.middlewareStack.use(kI.getRetryPlugin(this.config)),this.middlewareStack.use(a$.getContentLengthPlugin(this.config)),this.middlewareStack.use(DI.getHostHeaderPlugin(this.config)),this.middlewareStack.use(s$.getLoggerPlugin(this.config)),this.middlewareStack.use(o$.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(br.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:MI.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async f=>new br.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(br.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},an=class e extends L.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},Qc=class e extends an{name="InvalidRequestException";$fault="client";constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zc=class e extends an{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ed=class e extends an{name="TooManyRequestsException";$fault="client";constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},td=class e extends an{name="UnauthorizedException";$fault="client";constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},UI=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),$I=e=>({...e,...e.secretAccessKey&&{secretAccessKey:L.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:L.SENSITIVE_STRING}}),FI=e=>({...e,...e.roleCredentials&&{roleCredentials:$I(e.roleCredentials)}}),jI=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),zI=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),qI=e=>({...e,...e.accessToken&&{accessToken:L.SENSITIVE_STRING}}),p$=async(e,t)=>{let r=br.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/federation/credentials");let s=L.map({[A$]:[,L.expectNonNull(e[I$],"roleName")],[VI]:[,L.expectNonNull(e[HI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},f$=async(e,t)=>{let r=br.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/assignment/roles");let s=L.map({[JI]:[,e[KI]],[WI]:[()=>e.maxResults!==void 0,()=>e[GI].toString()],[VI]:[,L.expectNonNull(e[HI],"accountId")]});return r.m("GET").h(n).q(s).b(void 0),r.build()},h$=async(e,t)=>{let r=br.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[dd]:e[cd]});r.bp("/assignment/accounts");let s=L.map({[JI]:[,e[KI]],[WI]:[()=>e.maxResults!==void 0,()=>e[GI].toString()]});return r.m("GET").h(n).q(s).b(void 0),r.build()},g$=async(e,t)=>{let r=br.requestBuilder(e,t),n=L.map({},L.isSerializableHeaderValue,{[dd]:e[cd]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},y$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=L.map({$metadata:cn(e)}),n=L.expectNonNull(L.expectObject(await li.parseJsonBody(e.body,t)),"body"),s=L.take(n,{roleCredentials:L._json});return Object.assign(r,s),r},E$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=L.map({$metadata:cn(e)}),n=L.expectNonNull(L.expectObject(await li.parseJsonBody(e.body,t)),"body"),s=L.take(n,{nextToken:L.expectString,roleList:L._json});return Object.assign(r,s),r},S$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=L.map({$metadata:cn(e)}),n=L.expectNonNull(L.expectObject(await li.parseJsonBody(e.body,t)),"body"),s=L.take(n,{accountList:L._json,nextToken:L.expectString});return Object.assign(r,s),r},b$=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ad(e,t);let r=L.map({$metadata:cn(e)});return await L.collectBody(e.body,t),r},ad=async(e,t)=>{let r={...e,body:await li.parseJsonErrorBody(e.body,t)},n=li.loadRestJsonErrorCode(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await _$(r);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await x$(r);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await T$(r);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await C$(r);default:let s=r.body;return w$({output:e,parsedBody:s,errorCode:n})}},w$=L.withBaseException(an),_$=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let o=new Qc({$metadata:cn(e),...r});return L.decorateServiceException(o,e.body)},x$=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let o=new Zc({$metadata:cn(e),...r});return L.decorateServiceException(o,e.body)},T$=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let o=new ed({$metadata:cn(e),...r});return L.decorateServiceException(o,e.body)},C$=async(e,t)=>{let r=L.map({}),n=e.body,s=L.take(n,{message:L.expectString});Object.assign(r,s);let o=new td({$metadata:cn(e),...r});return L.decorateServiceException(o,e.body)},cn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),HI="accountId",cd="accessToken",VI="account_id",GI="maxResults",WI="max_result",KI="nextToken",JI="next_token",I$="roleName",A$="role_name",dd="x-amz-sso_bearer_token",rd=class extends L.Command.classBuilder().ep(id).m(function(t,r,n,s){return[od.getSerdePlugin(n,this.serialize,this.deserialize),pi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(UI,FI).ser(p$).de(y$).build(){},ui=class extends L.Command.classBuilder().ep(id).m(function(t,r,n,s){return[od.getSerdePlugin(n,this.serialize,this.deserialize),pi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(jI,void 0).ser(f$).de(E$).build(){},mi=class extends L.Command.classBuilder().ep(id).m(function(t,r,n,s){return[od.getSerdePlugin(n,this.serialize,this.deserialize),pi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(zI,void 0).ser(h$).de(S$).build(){},nd=class extends L.Command.classBuilder().ep(id).m(function(t,r,n,s){return[od.getSerdePlugin(n,this.serialize,this.deserialize),pi.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(qI,void 0).ser(g$).de(b$).build(){},v$={GetRoleCredentialsCommand:rd,ListAccountRolesCommand:ui,ListAccountsCommand:mi,LogoutCommand:nd},sd=class extends Is{};L.createAggregatedClient(v$,sd);var R$=br.createPaginator(Is,ui,"nextToken","nextToken","maxResults"),N$=br.createPaginator(Is,mi,"nextToken","nextToken","maxResults");Object.defineProperty(Ae,"$Command",{enumerable:!0,get:function(){return L.Command}});Object.defineProperty(Ae,"__Client",{enumerable:!0,get:function(){return L.Client}});Ae.GetRoleCredentialsCommand=rd;Ae.GetRoleCredentialsRequestFilterSensitiveLog=UI;Ae.GetRoleCredentialsResponseFilterSensitiveLog=FI;Ae.InvalidRequestException=Qc;Ae.ListAccountRolesCommand=ui;Ae.ListAccountRolesRequestFilterSensitiveLog=jI;Ae.ListAccountsCommand=mi;Ae.ListAccountsRequestFilterSensitiveLog=zI;Ae.LogoutCommand=nd;Ae.LogoutRequestFilterSensitiveLog=qI;Ae.ResourceNotFoundException=Zc;Ae.RoleCredentialsFilterSensitiveLog=$I;Ae.SSO=sd;Ae.SSOClient=Is;Ae.SSOServiceException=an;Ae.TooManyRequestsException=ed;Ae.UnauthorizedException=td;Ae.paginateListAccountRoles=R$;Ae.paginateListAccounts=N$});var QI=N(Hh=>{"use strict";var XI=YI();Object.defineProperty(Hh,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return XI.GetRoleCredentialsCommand}});Object.defineProperty(Hh,"SSOClient",{enumerable:!0,get:function(){return XI.SSOClient}})});var Vh=N(ud=>{"use strict";var Mt=at(),ld=hr(),ZI=(Ot(),de(Fr)),P$=iI(),tA=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),fi=!1,eA=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:d,filepath:l,configFilepath:p,ignoreCache:f,logger:g})=>{let h,E="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let Re=await P$.fromSso({profile:d,filepath:l,configFilepath:p,ignoreCache:f})();h={accessToken:Re.token,expiresAt:new Date(Re.expiration).toISOString()}}catch(Re){throw new Mt.CredentialsProviderError(Re.message,{tryNextLink:fi,logger:g})}else try{h=await ld.getSSOTokenFromFile(e)}catch{throw new Mt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${E}`,{tryNextLink:fi,logger:g})}if(new Date(h.expiresAt).getTime()-Date.now()<=0)throw new Mt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${E}`,{tryNextLink:fi,logger:g});let{accessToken:C}=h,{SSOClient:A,GetRoleCredentialsCommand:R}=await Promise.resolve().then(function(){return QI()}),O=o||new A(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??n})),Y;try{Y=await O.send(new R({accountId:r,roleName:s,accessToken:C}))}catch(Re){throw new Mt.CredentialsProviderError(Re,{tryNextLink:fi,logger:g})}let{roleCredentials:{accessKeyId:X,secretAccessKey:K,sessionToken:le,expiration:Ke,credentialScope:dt,accountId:we}={}}=Y;if(!X||!K||!le||!Ke)throw new Mt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:fi,logger:g});let ye={accessKeyId:X,secretAccessKey:K,sessionToken:le,expiration:new Date(Ke),...dt&&{credentialScope:dt},...we&&{accountId:we}};return t?ZI.setCredentialFeature(ye,"CREDENTIALS_SSO","s"):ZI.setCredentialFeature(ye,"CREDENTIALS_SSO_LEGACY","u"),ye},rA=(e,t)=>{let{sso_start_url:r,sso_account_id:n,sso_region:s,sso_role_name:o}=e;if(!r||!n||!s||!o)throw new Mt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:t});return e},D$=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,d=ld.getProfileName({profile:e.profile??t?.profile});if(!r&&!n&&!s&&!o&&!i){let p=(await ld.parseKnownFiles(e))[d];if(!p)throw new Mt.CredentialsProviderError(`Profile ${d} was not found.`,{logger:e.logger});if(!tA(p))throw new Mt.CredentialsProviderError(`Profile ${d} is not configured with SSO credentials.`,{logger:e.logger});if(p?.sso_session){let R=(await ld.loadSsoSessionData(e))[p.sso_session],O=` configurations in profile ${d} and sso-session ${p.sso_session}`;if(s&&s!==R.sso_region)throw new Mt.CredentialsProviderError("Conflicting SSO region"+O,{tryNextLink:!1,logger:e.logger});if(r&&r!==R.sso_start_url)throw new Mt.CredentialsProviderError("Conflicting SSO start_url"+O,{tryNextLink:!1,logger:e.logger});p.sso_region=R.sso_region,p.sso_start_url=R.sso_start_url}let{sso_start_url:f,sso_account_id:g,sso_region:h,sso_role_name:E,sso_session:C}=rA(p,e.logger);return eA({ssoStartUrl:f,ssoSession:C,ssoAccountId:g,ssoRegion:h,ssoRoleName:E,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!r||!n||!s||!o)throw new Mt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return eA({ssoStartUrl:r,ssoSession:i,ssoAccountId:n,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:d,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};ud.fromSSO=D$;ud.isSsoProfile=tA;ud.validateSsoProfile=rA});function O$(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(t,r)=>({signingProperties:{config:t,context:r}})}}function k$(e){return{schemeId:"smithy.api#noAuth"}}var hi,nA,sA,M$,oA,Gh=_(()=>{Ue();hi=T(rt());gi();nA=async(e,t,r)=>({operation:(0,hi.getSmithyContext)(t).operation,region:await(0,hi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});sA=e=>{let t=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{t.push(k$(e));break}default:t.push(O$(e))}return t},M$=e=>Object.assign(e,{stsClientCtor:Jt}),oA=e=>{let t=M$(e),r=Pn(t);return Object.assign(r,{authSchemePreference:(0,hi.normalizeProvider)(e.authSchemePreference??[])})}});var iA,md,pd=_(()=>{iA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),md={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var yA,re,pe,dn,Ge,EA,SA,_e,aA,Yt,As,Kh,cA,Wh,bA,dA,We,lA,wA,_A,Ze,bt,uA,xA,TA,mA,CA,pA,fA,hA,gA,L$,IA,AA=_(()=>{yA="required",re="type",pe="argv",dn="booleanEquals",Ge="stringEquals",EA="sigv4",SA="us-east-1",_e="endpoint",aA="https://sts.{Region}.{PartitionResult#dnsSuffix}",Yt="tree",As="error",Kh="getAttr",cA={[yA]:!1,[re]:"String"},Wh={[yA]:!0,default:!1,[re]:"Boolean"},bA={ref:"Endpoint"},dA={fn:"isSet",[pe]:[{ref:"Region"}]},We={ref:"Region"},lA={fn:"aws.partition",[pe]:[We],assign:"PartitionResult"},wA={ref:"UseFIPS"},_A={ref:"UseDualStack"},Ze={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:EA,signingName:"sts",signingRegion:SA}]},headers:{}},bt={},uA={conditions:[{fn:Ge,[pe]:[We,"aws-global"]}],[_e]:Ze,[re]:_e},xA={fn:dn,[pe]:[wA,!0]},TA={fn:dn,[pe]:[_A,!0]},mA={fn:Kh,[pe]:[{ref:"PartitionResult"},"supportsFIPS"]},CA={ref:"PartitionResult"},pA={fn:dn,[pe]:[!0,{fn:Kh,[pe]:[CA,"supportsDualStack"]}]},fA=[{fn:"isSet",[pe]:[bA]}],hA=[xA],gA=[TA],L$={version:"1.0",parameters:{Region:cA,UseDualStack:Wh,UseFIPS:Wh,Endpoint:cA,UseGlobalEndpoint:Wh},rules:[{conditions:[{fn:dn,[pe]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[pe]:fA},dA,lA,{fn:dn,[pe]:[wA,!1]},{fn:dn,[pe]:[_A,!1]}],rules:[{conditions:[{fn:Ge,[pe]:[We,"ap-northeast-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"ap-south-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"ap-southeast-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"ap-southeast-2"]}],endpoint:Ze,[re]:_e},uA,{conditions:[{fn:Ge,[pe]:[We,"ca-central-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"eu-central-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"eu-north-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"eu-west-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"eu-west-2"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"eu-west-3"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"sa-east-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,SA]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"us-east-2"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"us-west-1"]}],endpoint:Ze,[re]:_e},{conditions:[{fn:Ge,[pe]:[We,"us-west-2"]}],endpoint:Ze,[re]:_e},{endpoint:{url:aA,properties:{authSchemes:[{name:EA,signingName:"sts",signingRegion:"{Region}"}]},headers:bt},[re]:_e}],[re]:Yt},{conditions:fA,rules:[{conditions:hA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[re]:As},{conditions:gA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[re]:As},{endpoint:{url:bA,properties:bt,headers:bt},[re]:_e}],[re]:Yt},{conditions:[dA],rules:[{conditions:[lA],rules:[{conditions:[xA,TA],rules:[{conditions:[{fn:dn,[pe]:[!0,mA]},pA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},[re]:_e}],[re]:Yt},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[re]:As}],[re]:Yt},{conditions:hA,rules:[{conditions:[{fn:dn,[pe]:[mA,!0]}],rules:[{conditions:[{fn:Ge,[pe]:[{fn:Kh,[pe]:[CA,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:bt,headers:bt},[re]:_e},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:bt,headers:bt},[re]:_e}],[re]:Yt},{error:"FIPS is enabled but this partition does not support FIPS",[re]:As}],[re]:Yt},{conditions:gA,rules:[{conditions:[pA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:bt,headers:bt},[re]:_e}],[re]:Yt},{error:"DualStack is enabled but this partition does not support DualStack",[re]:As}],[re]:Yt},uA,{endpoint:{url:aA,properties:bt,headers:bt},[re]:_e}],[re]:Yt}],[re]:Yt},{error:"Invalid Configuration: Missing Region",[re]:As}]},IA=L$});var vA,vs,B$,RA,NA=_(()=>{vA=T(ss()),vs=T(rs());AA();B$=new vs.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),RA=(e,t={})=>B$.get(e,()=>(0,vs.resolveEndpoint)(IA,{endpointParams:e,logger:t.logger}));vs.customEndpointFunctions.aws=vA.awsEndpointFunctions});var PA,DA,fd,hd,OA,kA=_(()=>{Ue();it();PA=T(se()),DA=T(Ur()),fd=T(He()),hd=T(qe());Gh();NA();OA=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??fd.fromBase64,base64Encoder:e?.base64Encoder??fd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??RA,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??sA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new mt},{schemeId:"smithy.api#noAuth",identityProvider:t=>t.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dr}],logger:e?.logger??new PA.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??DA.parseUrl,utf8Decoder:e?.utf8Decoder??hd.fromUtf8,utf8Encoder:e?.utf8Encoder??hd.toUtf8})});var gd,un,MA,yd,ln,Ed,LA,BA,UA,$A,FA,jA,zA=_(()=>{xh();Ue();gd=T(zo()),un=T(Wt());it();MA=T(qo()),yd=T(yr()),ln=T(Yr()),Ed=T(Sn()),LA=T(Ho()),BA=T(ys());kA();UA=T(se()),$A=T(Go()),FA=T(se()),jA=e=>{(0,FA.emitWarningIfUnsupportedVersion)(process.version);let t=(0,$A.resolveDefaultsModeConfig)(e),r=()=>t().then(UA.loadConfigsForDefaultMode),n=OA(e);os(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,authSchemePreference:e?.authSchemePreference??(0,ln.loadConfig)(cs,s),bodyLengthChecker:e?.bodyLengthChecker??LA.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,gd.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Pc.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new mt},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new dr}],maxAttempts:e?.maxAttempts??(0,ln.loadConfig)(yd.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ln.loadConfig)(un.NODE_REGION_CONFIG_OPTIONS,{...un.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:Ed.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,ln.loadConfig)({...yd.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||BA.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??MA.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??Ed.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ln.loadConfig)(un.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ln.loadConfig)(un.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ln.loadConfig)(gd.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var qA,HA,VA=_(()=>{qA=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},HA=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Sd,bd,wd,GA,WA=_(()=>{Sd=T(Wo()),bd=T(Ee()),wd=T(se());VA();GA=(e,t)=>{let r=Object.assign((0,Sd.getAwsRegionExtensionConfiguration)(e),(0,wd.getDefaultExtensionConfiguration)(e),(0,bd.getHttpHandlerExtensionConfiguration)(e),qA(e));return t.forEach(n=>n.configure(r)),Object.assign(e,(0,Sd.resolveAwsRegionExtensionConfiguration)(r),(0,wd.resolveDefaultRuntimeConfig)(r),(0,bd.resolveHttpHandlerRuntimeConfig)(r),HA(r))}});var _d,KA,JA,xd,YA,XA,QA,Td,Jh,Jt,gi=_(()=>{_d=T(Ys()),KA=T(Xs()),JA=T(Qs()),xd=T(hs()),YA=T(Wt());it();XA=T(Oo()),QA=T(Xr()),Td=T(yr()),Jh=T(se());Gh();pd();zA();WA();Jt=class extends Jh.Client{config;constructor(...[t]){let r=jA(t||{});super(r),this.initConfig=r;let n=iA(r),s=(0,xd.resolveUserAgentConfig)(n),o=(0,Td.resolveRetryConfig)(s),i=(0,YA.resolveRegionConfig)(o),a=(0,_d.resolveHostHeaderConfig)(i),d=(0,QA.resolveEndpointConfig)(a),l=oA(d),p=GA(l,t?.extensions||[]);this.config=p,this.middlewareStack.use((0,xd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Td.getRetryPlugin)(this.config)),this.middlewareStack.use((0,XA.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,_d.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,KA.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,JA.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(eo(this.config,{httpAuthSchemeParametersProvider:nA,identityProviderConfigProvider:async f=>new In({"aws.auth#sigv4":f.credentials})})),this.middlewareStack.use(to(this.config))}destroy(){super.destroy()}}});var ZA,ft,Cd=_(()=>{ZA=T(se()),ft=class e extends ZA.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}}});var Yh,Xh,Qh,yi,Ei,Si,bi,wi,_i,Zh,eg,xi,Ti=_(()=>{Yh=T(se());Cd();Xh=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:Yh.SENSITIVE_STRING}}),Qh=e=>({...e,...e.Credentials&&{Credentials:Xh(e.Credentials)}}),yi=class e extends ft{name="ExpiredTokenException";$fault="client";constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ei=class e extends ft{name="MalformedPolicyDocumentException";$fault="client";constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Si=class e extends ft{name="PackedPolicyTooLargeException";$fault="client";constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bi=class e extends ft{name="RegionDisabledException";$fault="client";constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wi=class e extends ft{name="IDPRejectedClaimException";$fault="client";constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},_i=class e extends ft{name="InvalidIdentityTokenException";$fault="client";constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Zh=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:Yh.SENSITIVE_STRING}}),eg=e=>({...e,...e.Credentials&&{Credentials:Xh(e.Credentials)}}),xi=class e extends ft{name="IDPCommunicationErrorException";$fault="client";constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}}});var ev,oe,tv,rv,nv,sv,ov,U$,$$,F$,j$,z$,q$,H$,V$,G$,iv,W$,K$,J$,Y$,X$,Q$,av,Z$,eF,cv,tF,rF,nF,sF,oF,iF,aF,_r,cF,dv,lv,uv,mv,tg,dF,rg,Rs,lF,ng,sg,Ns,og,Ps,ig,ag,cg,Ds,Os,dg,lg,ug,ks,mg,Ms,Ls,pg,fg,wr,hg,gg,yg,Eg,Sg,pv,bg,wg,_g,Pe,fv,uF,xg=_(()=>{Ue();ev=T(Ee()),oe=T(se());Ti();Cd();tv=async(e,t)=>{let r=lv,n;return n=fv({...V$(e,t),[mv]:dF,[pv]:uv}),dv(t,r,"/",void 0,n)},rv=async(e,t)=>{let r=lv,n;return n=fv({...G$(e,t),[mv]:lF,[pv]:uv}),dv(t,r,"/",void 0,n)},nv=async(e,t)=>{if(e.statusCode>=300)return ov(e,t);let r=await No(e.body,t),n={};return n=Z$(r.AssumeRoleResult,t),{$metadata:_r(e),...n}},sv=async(e,t)=>{if(e.statusCode>=300)return ov(e,t);let r=await No(e.body,t),n={};return n=eF(r.AssumeRoleWithWebIdentityResult,t),{$metadata:_r(e),...n}},ov=async(e,t)=>{let r={...e,body:await $f(e.body,t)},n=uF(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await U$(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await z$(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await q$(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await H$(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await $$(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await F$(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await j$(r,t);default:let s=r.body;return cF({output:e,parsedBody:s.Error,errorCode:n})}},U$=async(e,t)=>{let r=e.body,n=tF(r.Error,t),s=new yi({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},$$=async(e,t)=>{let r=e.body,n=rF(r.Error,t),s=new xi({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},F$=async(e,t)=>{let r=e.body,n=nF(r.Error,t),s=new wi({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},j$=async(e,t)=>{let r=e.body,n=sF(r.Error,t),s=new _i({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},z$=async(e,t)=>{let r=e.body,n=oF(r.Error,t),s=new Ei({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},q$=async(e,t)=>{let r=e.body,n=iF(r.Error,t),s=new Si({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},H$=async(e,t)=>{let r=e.body,n=aF(r.Error,t),s=new bi({$metadata:_r(e),...n});return(0,oe.decorateServiceException)(s,r)},V$=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[Ls]!=null&&(r[Ls]=e[Ls]),e[Os]!=null){let n=iv(e[Os],t);e[Os]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}if(e[Ds]!=null&&(r[Ds]=e[Ds]),e[Ps]!=null&&(r[Ps]=e[Ps]),e[yg]!=null){let n=Q$(e[yg],t);e[yg]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([s,o])=>{let i=`Tags.${s}`;r[i]=o})}if(e[Sg]!=null){let n=X$(e[Sg],t);e[Sg]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;r[i]=o})}if(e[ag]!=null&&(r[ag]=e[ag]),e[hg]!=null&&(r[hg]=e[hg]),e[Eg]!=null&&(r[Eg]=e[Eg]),e[wr]!=null&&(r[wr]=e[wr]),e[lg]!=null){let n=J$(e[lg],t);e[lg]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;r[i]=o})}return r},G$=(e,t)=>{let r={};if(e[Ms]!=null&&(r[Ms]=e[Ms]),e[Ls]!=null&&(r[Ls]=e[Ls]),e[wg]!=null&&(r[wg]=e[wg]),e[ug]!=null&&(r[ug]=e[ug]),e[Os]!=null){let n=iv(e[Os],t);e[Os]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([s,o])=>{let i=`PolicyArns.${s}`;r[i]=o})}return e[Ds]!=null&&(r[Ds]=e[Ds]),e[Ps]!=null&&(r[Ps]=e[Ps]),r},iv=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=W$(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},W$=(e,t)=>{let r={};return e[_g]!=null&&(r[_g]=e[_g]),r},K$=(e,t)=>{let r={};return e[dg]!=null&&(r[dg]=e[dg]),e[og]!=null&&(r[og]=e[og]),r},J$=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=K$(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Y$=(e,t)=>{let r={};return e[cg]!=null&&(r[cg]=e[cg]),e[bg]!=null&&(r[bg]=e[bg]),r},X$=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},Q$=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=Y$(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},av=(e,t)=>{let r={};return e[rg]!=null&&(r[rg]=(0,oe.expectString)(e[rg])),e[ng]!=null&&(r[ng]=(0,oe.expectString)(e[ng])),r},Z$=(e,t)=>{let r={};return e[Ns]!=null&&(r[Ns]=cv(e[Ns],t)),e[Rs]!=null&&(r[Rs]=av(e[Rs],t)),e[ks]!=null&&(r[ks]=(0,oe.strictParseInt32)(e[ks])),e[wr]!=null&&(r[wr]=(0,oe.expectString)(e[wr])),r},eF=(e,t)=>{let r={};return e[Ns]!=null&&(r[Ns]=cv(e[Ns],t)),e[fg]!=null&&(r[fg]=(0,oe.expectString)(e[fg])),e[Rs]!=null&&(r[Rs]=av(e[Rs],t)),e[ks]!=null&&(r[ks]=(0,oe.strictParseInt32)(e[ks])),e[mg]!=null&&(r[mg]=(0,oe.expectString)(e[mg])),e[sg]!=null&&(r[sg]=(0,oe.expectString)(e[sg])),e[wr]!=null&&(r[wr]=(0,oe.expectString)(e[wr])),r},cv=(e,t)=>{let r={};return e[tg]!=null&&(r[tg]=(0,oe.expectString)(e[tg])),e[pg]!=null&&(r[pg]=(0,oe.expectString)(e[pg])),e[gg]!=null&&(r[gg]=(0,oe.expectString)(e[gg])),e[ig]!=null&&(r[ig]=(0,oe.expectNonNull)((0,oe.parseRfc3339DateTimeWithOffset)(e[ig]))),r},tF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},rF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},nF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},sF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},oF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},iF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},aF=(e,t)=>{let r={};return e[Pe]!=null&&(r[Pe]=(0,oe.expectString)(e[Pe])),r},_r=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),cF=(0,oe.withBaseException)(ft),dv=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),s!==void 0&&(l.body=s),new ev.HttpRequest(l)},lv={"content-type":"application/x-www-form-urlencoded"},uv="2011-06-15",mv="Action",tg="AccessKeyId",dF="AssumeRole",rg="AssumedRoleId",Rs="AssumedRoleUser",lF="AssumeRoleWithWebIdentity",ng="Arn",sg="Audience",Ns="Credentials",og="ContextAssertion",Ps="DurationSeconds",ig="Expiration",ag="ExternalId",cg="Key",Ds="Policy",Os="PolicyArns",dg="ProviderArn",lg="ProvidedContexts",ug="ProviderId",ks="PackedPolicySize",mg="Provider",Ms="RoleArn",Ls="RoleSessionName",pg="SecretAccessKey",fg="SubjectFromWebIdentityToken",wr="SourceIdentity",hg="SerialNumber",gg="SessionToken",yg="Tags",Eg="TokenCode",Sg="TransitiveTagKeys",pv="Version",bg="Value",wg="WebIdentityToken",_g="arn",Pe="message",fv=e=>Object.entries(e).map(([t,r])=>(0,oe.extendedEncodeURIComponent)(t)+"="+(0,oe.extendedEncodeURIComponent)(r)).join("&"),uF=(e,t)=>{if(t.Error?.Code!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"}});var hv,gv,yv,zn,Id=_(()=>{hv=T(Xr()),gv=T(Or()),yv=T(se());pd();Ti();xg();zn=class extends yv.Command.classBuilder().ep(md).m(function(t,r,n,s){return[(0,gv.getSerdePlugin)(n,this.serialize,this.deserialize),(0,hv.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,Qh).ser(tv).de(nv).build(){}});var Ev,Sv,bv,qn,Ad=_(()=>{Ev=T(Xr()),Sv=T(Or()),bv=T(se());pd();Ti();xg();qn=class extends bv.Command.classBuilder().ep(md).m(function(t,r,n,s){return[(0,Sv.getSerdePlugin)(n,this.serialize,this.deserialize),(0,Ev.getEndpointPlugin)(n,t.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(Zh,eg).ser(rv).de(sv).build(){}});var wv,mF,vd,_v=_(()=>{wv=T(se());Id();Ad();gi();mF={AssumeRoleCommand:zn,AssumeRoleWithWebIdentityCommand:qn},vd=class extends Jt{};(0,wv.createAggregatedClient)(mF,vd)});var xv=_(()=>{Id();Ad()});var Tv=_(()=>{Ti()});var Cv,Iv,Av,vv,Rv,Nv,Pv=_(()=>{Ot();Id();Ad();Cv="us-east-1",Iv=e=>{if(typeof e?.Arn=="string"){let t=e.Arn.split(":");if(t.length>4&&t[4]!=="")return t[4]}},Av=async(e,t,r)=>{let n=typeof e=="function"?await e():e,s=typeof t=="function"?await t():t;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${s} (parent client)`,`${Cv} (STS default)`),n??s??Cv},vv=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:p=e?.parentClientConfig?.logger,region:f,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=e,E=await Av(f,e?.parentClientConfig?.region,h),C=!Nv(g);r=new t({profile:e?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:E,requestHandler:C?g:void 0,logger:p})}let{Credentials:i,AssumedRoleUser:a}=await r.send(new zn(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let d=Iv(a),l={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...d&&{accountId:d}};return $r(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},Rv=(e,t)=>{let r;return async n=>{if(!r){let{logger:d=e?.parentClientConfig?.logger,region:l,requestHandler:p=e?.parentClientConfig?.requestHandler,credentialProviderLogger:f}=e,g=await Av(l,e?.parentClientConfig?.region,f),h=!Nv(p);r=new t({profile:e?.parentClientConfig?.profile,region:g,requestHandler:h?p:void 0,logger:d})}let{Credentials:s,AssumedRoleUser:o}=await r.send(new qn(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let i=Iv(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&$r(a,"RESOLVED_ACCOUNT_ID","T"),$r(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},Nv=e=>e?.metadata?.handlerProtocol==="h2"});var Dv,Ov,kv,pF,Mv=_(()=>{Pv();gi();Dv=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,Ov=(e={},t)=>vv(e,Dv(Jt,t)),kv=(e={},t)=>Rv(e,Dv(Jt,t)),pF=e=>t=>e({roleAssumer:Ov(t),roleAssumerWithWebIdentity:kv(t),...t})});var Tg={};gt(Tg,{AssumeRoleCommand:()=>zn,AssumeRoleResponseFilterSensitiveLog:()=>Qh,AssumeRoleWithWebIdentityCommand:()=>qn,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>Zh,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>eg,CredentialsFilterSensitiveLog:()=>Xh,ExpiredTokenException:()=>yi,IDPCommunicationErrorException:()=>xi,IDPRejectedClaimException:()=>wi,InvalidIdentityTokenException:()=>_i,MalformedPolicyDocumentException:()=>Ei,PackedPolicyTooLargeException:()=>Si,RegionDisabledException:()=>bi,STS:()=>vd,STSClient:()=>Jt,STSServiceException:()=>ft,__Client:()=>Jh.Client,decorateDefaultCredentialProvider:()=>pF,getDefaultRoleAssumer:()=>Ov,getDefaultRoleAssumerWithWebIdentity:()=>kv});var Cg=_(()=>{gi();_v();xv();Tv();Mv();Cd()});var vg=N(Lv=>{"use strict";var Ag=hr(),Ig=at(),fF=require("child_process"),hF=require("util"),gF=(Ot(),de(Fr)),yF=(e,t,r)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let o=new Date;if(new Date(t.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let n=t.AccountId;!n&&r?.[e]?.aws_account_id&&(n=r[e].aws_account_id);let s={accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)},...t.CredentialScope&&{credentialScope:t.CredentialScope},...n&&{accountId:n}};return gF.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},EF=async(e,t,r)=>{let n=t[e];if(t[e]){let s=n.credential_process;if(s!==void 0){let o=hF.promisify(Ag.externalDataInterceptor?.getTokenRecord?.().exec??fF.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return yF(e,a,t)}catch(i){throw new Ig.CredentialsProviderError(i.message,{logger:r})}}else throw new Ig.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:r})}else throw new Ig.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:r})},SF=(e={})=>async({callerClientConfig:t}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await Ag.parseKnownFiles(e);return EF(Ag.getProfileName({profile:e.profile??t?.profile}),r,e.logger)};Lv.fromProcess=SF});var Rg=N(Xt=>{"use strict";var bF=Xt&&Xt.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),wF=Xt&&Xt.__setModuleDefault||(Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t}),_F=Xt&&Xt.__importStar||(function(){var e=function(t){return e=Object.getOwnPropertyNames||function(r){var n=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[n.length]=s);return n},e(t)};return function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var n=e(t),s=0;s<n.length;s++)n[s]!=="default"&&bF(r,t,n[s]);return wF(r,t),r}})();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.fromWebToken=void 0;var xF=e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:d}=e,{roleAssumerWithWebIdentity:l}=e;if(!l){let{getDefaultRoleAssumerWithWebIdentity:p}=await Promise.resolve().then(()=>_F((Cg(),de(Tg))));l=p({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:d})};Xt.fromWebToken=xF});var Uv=N(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.fromTokenFile=void 0;var TF=(Ot(),de(Fr)),CF=at(),IF=hr(),AF=require("fs"),vF=Rg(),Bv="AWS_WEB_IDENTITY_TOKEN_FILE",RF="AWS_ROLE_ARN",NF="AWS_ROLE_SESSION_NAME",PF=(e={})=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[Bv],r=e?.roleArn??process.env[RF],n=e?.roleSessionName??process.env[NF];if(!t||!r)throw new CF.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let s=await(0,vF.fromWebToken)({...e,webIdentityToken:IF.externalDataInterceptor?.getTokenRecord?.()[t]??(0,AF.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return t===process.env[Bv]&&(0,TF.setCredentialFeature)(s,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),s};Rd.fromTokenFile=PF});var Ng=N(Ci=>{"use strict";var $v=Uv(),Fv=Rg();Object.keys($v).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ci,e)&&Object.defineProperty(Ci,e,{enumerable:!0,get:function(){return $v[e]}})});Object.keys(Fv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ci,e)&&Object.defineProperty(Ci,e,{enumerable:!0,get:function(){return Fv[e]}})})});var Gv=N(Vv=>{"use strict";var Dg=hr(),Ii=at(),mn=(Ot(),de(Fr)),DF=(e,t,r)=>{let n={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>T(bh())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>T(Fo()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Ii.chain(o(s??{}),i(s))().then(Pg)},Ec2InstanceMetadata:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>T(Fo()));return async()=>o(s)().then(Pg)},Environment:async s=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>T(mh()));return async()=>o(s)().then(Pg)}};if(e in n)return n[e];throw new Ii.CredentialsProviderError(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},Pg=e=>mn.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),OF=(e,{profile:t="default",logger:r}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(kF(e,{profile:t,logger:r})||MF(e,{profile:t,logger:r})),kF=(e,{profile:t,logger:r})=>{let n=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return n&&r?.debug?.(`    ${t} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),n},MF=(e,{profile:t,logger:r})=>{let n=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return n&&r?.debug?.(`    ${t} isCredentialSourceProfile credential_source=${e.credential_source}`),n},LF=async(e,t,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let s=t[e],{source_profile:o,region:i}=s;if(!r.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(Cg(),Tg));r.roleAssumer=d({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:i??r?.parentClientConfig?.region}},r.clientPlugins)}if(o&&o in n)throw new Ii.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${Dg.getProfileName(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${o?`source_profile=[${o}]`:`profile=[${e}]`}`);let a=o?Hv(o,t,r,{...n,[o]:!0},jv(t[o]??{})):(await DF(s.credential_source,e,r.logger)(r))();if(jv(s))return a.then(d=>mn.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id,DurationSeconds:parseInt(s.duration_seconds||"3600",10)},{mfa_serial:l}=s;if(l){if(!r.mfaCodeProvider)throw new Ii.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});d.SerialNumber=l,d.TokenCode=await r.mfaCodeProvider(l)}let p=await a;return r.roleAssumer(p,d).then(f=>mn.setCredentialFeature(f,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},jv=e=>!e.role_arn&&!!e.credential_source,BF=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",UF=async(e,t)=>Promise.resolve().then(()=>T(vg())).then(({fromProcess:r})=>r({...e,profile:t})().then(n=>mn.setCredentialFeature(n,"CREDENTIALS_PROFILE_PROCESS","v"))),$F=async(e,t,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>T(Vh()));return n({profile:e,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(s=>t.sso_session?mn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):mn.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},FF=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),zv=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,qv=async(e,t)=>{t?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return mn.setCredentialFeature(r,"CREDENTIALS_PROFILE","n")},jF=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,zF=async(e,t)=>Promise.resolve().then(()=>T(Ng())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity,logger:t.logger,parentClientConfig:t.parentClientConfig})().then(n=>mn.setCredentialFeature(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),Hv=async(e,t,r,n={},s=!1)=>{let o=t[e];if(Object.keys(n).length>0&&zv(o))return qv(o,r);if(s||OF(o,{profile:e,logger:r.logger}))return LF(e,t,r,n);if(zv(o))return qv(o,r);if(jF(o))return zF(o,r);if(BF(o))return UF(r,e);if(FF(o))return await $F(e,o,r);throw new Ii.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:r.logger})},qF=(e={})=>async({callerClientConfig:t}={})=>{let r={...e,parentClientConfig:{...t,...e.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await Dg.parseKnownFiles(r);return Hv(Dg.getProfileName({profile:e.profile??t?.profile}),n,r)};Vv.fromIni=qF});var Xv=N(Nd=>{"use strict";var Og=mh(),Hn=at(),HF=hr(),Wv="AWS_EC2_METADATA_DISABLED",VF=async e=>{let{ENV_CMDS_FULL_URI:t,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:s}=await Promise.resolve().then(()=>T(Fo()));if(process.env[r]||process.env[t]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>T(bh()));return Hn.chain(o(e),n(e))}return process.env[Wv]&&process.env[Wv]!=="false"?async()=>{throw new Hn.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))},Kv=!1,GF=(e={})=>Hn.memoize(Hn.chain(async()=>{if(e.profile??process.env[HF.ENV_PROFILE])throw process.env[Og.ENV_KEY]&&process.env[Og.ENV_SECRET]&&(Kv||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),Kv=!0)),new Hn.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Og.fromEnv(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoSession:o}=e;if(!t&&!r&&!n&&!s&&!o)throw new Hn.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:i}=await Promise.resolve().then(()=>T(Vh()));return i(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>T(Gv()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>T(vg()));return t(e)()},async()=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>T(Ng()));return t(e)()},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await VF(e))()),async()=>{throw new Hn.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}),Yv,Jv),Jv=e=>e?.expiration!==void 0,Yv=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Nd.credentialsTreatedAsExpired=Yv;Nd.credentialsWillNeedRefresh=Jv;Nd.defaultProvider=GF});var wR=N(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.ruleSet=void 0;var Mg="required",Q="type",De="rules",ge="conditions",U="fn",$="argv",ce="ref",Pd="assign",Qt="url",Zt="properties",er="headers",WF=!1,Oe="error",et="stringEquals",Qv="https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",ht="endpoint",Le="tree",Lg="dynamodb",Ai={[Mg]:!1,[Q]:"string"},Zv={[Mg]:!0,default:!1,[Q]:"boolean"},eR={[U]:"isSet",[$]:[{[ce]:"Endpoint"}]},KF={[ce]:"Endpoint"},tR={[U]:"isSet",[$]:[{[ce]:"Region"}]},SR={[ce]:"Region"},rR={[U]:"aws.partition",[$]:[SR],[Pd]:"PartitionResult"},nR={[ge]:[{[U]:"booleanEquals",[$]:[{[ce]:"UseFIPS"},!0]}],[Oe]:"Invalid Configuration: FIPS and custom endpoint are not supported",[Q]:Oe},Bs={[U]:"booleanEquals",[$]:[{[ce]:"UseFIPS"},!0]},sR={[ge]:[{[U]:"booleanEquals",[$]:[{[ce]:"UseDualStack"},!0]}],[Oe]:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Q]:Oe},bR={[U]:"booleanEquals",[$]:[{[ce]:"UseDualStack"},!0]},oR={[ht]:{[Qt]:"{Endpoint}",[Zt]:{},[er]:{}},[Q]:ht},Lt={},iR={[U]:"booleanEquals",[$]:[{[U]:"getAttr",[$]:[{[ce]:"PartitionResult"},"supportsFIPS"]},!0]},aR={[U]:"booleanEquals",[$]:[{[U]:"getAttr",[$]:[{[ce]:"PartitionResult"},"supportsDualStack"]},!0]},kg={[ge]:[{[U]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:et,[$]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[De]:[{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Q]:Oe}],[Q]:Le},vi={[U]:"getAttr",[$]:[{[ce]:"PartitionResult"},"name"]},cR={[ht]:{[Qt]:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:{},[er]:{}},[Q]:ht},dR={[Qt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:{},[er]:{}},lR={[Oe]:"Credentials-sourced account ID parameter is invalid",[Q]:Oe},uR={[ge]:[{[U]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:et,[$]:[{[ce]:"AccountIdEndpointMode"},"required"]}],[De]:[{[ge]:[{[U]:"not",[$]:[Bs]}],[De]:[{[ge]:[{[U]:et,[$]:[vi,"aws"]}],[De]:[{[Oe]:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[Q]:Oe}],[Q]:Le},{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[Q]:Oe}],[Q]:Le},{[Oe]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[Q]:Oe}],[Q]:Le},mR={[Qt]:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:{},[er]:{}},pR=[Bs],fR=[bR],hR=[{[U]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[$]:[{[U]:et,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:et,[$]:[vi,"aws"]},{[U]:"not",[$]:[Bs]},{[U]:"isSet",[$]:[{[ce]:"ResourceArn"}]},{[U]:"aws.parseArn",[$]:[{[ce]:"ResourceArn"}],[Pd]:"ParsedArn"},{[U]:et,[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"service"]},Lg]},{[U]:"isValidHostLabel",[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},!1]},{[U]:et,[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],gR=[{[U]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[$]:[{[U]:et,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:et,[$]:[vi,"aws"]},{[U]:"not",[$]:[Bs]},{[U]:"isSet",[$]:[{[ce]:"ResourceArnList"}]},{[U]:"getAttr",[$]:[{[ce]:"ResourceArnList"},"[0]"],[Pd]:"FirstArn"},{[U]:"aws.parseArn",[$]:[{[ce]:"FirstArn"}],[Pd]:"ParsedArn"},{[U]:et,[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"service"]},Lg]},{[U]:"isValidHostLabel",[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},!1]},{[U]:et,[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"region"]},"{Region}"]},{[U]:"isValidHostLabel",[$]:[{[U]:"getAttr",[$]:[{[ce]:"ParsedArn"},"accountId"]},!1]}],yR=[{[U]:"isSet",[$]:[{[ce]:"AccountIdEndpointMode"}]},{[U]:"not",[$]:[{[U]:et,[$]:[{[ce]:"AccountIdEndpointMode"},"disabled"]}]},{[U]:et,[$]:[vi,"aws"]},{[U]:"not",[$]:[Bs]},{[U]:"isSet",[$]:[{[ce]:"AccountId"}]}],ER=[{[U]:"isValidHostLabel",[$]:[{[ce]:"AccountId"},!1]}],JF={version:"1.0",parameters:{Region:Ai,UseDualStack:Zv,UseFIPS:Zv,Endpoint:Ai,AccountId:Ai,AccountIdEndpointMode:Ai,ResourceArn:Ai,ResourceArnList:{[Mg]:WF,[Q]:"stringArray"}},[De]:[{[ge]:[eR,tR,rR],[De]:[nR,sR,{[ge]:[{[U]:et,[$]:[KF,Qv]}],error:"Endpoint override is not supported for dual-stack endpoints. Please enable dual-stack functionality by enabling the configuration. For more details, see: https://docs.aws.amazon.com/sdkref/latest/guide/feature-endpoints.html",[Q]:Oe},oR],[Q]:Le},{[ge]:[eR],[De]:[nR,sR,oR],[Q]:Le},{[ge]:[tR],[De]:[{[ge]:[rR],[De]:[{[ge]:[{[U]:et,[$]:[SR,"local"]}],[De]:[{[ge]:pR,error:"Invalid Configuration: FIPS and local endpoint are not supported",[Q]:Oe},{[ge]:fR,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[Q]:Oe},{endpoint:{[Qt]:"http://localhost:8000",[Zt]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:Lg}]},[er]:Lt},[Q]:ht}],[Q]:Le},{[ge]:[Bs,bR],[De]:[{[ge]:[iR,aR],[De]:[kg,{endpoint:{[Qt]:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:Lt,[er]:Lt},[Q]:ht}],[Q]:Le},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Q]:Oe}],[Q]:Le},{[ge]:pR,[De]:[{[ge]:[iR],[De]:[{[ge]:[{[U]:et,[$]:[vi,"aws-us-gov"]}],[De]:[kg,cR],[Q]:Le},kg,{endpoint:{[Qt]:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[Zt]:Lt,[er]:Lt},[Q]:ht}],[Q]:Le},{error:"FIPS is enabled but this partition does not support FIPS",[Q]:Oe}],[Q]:Le},{[ge]:fR,[De]:[{[ge]:[aR],[De]:[{[ge]:hR,endpoint:dR,[Q]:ht},{[ge]:gR,endpoint:dR,[Q]:ht},{[ge]:yR,[De]:[{[ge]:ER,[De]:[{endpoint:{[Qt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dualStackDnsSuffix}",[Zt]:Lt,[er]:Lt},[Q]:ht}],[Q]:Le},lR],[Q]:Le},uR,{endpoint:{[Qt]:Qv,[Zt]:Lt,[er]:Lt},[Q]:ht}],[Q]:Le},{error:"DualStack is enabled but this partition does not support DualStack",[Q]:Oe}],[Q]:Le},{[ge]:hR,endpoint:mR,[Q]:ht},{[ge]:gR,endpoint:mR,[Q]:ht},{[ge]:yR,[De]:[{[ge]:ER,[De]:[{endpoint:{[Qt]:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[Zt]:Lt,[er]:Lt},[Q]:ht}],[Q]:Le},lR],[Q]:Le},uR,cR],[Q]:Le}],[Q]:Le},{error:"Invalid Configuration: Missing Region",[Q]:Oe}]};Dd.ruleSet=JF});var _R=N(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.defaultEndpointResolver=void 0;var YF=ss(),Bg=rs(),XF=wR(),QF=new Bg.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),ZF=(e,t={})=>QF.get(e,()=>(0,Bg.resolveEndpoint)(XF.ruleSet,{endpointParams:e,logger:t.logger}));Od.defaultEndpointResolver=ZF;Bg.customEndpointFunctions.aws=YF.awsEndpointFunctions});var CR=N(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.getRuntimeConfig=void 0;var ej=(Ue(),de(kt)),tj=se(),rj=Ur(),xR=He(),TR=qe(),nj=uh(),sj=_R(),oj=e=>({apiVersion:"2012-08-10",base64Decoder:e?.base64Decoder??xR.fromBase64,base64Encoder:e?.base64Encoder??xR.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sj.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??nj.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:t=>t.getIdentityProvider("aws.auth#sigv4"),signer:new ej.AwsSdkSigV4Signer}],logger:e?.logger??new tj.NoOpLogger,serviceId:e?.serviceId??"DynamoDB",urlParser:e?.urlParser??rj.parseUrl,utf8Decoder:e?.utf8Decoder??TR.fromUtf8,utf8Encoder:e?.utf8Encoder??TR.toUtf8});kd.getRuntimeConfig=oj});var NR=N(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.getRuntimeConfig=void 0;var ij=(fo(),de(po)),aj=ij.__importDefault(yT()),IR=(Ue(),de(kt)),cj=(Uu(),de(Bu)),dj=Xv(),lj=Ju(),AR=zo(),Md=Wt(),uj=qo(),vR=yr(),xr=Yr(),RR=Sn(),mj=Ho(),pj=ys(),fj=CR(),hj=se(),gj=Go(),yj=se(),Ej=e=>{(0,yj.emitWarningIfUnsupportedVersion)(process.version);let t=(0,gj.resolveDefaultsModeConfig)(e),r=()=>t().then(hj.loadConfigsForDefaultMode),n=(0,fj.getRuntimeConfig)(e);(0,IR.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:n.logger};return{...n,...e,runtime:"node",defaultsMode:t,accountIdEndpointMode:e?.accountIdEndpointMode??(0,xr.loadConfig)(cj.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,s),authSchemePreference:e?.authSchemePreference??(0,xr.loadConfig)(IR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??mj.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??dj.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,AR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:aj.default.version}),endpointDiscoveryEnabledProvider:e?.endpointDiscoveryEnabledProvider??(0,xr.loadConfig)(lj.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,s),maxAttempts:e?.maxAttempts??(0,xr.loadConfig)(vR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xr.loadConfig)(Md.NODE_REGION_CONFIG_OPTIONS,{...Md.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:RR.NodeHttpHandler.create(e?.requestHandler??r),retryMode:e?.retryMode??(0,xr.loadConfig)({...vR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||pj.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??uj.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??RR.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xr.loadConfig)(Md.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xr.loadConfig)(Md.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xr.loadConfig)(AR.NODE_APP_ID_CONFIG_OPTIONS,s)}};Ld.getRuntimeConfig=Ej});var kR=N(ct=>{"use strict";var Sj=e=>new Promise(t=>setTimeout(t,e*1e3)),OR={minDelay:2,maxDelay:120};ct.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ct.WaiterState||(ct.WaiterState={}));var bj=e=>{if(e.state===ct.WaiterState.ABORTED){let t=new Error(`${JSON.stringify({...e,reason:"Request was aborted"})}`);throw t.name="AbortError",t}else if(e.state===ct.WaiterState.TIMEOUT){let t=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"})}`);throw t.name="TimeoutError",t}else if(e.state!==ct.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e)}`);return e},wj=(e,t,r,n)=>{if(n>r)return t;let s=e*2**(n-1);return _j(e,s)},_j=(e,t)=>e+Math.random()*(t-e),xj=async({minDelay:e,maxDelay:t,maxWaitTime:r,abortController:n,client:s,abortSignal:o},i,a)=>{let d={},{state:l,reason:p}=await a(s,i);if(p){let E=PR(p);d[E]|=0,d[E]+=1}if(l!==ct.WaiterState.RETRY)return{state:l,reason:p,observedResponses:d};let f=1,g=Date.now()+r*1e3,h=Math.log(t/e)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||o?.aborted){let R="AbortController signal aborted.";return d[R]|=0,d[R]+=1,{state:ct.WaiterState.ABORTED,observedResponses:d}}let E=wj(e,t,h,f);if(Date.now()+E*1e3>g)return{state:ct.WaiterState.TIMEOUT,observedResponses:d};await Sj(E);let{state:C,reason:A}=await a(s,i);if(A){let R=PR(A);d[R]|=0,d[R]+=1}if(C!==ct.WaiterState.RETRY)return{state:C,reason:A,observedResponses:d};f+=1}},PR=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e)??"Unknown"),Tj=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},DR=e=>{let t,r=new Promise(n=>{t=()=>n({state:ct.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",t):e.onabort=t});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",t)},aborted:r}},Cj=async(e,t,r)=>{let n={...OR,...e};Tj(n);let s=[xj(n,t,r)],o=[];if(e.abortSignal){let{aborted:i,clearListener:a}=DR(e.abortSignal);o.push(a),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=DR(e.abortController.signal);o.push(a),s.push(i)}return Promise.race(s).then(i=>{for(let a of o)a();return i})};ct.checkExceptions=bj;ct.createWaiter=Cj;ct.waiterServiceDefaults=OR});var Hg=N(x=>{"use strict";var Ij=(Uu(),de(Bu)),Aj=Ju(),MR=Ys(),vj=Xs(),Rj=Qs(),LR=hs(),Nj=Wt(),Tr=(it(),de(An)),Pj=Oo(),F=Xr(),BR=yr(),c=se(),UR=uh(),j=Or(),B=(Ue(),de(kt)),Ug=Ee(),fu=va(),Dj=NR(),$R=Wo(),Bt=kR(),Oj=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),z={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},ie=class e extends c.ServiceException{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype)}},kj={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},Mj={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},Lj={B:"B",N:"N",S:"S"},Bj={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},Uj={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},$j={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},Fj={HASH:"HASH",RANGE:"RANGE"},jj={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},zj={AES256:"AES256",KMS:"KMS"},qj={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},Hj={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},Vj={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},Bd=class e extends ie{name="BackupInUseException";$fault="client";constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Ud=class e extends ie{name="BackupNotFoundException";$fault="client";constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gj={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Wj={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Kj={ALL_OLD:"ALL_OLD",NONE:"NONE"},Jj={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},$d=class e extends ie{name="InternalServerError";$fault="server";constructor(t){super({name:"InternalServerError",$fault:"server",...t}),Object.setPrototypeOf(this,e.prototype)}},Fd=class e extends ie{name="RequestLimitExceeded";$fault="client";ThrottlingReasons;constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},jd=class e extends ie{name="ThrottlingException";$fault="client";throttlingReasons;constructor(t){super({name:"ThrottlingException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.throttlingReasons=t.throttlingReasons}},zd=class e extends ie{name="InvalidEndpointException";$fault="client";Message;constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},qd=class e extends ie{name="ProvisionedThroughputExceededException";$fault="client";ThrottlingReasons;constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.ThrottlingReasons=t.ThrottlingReasons}},Hd=class e extends ie{name="ResourceNotFoundException";$fault="client";constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yj={NONE:"NONE",SIZE:"SIZE"},Vd=class e extends ie{name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Gd=class e extends ie{name="ReplicatedWriteConflictException";$fault="client";$retryable={};constructor(t){super({name:"ReplicatedWriteConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Xj={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Qj={AND:"AND",OR:"OR"},Zj={DISABLED:"DISABLED",ENABLED:"ENABLED"},ez={DISABLED:"DISABLED",ENABLED:"ENABLED"},Wd=class e extends ie{name="ContinuousBackupsUnavailableException";$fault="client";constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},tz={DISABLE:"DISABLE",ENABLE:"ENABLE"},rz={ACCESSED_AND_THROTTLED_KEYS:"ACCESSED_AND_THROTTLED_KEYS",THROTTLED_KEYS:"THROTTLED_KEYS"},nz={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},Kd=class e extends ie{name="LimitExceededException";$fault="client";constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Jd=class e extends ie{name="TableInUseException";$fault="client";constructor(t){super({name:"TableInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},Yd=class e extends ie{name="TableNotFoundException";$fault="client";constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},sz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},oz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},iz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},az={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},cz={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REPLICATION_NOT_AUTHORIZED:"REPLICATION_NOT_AUTHORIZED",UPDATING:"UPDATING"},Xd=class e extends ie{name="GlobalTableAlreadyExistsException";$fault="client";constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dz={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING"},lz={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},Qd=class e extends ie{name="ResourceInUseException";$fault="client";constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},uz={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},Zd=class e extends ie{name="TransactionConflictException";$fault="client";constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},el=class e extends ie{name="PolicyNotFoundException";$fault="client";constructor(t){super({name:"PolicyNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},mz={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},pz={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},fz={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},hz={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},gz={AES256:"AES256",KMS:"KMS"},tl=class e extends ie{name="ExportNotFoundException";$fault="client";constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},rl=class e extends ie{name="GlobalTableNotFoundException";$fault="client";constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},yz={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Ez={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Sz={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},nl=class e extends ie{name="ImportNotFoundException";$fault="client";constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},bz={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},sl=class e extends ie{name="DuplicateItemException";$fault="client";constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ol=class e extends ie{name="IdempotentParameterMismatchException";$fault="client";Message;constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},il=class e extends ie{name="TransactionInProgressException";$fault="client";Message;constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message}},al=class e extends ie{name="ExportConflictException";$fault="client";constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},cl=class e extends ie{name="InvalidExportTimeException";$fault="client";constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},dl=class e extends ie{name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ll=class e extends ie{name="ImportConflictException";$fault="client";constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},wz={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},ul=class e extends ie{name="TableAlreadyExistsException";$fault="client";constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},ml=class e extends ie{name="InvalidRestoreTimeException";$fault="client";constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},pl=class e extends ie{name="ReplicaAlreadyExistsException";$fault="client";constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},fl=class e extends ie{name="ReplicaNotFoundException";$fault="client";constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}},hl=class e extends ie{name="IndexNotFoundException";$fault="client";constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype)}};x.AttributeValue=void 0;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1])})(x.AttributeValue||(x.AttributeValue={}));var gl=class e extends ie{name="ConditionalCheckFailedException";$fault="client";Item;constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Item=t.Item}},yl=class e extends ie{name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons}},_z=async(e,t)=>{let r=V("BatchExecuteStatement"),n;return n=JSON.stringify(pH(e,t)),H(t,r,"/",void 0,n)},xz=async(e,t)=>{let r=V("BatchGetItem"),n;return n=JSON.stringify(fH(e,t)),H(t,r,"/",void 0,n)},Tz=async(e,t)=>{let r=V("BatchWriteItem"),n;return n=JSON.stringify(yH(e,t)),H(t,r,"/",void 0,n)},Cz=async(e,t)=>{let r=V("CreateBackup"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Iz=async(e,t)=>{let r=V("CreateGlobalTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Az=async(e,t)=>{let r=V("CreateTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},vz=async(e,t)=>{let r=V("DeleteBackup"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Rz=async(e,t)=>{let r=V("DeleteItem"),n;return n=JSON.stringify(_H(e,t)),H(t,r,"/",void 0,n)},Nz=async(e,t)=>{let r=V("DeleteResourcePolicy"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Pz=async(e,t)=>{let r=V("DeleteTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Dz=async(e,t)=>{let r=V("DescribeBackup"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Oz=async(e,t)=>{let r=V("DescribeContinuousBackups"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},kz=async(e,t)=>{let r=V("DescribeContributorInsights"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Mz=async(e,t)=>{let r=V("DescribeEndpoints"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Lz=async(e,t)=>{let r=V("DescribeExport"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Bz=async(e,t)=>{let r=V("DescribeGlobalTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Uz=async(e,t)=>{let r=V("DescribeGlobalTableSettings"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},$z=async(e,t)=>{let r=V("DescribeImport"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Fz=async(e,t)=>{let r=V("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},jz=async(e,t)=>{let r=V("DescribeLimits"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},zz=async(e,t)=>{let r=V("DescribeTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},qz=async(e,t)=>{let r=V("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Hz=async(e,t)=>{let r=V("DescribeTimeToLive"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Vz=async(e,t)=>{let r=V("DisableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Gz=async(e,t)=>{let r=V("EnableKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Wz=async(e,t)=>{let r=V("ExecuteStatement"),n;return n=JSON.stringify(TH(e,t)),H(t,r,"/",void 0,n)},Kz=async(e,t)=>{let r=V("ExecuteTransaction"),n;return n=JSON.stringify(CH(e,t)),H(t,r,"/",void 0,n)},Jz=async(e,t)=>{let r=V("ExportTableToPointInTime"),n;return n=JSON.stringify(AH(e)),H(t,r,"/",void 0,n)},Yz=async(e,t)=>{let r=V("GetItem"),n;return n=JSON.stringify(RH(e,t)),H(t,r,"/",void 0,n)},Xz=async(e,t)=>{let r=V("GetResourcePolicy"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},Qz=async(e,t)=>{let r=V("ImportTable"),n;return n=JSON.stringify(kH(e)),H(t,r,"/",void 0,n)},Zz=async(e,t)=>{let r=V("ListBackups"),n;return n=JSON.stringify(FH(e)),H(t,r,"/",void 0,n)},e2=async(e,t)=>{let r=V("ListContributorInsights"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},t2=async(e,t)=>{let r=V("ListExports"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},r2=async(e,t)=>{let r=V("ListGlobalTables"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},n2=async(e,t)=>{let r=V("ListImports"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},s2=async(e,t)=>{let r=V("ListTables"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},o2=async(e,t)=>{let r=V("ListTagsOfResource"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},i2=async(e,t)=>{let r=V("PutItem"),n;return n=JSON.stringify(GH(e,t)),H(t,r,"/",void 0,n)},a2=async(e,t)=>{let r=V("PutResourcePolicy"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},c2=async(e,t)=>{let r=V("Query"),n;return n=JSON.stringify(KH(e,t)),H(t,r,"/",void 0,n)},d2=async(e,t)=>{let r=V("RestoreTableFromBackup"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},l2=async(e,t)=>{let r=V("RestoreTableToPointInTime"),n;return n=JSON.stringify(nV(e)),H(t,r,"/",void 0,n)},u2=async(e,t)=>{let r=V("Scan"),n;return n=JSON.stringify(sV(e,t)),H(t,r,"/",void 0,n)},m2=async(e,t)=>{let r=V("TagResource"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},p2=async(e,t)=>{let r=V("TransactGetItems"),n;return n=JSON.stringify(aV(e,t)),H(t,r,"/",void 0,n)},f2=async(e,t)=>{let r=V("TransactWriteItems"),n;return n=JSON.stringify(lV(e,t)),H(t,r,"/",void 0,n)},h2=async(e,t)=>{let r=V("UntagResource"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},g2=async(e,t)=>{let r=V("UpdateContinuousBackups"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},y2=async(e,t)=>{let r=V("UpdateContributorInsights"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},E2=async(e,t)=>{let r=V("UpdateGlobalTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},S2=async(e,t)=>{let r=V("UpdateGlobalTableSettings"),n;return n=JSON.stringify(mV(e)),H(t,r,"/",void 0,n)},b2=async(e,t)=>{let r=V("UpdateItem"),n;return n=JSON.stringify(pV(e,t)),H(t,r,"/",void 0,n)},w2=async(e,t)=>{let r=V("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},_2=async(e,t)=>{let r=V("UpdateTable"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},x2=async(e,t)=>{let r=V("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(fV(e)),H(t,r,"/",void 0,n)},T2=async(e,t)=>{let r=V("UpdateTimeToLive"),n;return n=JSON.stringify(c._json(e)),H(t,r,"/",void 0,n)},C2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=xV(r,t),{$metadata:D(e),...n}},I2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=TV(r,t),{$metadata:D(e),...n}},A2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=RV(r,t),{$metadata:D(e),...n}},v2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=MV(r),{$metadata:D(e),...n}},R2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=LV(r),{$metadata:D(e),...n}},N2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=BV(r),{$metadata:D(e),...n}},P2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=UV(r),{$metadata:D(e),...n}},D2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=$V(r,t),{$metadata:D(e),...n}},O2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},k2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=jV(r),{$metadata:D(e),...n}},M2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=zV(r),{$metadata:D(e),...n}},L2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=qV(r),{$metadata:D(e),...n}},B2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=HV(r),{$metadata:D(e),...n}},U2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},$2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=VV(r),{$metadata:D(e),...n}},F2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=GV(r),{$metadata:D(e),...n}},j2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=WV(r),{$metadata:D(e),...n}},z2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=KV(r),{$metadata:D(e),...n}},q2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},H2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},V2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=JV(r),{$metadata:D(e),...n}},G2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=YV(r),{$metadata:D(e),...n}},W2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},K2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},J2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},Y2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=XV(r,t),{$metadata:D(e),...n}},X2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=QV(r,t),{$metadata:D(e),...n}},Q2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=ZV(r),{$metadata:D(e),...n}},Z2=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=eG(r,t),{$metadata:D(e),...n}},eq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},tq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=oG(r),{$metadata:D(e),...n}},rq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=fG(r),{$metadata:D(e),...n}},nq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},sq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},oq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},iq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=hG(r),{$metadata:D(e),...n}},aq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},cq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},dq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=bG(r,t),{$metadata:D(e),...n}},lq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},uq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=_G(r,t),{$metadata:D(e),...n}},mq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=DG(r),{$metadata:D(e),...n}},pq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=OG(r),{$metadata:D(e),...n}},fq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=kG(r,t),{$metadata:D(e),...n}},hq=async(e,t)=>e.statusCode>=300?q(e,t):(await c.collectBody(e.body,t),{$metadata:D(e)}),gq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=BG(r,t),{$metadata:D(e),...n}},yq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=$G(r,t),{$metadata:D(e),...n}},Eq=async(e,t)=>e.statusCode>=300?q(e,t):(await c.collectBody(e.body,t),{$metadata:D(e)}),Sq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=FG(r),{$metadata:D(e),...n}},bq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},wq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=jG(r),{$metadata:D(e),...n}},_q=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=zG(r),{$metadata:D(e),...n}},xq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=qG(r,t),{$metadata:D(e),...n}},Tq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},Cq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=HG(r),{$metadata:D(e),...n}},Iq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=VG(r),{$metadata:D(e),...n}},Aq=async(e,t)=>{if(e.statusCode>=300)return q(e,t);let r=await B.parseJsonBody(e.body,t),n={};return n=c._json(r),{$metadata:D(e),...n}},q=async(e,t)=>{let r={...e,body:await B.parseJsonErrorBody(e.body,t)},n=B.loadRestJsonErrorCode(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await jq(r);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Zq(r);case"ThrottlingException":case"com.amazonaws.dynamodb#ThrottlingException":throw await oH(r);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await zq(r);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await Jq(r);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await tH(r);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await Vq(r);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await Qq(r);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await vq(r);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await Pq(r);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await Gq(r);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await nH(r);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await sH(r);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await Mq(r);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await eH(r);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Rq(r);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await Nq(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await aH(r);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await Kq(r);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await kq(r);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await Lq(r);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await $q(r);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await Dq(r);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await Bq(r);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await iH(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await cH(r);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await Oq(r);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await qq(r);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await Wq(r);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await Uq(r);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await rH(r);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await Hq(r);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await Yq(r);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await Xq(r);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await Fq(r);default:let s=r.body;return KG({output:e,parsedBody:s,errorCode:n})}},vq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Bd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Rq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Ud({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Nq=async(e,t)=>{let r=e.body,n=kV(r,t),s=new gl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Pq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Wd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Dq=async(e,t)=>{let r=e.body,n=c._json(r),s=new sl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Oq=async(e,t)=>{let r=e.body,n=c._json(r),s=new al({$metadata:D(e),...n});return c.decorateServiceException(s,r)},kq=async(e,t)=>{let r=e.body,n=c._json(r),s=new tl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Mq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Xd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Lq=async(e,t)=>{let r=e.body,n=c._json(r),s=new rl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Bq=async(e,t)=>{let r=e.body,n=c._json(r),s=new ol({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Uq=async(e,t)=>{let r=e.body,n=c._json(r),s=new ll({$metadata:D(e),...n});return c.decorateServiceException(s,r)},$q=async(e,t)=>{let r=e.body,n=c._json(r),s=new nl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Fq=async(e,t)=>{let r=e.body,n=c._json(r),s=new hl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},jq=async(e,t)=>{let r=e.body,n=c._json(r),s=new $d({$metadata:D(e),...n});return c.decorateServiceException(s,r)},zq=async(e,t)=>{let r=e.body,n=c._json(r),s=new zd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},qq=async(e,t)=>{let r=e.body,n=c._json(r),s=new cl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Hq=async(e,t)=>{let r=e.body,n=c._json(r),s=new ml({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Vq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Vd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Gq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Kd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Wq=async(e,t)=>{let r=e.body,n=c._json(r),s=new dl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Kq=async(e,t)=>{let r=e.body,n=c._json(r),s=new el({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Jq=async(e,t)=>{let r=e.body,n=c._json(r),s=new qd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Yq=async(e,t)=>{let r=e.body,n=c._json(r),s=new pl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Xq=async(e,t)=>{let r=e.body,n=c._json(r),s=new fl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Qq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Gd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},Zq=async(e,t)=>{let r=e.body,n=c._json(r),s=new Fd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},eH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Qd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},tH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Hd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},rH=async(e,t)=>{let r=e.body,n=c._json(r),s=new ul({$metadata:D(e),...n});return c.decorateServiceException(s,r)},nH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Jd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},sH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Yd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},oH=async(e,t)=>{let r=e.body,n=c._json(r),s=new jd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},iH=async(e,t)=>{let r=e.body,n=UG(r,t),s=new yl({$metadata:D(e),...n});return c.decorateServiceException(s,r)},aH=async(e,t)=>{let r=e.body,n=c._json(r),s=new Zd({$metadata:D(e),...n});return c.decorateServiceException(s,r)},cH=async(e,t)=>{let r=e.body,n=c._json(r),s=new il({$metadata:D(e),...n});return c.decorateServiceException(s,r)},dH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=lH(s,t)),r),{}),Cr=(e,t)=>x.AttributeValue.visit(e,{B:r=>({B:t.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:SH(r,t)}),L:r=>({L:$H(r,t)}),M:r=>({M:jH(r,t)}),N:r=>({N:r}),NS:r=>({NS:c._json(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:c._json(r)}),_:(r,n)=>({[r]:n})}),jR=(e,t)=>e.filter(r=>r!=null).map(r=>Cr(r,t)),lH=(e,t)=>c.take(e,{Action:[],Value:r=>Cr(r,t)}),uH=(e,t)=>c.take(e,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:r=>mH(r)}),fn=(e,t)=>c.take(e,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:r=>uH(r)}),mH=(e,t)=>c.take(e,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:c.serializeFloat}),pH=(e,t)=>c.take(e,{ReturnConsumedCapacity:[],Statements:r=>HH(r,t)}),fH=(e,t)=>c.take(e,{RequestItems:r=>hH(r,t),ReturnConsumedCapacity:[]}),hH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=UH(s,t)),r),{}),gH=(e,t)=>c.take(e,{ConsistentRead:[],Parameters:r=>Fg(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),yH=(e,t)=>c.take(e,{RequestItems:r=>EH(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),EH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=gV(s,t)),r),{}),SH=(e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),zR=(e,t)=>c.take(e,{AttributeValueList:r=>jR(r,t),ComparisonOperator:[]}),bH=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Key:r=>Ut(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),wH=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Key:r=>Ut(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),_H=(e,t)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>$g(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Key:r=>Ut(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),xH=(e,t)=>c.take(e,{Key:r=>Ut(r,t)}),TH=(e,t)=>c.take(e,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:r=>Fg(r,t),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),CH=(e,t)=>c.take(e,{ClientRequestToken:[!0,r=>r??fu.v4()],ReturnConsumedCapacity:[],TransactStatements:r=>qH(r,t)}),$g=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=IH(s,t)),r),{}),IH=(e,t)=>c.take(e,{AttributeValueList:r=>jR(r,t),ComparisonOperator:[],Exists:[],Value:r=>Cr(r,t)}),AH=(e,t)=>c.take(e,{ClientToken:[!0,r=>r??fu.v4()],ExportFormat:[],ExportTime:r=>r.getTime()/1e3,ExportType:[],IncrementalExportSpecification:r=>MH(r),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),Ir=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Cr(s,t)),r),{}),qR=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=zR(s,t)),r),{}),vH=(e,t)=>c.take(e,{ExpressionAttributeNames:c._json,Key:r=>Ut(r,t),ProjectionExpression:[],TableName:[]}),RH=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Key:r=>Ut(r,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),NH=(e,t)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:r=>fn(r)}),PH=(e,t)=>e.filter(r=>r!=null).map(r=>NH(r)),DH=(e,t)=>c.take(e,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>fn(r),ProvisionedWriteCapacityUnits:[]}),OH=(e,t)=>e.filter(r=>r!=null).map(r=>DH(r)),kH=(e,t)=>c.take(e,{ClientToken:[!0,r=>r??fu.v4()],InputCompressionType:[],InputFormat:[],InputFormatOptions:c._json,S3BucketSource:c._json,TableCreationParameters:c._json}),MH=(e,t)=>c.take(e,{ExportFromTime:r=>r.getTime()/1e3,ExportToTime:r=>r.getTime()/1e3,ExportViewType:[]}),Ut=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Cr(s,t)),r),{}),LH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=zR(s,t)),r),{}),BH=(e,t)=>e.filter(r=>r!=null).map(r=>Ut(r,t)),UH=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:[],ExpressionAttributeNames:c._json,Keys:r=>BH(r,t),ProjectionExpression:[]}),$H=(e,t)=>e.filter(r=>r!=null).map(r=>Cr(r,t)),FH=(e,t)=>c.take(e,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:r=>r.getTime()/1e3,TimeRangeUpperBound:r=>r.getTime()/1e3}),jH=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Cr(s,t)),r),{}),zH=(e,t)=>c.take(e,{Parameters:r=>Fg(r,t),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),qH=(e,t)=>e.filter(r=>r!=null).map(r=>zH(r,t)),HH=(e,t)=>e.filter(r=>r!=null).map(r=>gH(r,t)),Fg=(e,t)=>e.filter(r=>r!=null).map(r=>Cr(r,t)),VH=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Item:r=>jg(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),GH=(e,t)=>c.take(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>$g(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Item:r=>jg(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),jg=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=Cr(s,t)),r),{}),WH=(e,t)=>c.take(e,{Item:r=>jg(r,t)}),KH=(e,t)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ut(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>LH(r,t),Limit:[],ProjectionExpression:[],QueryFilter:r=>qR(r,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),JH=(e,t)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:r=>QH(r),ReplicaProvisionedReadCapacityAutoScalingUpdate:r=>fn(r)}),YH=(e,t)=>e.filter(r=>r!=null).map(r=>JH(r)),XH=(e,t)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:r=>fn(r)}),QH=(e,t)=>e.filter(r=>r!=null).map(r=>XH(r)),ZH=(e,t)=>c.take(e,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:r=>fn(r),ProvisionedReadCapacityUnits:[]}),eV=(e,t)=>e.filter(r=>r!=null).map(r=>ZH(r)),tV=(e,t)=>c.take(e,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:r=>eV(r),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:r=>fn(r),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),rV=(e,t)=>e.filter(r=>r!=null).map(r=>tV(r)),nV=(e,t)=>c.take(e,{BillingModeOverride:[],GlobalSecondaryIndexOverride:c._json,LocalSecondaryIndexOverride:c._json,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RestoreDateTime:r=>r.getTime()/1e3,SSESpecificationOverride:c._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),sV=(e,t)=>c.take(e,{AttributesToGet:c._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Ut(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:r=>qR(r,t),Segment:[],Select:[],TableName:[],TotalSegments:[]}),oV=(e,t)=>c.take(e,{Get:r=>vH(r,t)}),iV=(e,t)=>e.filter(r=>r!=null).map(r=>oV(r,t)),aV=(e,t)=>c.take(e,{ReturnConsumedCapacity:[],TransactItems:r=>iV(r,t)}),cV=(e,t)=>c.take(e,{ConditionCheck:r=>bH(r,t),Delete:r=>wH(r,t),Put:r=>VH(r,t),Update:r=>uV(r,t)}),dV=(e,t)=>e.filter(r=>r!=null).map(r=>cV(r,t)),lV=(e,t)=>c.take(e,{ClientRequestToken:[!0,r=>r??fu.v4()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:r=>dV(r,t)}),uV=(e,t)=>c.take(e,{ConditionExpression:[],ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Key:r=>Ut(r,t),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),mV=(e,t)=>c.take(e,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:r=>OH(r),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:r=>fn(r),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:r=>rV(r)}),pV=(e,t)=>c.take(e,{AttributeUpdates:r=>dH(r,t),ConditionExpression:[],ConditionalOperator:[],Expected:r=>$g(r,t),ExpressionAttributeNames:c._json,ExpressionAttributeValues:r=>Ir(r,t),Key:r=>Ut(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),fV=(e,t)=>c.take(e,{GlobalSecondaryIndexUpdates:r=>PH(r),ProvisionedWriteCapacityAutoScalingUpdate:r=>fn(r),ReplicaUpdates:r=>YH(r),TableName:[]}),hV=(e,t)=>c.take(e,{DeleteRequest:r=>xH(r,t),PutRequest:r=>WH(r,t)}),gV=(e,t)=>e.filter(r=>r!=null).map(r=>hV(r,t)),yV=(e,t)=>c.take(e,{ArchivalBackupArn:c.expectString,ArchivalDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ArchivalReason:c.expectString}),rr=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=$s(B.awsExpectUnion(s),t)),r),{}),$s=(e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:c.expectBoolean(e.BOOL)!==void 0?{BOOL:c.expectBoolean(e.BOOL)}:e.BS!=null?{BS:PV(e.BS,t)}:e.L!=null?{L:pG(e.L,t)}:e.M!=null?{M:gG(e.M,t)}:c.expectString(e.N)!==void 0?{N:c.expectString(e.N)}:e.NS!=null?{NS:c._json(e.NS)}:c.expectBoolean(e.NULL)!==void 0?{NULL:c.expectBoolean(e.NULL)}:c.expectString(e.S)!==void 0?{S:c.expectString(e.S)}:e.SS!=null?{SS:c._json(e.SS)}:{$unknown:Object.entries(e)[0]},EV=(e,t)=>c.take(e,{PolicyName:c.expectString,TargetTrackingScalingPolicyConfiguration:r=>bV(r)}),SV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>EV(n)),pn=(e,t)=>c.take(e,{AutoScalingDisabled:c.expectBoolean,AutoScalingRoleArn:c.expectString,MaximumUnits:c.expectLong,MinimumUnits:c.expectLong,ScalingPolicies:r=>SV(r)}),bV=(e,t)=>c.take(e,{DisableScaleIn:c.expectBoolean,ScaleInCooldown:c.expectInt32,ScaleOutCooldown:c.expectInt32,TargetValue:c.limitedParseDouble}),HR=(e,t)=>c.take(e,{BackupDetails:r=>VR(r),SourceTableDetails:r=>MG(r),SourceTableFeatureDetails:r=>LG(r)}),VR=(e,t)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupExpiryDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString}),wV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>_V(n)),_V=(e,t)=>c.take(e,{BackupArn:c.expectString,BackupCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupExpiryDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),BackupName:c.expectString,BackupSizeBytes:c.expectLong,BackupStatus:c.expectString,BackupType:c.expectString,TableArn:c.expectString,TableId:c.expectString,TableName:c.expectString}),xV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),Responses:r=>yG(r,t)}),TV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),Responses:r=>IV(r,t),UnprocessedKeys:r=>CV(r,t)}),CV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=mG(s,t)),r),{}),IV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=gu(s,t)),r),{}),AV=(e,t)=>c.take(e,{Code:c.expectString,Item:r=>rr(r,t),Message:c.expectString}),vV=(e,t)=>c.take(e,{Error:r=>AV(r,t),Item:r=>rr(r,t),TableName:c.expectString}),RV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),ItemCollectionMetrics:r=>XR(r,t),UnprocessedItems:r=>NV(r,t)}),NV=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=WG(s,t)),r),{}),GR=(e,t)=>c.take(e,{BillingMode:c.expectString,LastUpdateToPayPerRequestDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r)))}),PV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),DV=(e,t)=>c.take(e,{Code:c.expectString,Item:r=>rr(r,t),Message:c.expectString}),OV=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>DV(n,t)),WR=(e,t)=>c.take(e,{CapacityUnits:c.limitedParseDouble,ReadCapacityUnits:c.limitedParseDouble,WriteCapacityUnits:c.limitedParseDouble}),kV=(e,t)=>c.take(e,{Item:r=>rr(r,t),message:c.expectString}),hn=(e,t)=>c.take(e,{CapacityUnits:c.limitedParseDouble,GlobalSecondaryIndexes:r=>FR(r),LocalSecondaryIndexes:r=>FR(r),ReadCapacityUnits:c.limitedParseDouble,Table:r=>WR(r),TableName:c.expectString,WriteCapacityUnits:c.limitedParseDouble}),Fs=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>hn(n)),KR=(e,t)=>c.take(e,{ContinuousBackupsStatus:c.expectString,PointInTimeRecoveryDescription:r=>EG(r)}),MV=(e,t)=>c.take(e,{BackupDetails:r=>VR(r)}),LV=(e,t)=>c.take(e,{GlobalTableDescription:r=>zg(r)}),BV=(e,t)=>c.take(e,{TableDescription:r=>js(r)}),UV=(e,t)=>c.take(e,{BackupDescription:r=>HR(r)}),$V=(e,t)=>c.take(e,{Attributes:r=>rr(r,t),ConsumedCapacity:r=>hn(r),ItemCollectionMetrics:r=>hu(r,t)}),FV=(e,t)=>c.take(e,{Key:r=>Li(r,t)}),jV=(e,t)=>c.take(e,{TableDescription:r=>js(r)}),zV=(e,t)=>c.take(e,{BackupDescription:r=>HR(r)}),qV=(e,t)=>c.take(e,{ContinuousBackupsDescription:r=>KR(r)}),HV=(e,t)=>c.take(e,{ContributorInsightsMode:c.expectString,ContributorInsightsRuleList:c._json,ContributorInsightsStatus:c.expectString,FailureException:c._json,IndexName:c.expectString,LastUpdateDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableName:c.expectString}),VV=(e,t)=>c.take(e,{ExportDescription:r=>JR(r)}),GV=(e,t)=>c.take(e,{GlobalTableDescription:r=>zg(r)}),WV=(e,t)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:r=>tN(r)}),KV=(e,t)=>c.take(e,{ImportTableDescription:r=>YR(r)}),JV=(e,t)=>c.take(e,{Table:r=>js(r)}),YV=(e,t)=>c.take(e,{TableAutoScalingDescription:r=>nN(r)}),XV=(e,t)=>c.take(e,{ConsumedCapacity:r=>hn(r),Items:r=>gu(r,t),LastEvaluatedKey:r=>Li(r,t),NextToken:c.expectString}),QV=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),Responses:r=>QR(r,t)}),JR=(e,t)=>c.take(e,{BilledSizeBytes:c.expectLong,ClientToken:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportArn:c.expectString,ExportFormat:c.expectString,ExportManifest:c.expectString,ExportStatus:c.expectString,ExportTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportType:c.expectString,FailureCode:c.expectString,FailureMessage:c.expectString,IncrementalExportSpecification:r=>iG(r),ItemCount:c.expectLong,S3Bucket:c.expectString,S3BucketOwner:c.expectString,S3Prefix:c.expectString,S3SseAlgorithm:c.expectString,S3SseKmsKeyId:c.expectString,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString,TableId:c.expectString}),ZV=(e,t)=>c.take(e,{ExportDescription:r=>JR(r)}),eG=(e,t)=>c.take(e,{ConsumedCapacity:r=>hn(r),Item:r=>rr(r,t)}),tG=(e,t)=>c.take(e,{Backfilling:c.expectBoolean,IndexArn:c.expectString,IndexName:c.expectString,IndexSizeBytes:c.expectLong,IndexStatus:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,Projection:c._json,ProvisionedThroughput:r=>ZR(r),WarmThroughput:c._json}),rG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>tG(n)),zg=(e,t)=>c.take(e,{CreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),GlobalTableArn:c.expectString,GlobalTableName:c.expectString,GlobalTableStatus:c.expectString,ReplicationGroup:r=>eN(r)}),nG=(e,t)=>c.take(e,{CloudWatchLogGroupArn:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ImportArn:c.expectString,ImportStatus:c.expectString,InputFormat:c.expectString,S3BucketSource:c._json,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString}),sG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>nG(n)),YR=(e,t)=>c.take(e,{ClientToken:c.expectString,CloudWatchLogGroupArn:c.expectString,EndTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ErrorCount:c.expectLong,FailureCode:c.expectString,FailureMessage:c.expectString,ImportArn:c.expectString,ImportStatus:c.expectString,ImportedItemCount:c.expectLong,InputCompressionType:c.expectString,InputFormat:c.expectString,InputFormatOptions:c._json,ProcessedItemCount:c.expectLong,ProcessedSizeBytes:c.expectLong,S3BucketSource:c._json,StartTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableArn:c.expectString,TableCreationParameters:c._json,TableId:c.expectString}),oG=(e,t)=>c.take(e,{ImportTableDescription:r=>YR(r)}),iG=(e,t)=>c.take(e,{ExportFromTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportToTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ExportViewType:c.expectString}),aG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=$s(B.awsExpectUnion(s),t)),r),{}),hu=(e,t)=>c.take(e,{ItemCollectionKey:r=>aG(r,t),SizeEstimateRangeGB:r=>dG(r)}),cG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>hu(n,t)),XR=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=cG(s,t)),r),{}),dG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>c.limitedParseDouble(n)),gu=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>rr(n,t)),lG=(e,t)=>c.take(e,{Item:r=>rr(r,t)}),QR=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>lG(n,t)),Li=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=$s(B.awsExpectUnion(s),t)),r),{}),uG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>Li(n,t)),mG=(e,t)=>c.take(e,{AttributesToGet:c._json,ConsistentRead:c.expectBoolean,ExpressionAttributeNames:c._json,Keys:r=>uG(r,t),ProjectionExpression:c.expectString}),pG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>$s(B.awsExpectUnion(n),t)),fG=(e,t)=>c.take(e,{BackupSummaries:r=>wV(r),LastEvaluatedBackupArn:c.expectString}),hG=(e,t)=>c.take(e,{ImportSummaryList:r=>sG(r),NextToken:c.expectString}),gG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=$s(B.awsExpectUnion(s),t)),r),{}),yG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>vV(n,t)),EG=(e,t)=>c.take(e,{EarliestRestorableDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),LatestRestorableDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),PointInTimeRecoveryStatus:c.expectString,RecoveryPeriodInDays:c.expectInt32}),ZR=(e,t)=>c.take(e,{LastDecreaseDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),LastIncreaseDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),NumberOfDecreasesToday:c.expectLong,ReadCapacityUnits:c.expectLong,WriteCapacityUnits:c.expectLong}),SG=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=$s(B.awsExpectUnion(s),t)),r),{}),bG=(e,t)=>c.take(e,{Attributes:r=>rr(r,t),ConsumedCapacity:r=>hn(r),ItemCollectionMetrics:r=>hu(r,t)}),wG=(e,t)=>c.take(e,{Item:r=>SG(r,t)}),_G=(e,t)=>c.take(e,{ConsumedCapacity:r=>hn(r),Count:c.expectInt32,Items:r=>gu(r,t),LastEvaluatedKey:r=>Li(r,t),ScannedCount:c.expectInt32}),xG=(e,t)=>c.take(e,{GlobalSecondaryIndexes:r=>AG(r),RegionName:c.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:r=>pn(r),ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>pn(r),ReplicaStatus:c.expectString}),TG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>xG(n)),CG=(e,t)=>c.take(e,{GlobalSecondaryIndexes:c._json,KMSMasterKeyId:c.expectString,OnDemandThroughputOverride:c._json,ProvisionedThroughputOverride:c._json,RegionName:c.expectString,ReplicaInaccessibleDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),ReplicaStatus:c.expectString,ReplicaStatusDescription:c.expectString,ReplicaStatusPercentProgress:c.expectString,ReplicaTableClassSummary:r=>qg(r),WarmThroughput:c._json}),eN=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>CG(n)),IG=(e,t)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>pn(r),ProvisionedWriteCapacityAutoScalingSettings:r=>pn(r)}),AG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>IG(n)),vG=(e,t)=>c.take(e,{IndexName:c.expectString,IndexStatus:c.expectString,ProvisionedReadCapacityAutoScalingSettings:r=>pn(r),ProvisionedReadCapacityUnits:c.expectLong,ProvisionedWriteCapacityAutoScalingSettings:r=>pn(r),ProvisionedWriteCapacityUnits:c.expectLong}),RG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>vG(n)),NG=(e,t)=>c.take(e,{RegionName:c.expectString,ReplicaBillingModeSummary:r=>GR(r),ReplicaGlobalSecondaryIndexSettings:r=>RG(r),ReplicaProvisionedReadCapacityAutoScalingSettings:r=>pn(r),ReplicaProvisionedReadCapacityUnits:c.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:r=>pn(r),ReplicaProvisionedWriteCapacityUnits:c.expectLong,ReplicaStatus:c.expectString,ReplicaTableClassSummary:r=>qg(r)}),tN=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>NG(n)),PG=(e,t)=>c.take(e,{RestoreDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),RestoreInProgress:c.expectBoolean,SourceBackupArn:c.expectString,SourceTableArn:c.expectString}),DG=(e,t)=>c.take(e,{TableDescription:r=>js(r)}),OG=(e,t)=>c.take(e,{TableDescription:r=>js(r)}),kG=(e,t)=>c.take(e,{ConsumedCapacity:r=>hn(r),Count:c.expectInt32,Items:r=>gu(r,t),LastEvaluatedKey:r=>Li(r,t),ScannedCount:c.expectInt32}),FR=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(s===null||(r[n]=WR(s)),r),{}),MG=(e,t)=>c.take(e,{BillingMode:c.expectString,ItemCount:c.expectLong,KeySchema:c._json,OnDemandThroughput:c._json,ProvisionedThroughput:c._json,TableArn:c.expectString,TableCreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong}),LG=(e,t)=>c.take(e,{GlobalSecondaryIndexes:c._json,LocalSecondaryIndexes:c._json,SSEDescription:r=>rN(r),StreamDescription:c._json,TimeToLiveDescription:c._json}),rN=(e,t)=>c.take(e,{InaccessibleEncryptionDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),KMSMasterKeyArn:c.expectString,SSEType:c.expectString,Status:c.expectString}),nN=(e,t)=>c.take(e,{Replicas:r=>TG(r),TableName:c.expectString,TableStatus:c.expectString}),qg=(e,t)=>c.take(e,{LastUpdateDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),TableClass:c.expectString}),js=(e,t)=>c.take(e,{ArchivalSummary:r=>yV(r),AttributeDefinitions:c._json,BillingModeSummary:r=>GR(r),CreationDateTime:r=>c.expectNonNull(c.parseEpochTimestamp(c.expectNumber(r))),DeletionProtectionEnabled:c.expectBoolean,GlobalSecondaryIndexes:r=>rG(r),GlobalTableVersion:c.expectString,GlobalTableWitnesses:c._json,ItemCount:c.expectLong,KeySchema:c._json,LatestStreamArn:c.expectString,LatestStreamLabel:c.expectString,LocalSecondaryIndexes:c._json,MultiRegionConsistency:c.expectString,OnDemandThroughput:c._json,ProvisionedThroughput:r=>ZR(r),Replicas:r=>eN(r),RestoreSummary:r=>PG(r),SSEDescription:r=>rN(r),StreamSpecification:c._json,TableArn:c.expectString,TableClassSummary:r=>qg(r),TableId:c.expectString,TableName:c.expectString,TableSizeBytes:c.expectLong,TableStatus:c.expectString,WarmThroughput:c._json}),BG=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),Responses:r=>QR(r,t)}),UG=(e,t)=>c.take(e,{CancellationReasons:r=>OV(r,t),Message:c.expectString}),$G=(e,t)=>c.take(e,{ConsumedCapacity:r=>Fs(r),ItemCollectionMetrics:r=>XR(r,t)}),FG=(e,t)=>c.take(e,{ContinuousBackupsDescription:r=>KR(r)}),jG=(e,t)=>c.take(e,{GlobalTableDescription:r=>zg(r)}),zG=(e,t)=>c.take(e,{GlobalTableName:c.expectString,ReplicaSettings:r=>tN(r)}),qG=(e,t)=>c.take(e,{Attributes:r=>rr(r,t),ConsumedCapacity:r=>hn(r),ItemCollectionMetrics:r=>hu(r,t)}),HG=(e,t)=>c.take(e,{TableDescription:r=>js(r)}),VG=(e,t)=>c.take(e,{TableAutoScalingDescription:r=>nN(r)}),GG=(e,t)=>c.take(e,{DeleteRequest:r=>FV(r,t),PutRequest:r=>wG(r,t)}),WG=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>GG(n,t)),D=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),KG=c.withBaseException(ie),H=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:d}=await e.endpoint(),l={protocol:i,hostname:o,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return s!==void 0&&(l.body=s),new Ug.HttpRequest(l)};function V(e){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var Ri=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(Mz).de(U2).build(){},JG=e=>{let t=e.httpAuthSchemes,r=e.httpAuthSchemeProvider,n=e.credentials;return{setHttpAuthScheme(s){let o=t.findIndex(i=>i.schemeId===s.schemeId);o===-1?t.push(s):t.splice(o,1,s)},httpAuthSchemes(){return t},setHttpAuthSchemeProvider(s){r=s},httpAuthSchemeProvider(){return r},setCredentials(s){n=s},credentials(){return n}}},YG=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),XG=(e,t)=>{let r=Object.assign($R.getAwsRegionExtensionConfiguration(e),c.getDefaultExtensionConfiguration(e),Ug.getHttpHandlerExtensionConfiguration(e),JG(e));return t.forEach(n=>n.configure(r)),Object.assign(e,$R.resolveAwsRegionExtensionConfiguration(r),c.resolveDefaultRuntimeConfig(r),Ug.resolveHttpHandlerRuntimeConfig(r),YG(r))},tr=class extends c.Client{config;constructor(...[t]){let r=Dj.getRuntimeConfig(t||{});super(r),this.initConfig=r;let n=Oj(r),s=Ij.resolveAccountIdEndpointModeConfig(n),o=LR.resolveUserAgentConfig(s),i=BR.resolveRetryConfig(o),a=Nj.resolveRegionConfig(i),d=MR.resolveHostHeaderConfig(a),l=F.resolveEndpointConfig(d),p=UR.resolveHttpAuthSchemeConfig(l),f=Aj.resolveEndpointDiscoveryConfig(p,{endpointDiscoveryCommandCtor:Ri}),g=XG(f,t?.extensions||[]);this.config=g,this.middlewareStack.use(LR.getUserAgentPlugin(this.config)),this.middlewareStack.use(BR.getRetryPlugin(this.config)),this.middlewareStack.use(Pj.getContentLengthPlugin(this.config)),this.middlewareStack.use(MR.getHostHeaderPlugin(this.config)),this.middlewareStack.use(vj.getLoggerPlugin(this.config)),this.middlewareStack.use(Rj.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Tr.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:UR.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Tr.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Tr.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},El=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(_z).de(C2).build(){},Sl=class extends c.Command.classBuilder().ep({...z,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(xz).de(I2).build(){},bl=class extends c.Command.classBuilder().ep({...z,ResourceArnList:{type:"operationContextParams",get:t=>Object.keys(t?.RequestItems??{})}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(Tz).de(A2).build(){},wl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(Cz).de(v2).build(){},_l=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(Iz).de(R2).build(){},xl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(Az).de(N2).build(){},Tl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(vz).de(P2).build(){},Cl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(Rz).de(D2).build(){},Il=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(Nz).de(O2).build(){},Al=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(Pz).de(k2).build(){},vl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(Dz).de(M2).build(){},Rl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(Oz).de(L2).build(){},Nl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(kz).de(B2).build(){},Pl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(Lz).de($2).build(){},Dl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(Bz).de(F2).build(){},Ol=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(Uz).de(j2).build(){},kl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser($z).de(z2).build(){},Ml=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Fz).de(q2).build(){},Ll=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(jz).de(H2).build(){},Us=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(zz).de(V2).build(){},Bl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(qz).de(G2).build(){},Ul=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(Hz).de(W2).build(){},$l=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Vz).de(K2).build(){},Fl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Gz).de(J2).build(){},jl=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(Wz).de(Y2).build(){},zl=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Kz).de(X2).build(){},ql=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(Jz).de(Q2).build(){},Hl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(Yz).de(Z2).build(){},Vl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(Xz).de(eq).build(){},Gl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"operationContextParams",get:t=>t?.TableCreationParameters?.TableName}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(Qz).de(tq).build(){},Wl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(Zz).de(rq).build(){},Ni=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(e2).de(nq).build(){},Pi=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(t2).de(sq).build(){},Kl=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(r2).de(oq).build(){},Di=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(n2).de(iq).build(){},Oi=class extends c.Command.classBuilder().ep(z).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(s2).de(aq).build(){},Jl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(o2).de(cq).build(){},Yl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(i2).de(dq).build(){},Xl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(a2).de(lq).build(){},ki=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(c2).de(uq).build(){},Ql=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(d2).de(mq).build(){},Zl=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(l2).de(pq).build(){},Mi=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(u2).de(fq).build(){},eu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser(m2).de(hq).build(){},tu=class extends c.Command.classBuilder().ep({...z,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>r?.Get?.TableName)}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(p2).de(gq).build(){},ru=class extends c.Command.classBuilder().ep({...z,ResourceArnList:{type:"operationContextParams",get:t=>t?.TransactItems?.map(r=>[r?.ConditionCheck?.TableName,r?.Put?.TableName,r?.Delete?.TableName,r?.Update?.TableName].filter(n=>n)).flat()}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(f2).de(yq).build(){},nu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(h2).de(Eq).build(){},su=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(g2).de(Sq).build(){},ou=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(y2).de(bq).build(){},iu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(E2).de(wq).build(){},au=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(S2).de(_q).build(){},cu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(b2).de(xq).build(){},du=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(w2).de(Tq).build(){},lu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(_2).de(Cq).build(){},uu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(x2).de(Iq).build(){},mu=class extends c.Command.classBuilder().ep({...z,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,r,n,s){return[j.getSerdePlugin(n,this.serialize,this.deserialize),F.getEndpointPlugin(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(T2).de(Aq).build(){},QG={BatchExecuteStatementCommand:El,BatchGetItemCommand:Sl,BatchWriteItemCommand:bl,CreateBackupCommand:wl,CreateGlobalTableCommand:_l,CreateTableCommand:xl,DeleteBackupCommand:Tl,DeleteItemCommand:Cl,DeleteResourcePolicyCommand:Il,DeleteTableCommand:Al,DescribeBackupCommand:vl,DescribeContinuousBackupsCommand:Rl,DescribeContributorInsightsCommand:Nl,DescribeEndpointsCommand:Ri,DescribeExportCommand:Pl,DescribeGlobalTableCommand:Dl,DescribeGlobalTableSettingsCommand:Ol,DescribeImportCommand:kl,DescribeKinesisStreamingDestinationCommand:Ml,DescribeLimitsCommand:Ll,DescribeTableCommand:Us,DescribeTableReplicaAutoScalingCommand:Bl,DescribeTimeToLiveCommand:Ul,DisableKinesisStreamingDestinationCommand:$l,EnableKinesisStreamingDestinationCommand:Fl,ExecuteStatementCommand:jl,ExecuteTransactionCommand:zl,ExportTableToPointInTimeCommand:ql,GetItemCommand:Hl,GetResourcePolicyCommand:Vl,ImportTableCommand:Gl,ListBackupsCommand:Wl,ListContributorInsightsCommand:Ni,ListExportsCommand:Pi,ListGlobalTablesCommand:Kl,ListImportsCommand:Di,ListTablesCommand:Oi,ListTagsOfResourceCommand:Jl,PutItemCommand:Yl,PutResourcePolicyCommand:Xl,QueryCommand:ki,RestoreTableFromBackupCommand:Ql,RestoreTableToPointInTimeCommand:Zl,ScanCommand:Mi,TagResourceCommand:eu,TransactGetItemsCommand:tu,TransactWriteItemsCommand:ru,UntagResourceCommand:nu,UpdateContinuousBackupsCommand:su,UpdateContributorInsightsCommand:ou,UpdateGlobalTableCommand:iu,UpdateGlobalTableSettingsCommand:au,UpdateItemCommand:cu,UpdateKinesisStreamingDestinationCommand:du,UpdateTableCommand:lu,UpdateTableReplicaAutoScalingCommand:uu,UpdateTimeToLiveCommand:mu},pu=class extends tr{};c.createAggregatedClient(QG,pu);var ZG=Tr.createPaginator(tr,Ni,"NextToken","NextToken","MaxResults"),e3=Tr.createPaginator(tr,Pi,"NextToken","NextToken","MaxResults"),t3=Tr.createPaginator(tr,Di,"NextToken","NextToken","PageSize"),r3=Tr.createPaginator(tr,Oi,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),n3=Tr.createPaginator(tr,ki,"ExclusiveStartKey","LastEvaluatedKey","Limit"),s3=Tr.createPaginator(tr,Mi,"ExclusiveStartKey","LastEvaluatedKey","Limit"),sN=async(e,t)=>{let r;try{let n=await e.send(new Us(t));r=n;try{if(n.Table.TableStatus==="ACTIVE")return{state:Bt.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Bt.WaiterState.RETRY,reason:r}}return{state:Bt.WaiterState.RETRY,reason:r}},o3=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Bt.createWaiter({...r,...e},t,sN)},i3=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Bt.createWaiter({...r,...e},t,sN);return Bt.checkExceptions(n)},oN=async(e,t)=>{let r;try{r=await e.send(new Us(t))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:Bt.WaiterState.SUCCESS,reason:r}}return{state:Bt.WaiterState.RETRY,reason:r}},a3=async(e,t)=>{let r={minDelay:20,maxDelay:120};return Bt.createWaiter({...r,...e},t,oN)},c3=async(e,t)=>{let r={minDelay:20,maxDelay:120},n=await Bt.createWaiter({...r,...e},t,oN);return Bt.checkExceptions(n)};Object.defineProperty(x,"$Command",{enumerable:!0,get:function(){return c.Command}});Object.defineProperty(x,"__Client",{enumerable:!0,get:function(){return c.Client}});x.ApproximateCreationDateTimePrecision=kj;x.AttributeAction=Mj;x.BackupInUseException=Bd;x.BackupNotFoundException=Ud;x.BackupStatus=Bj;x.BackupType=Uj;x.BackupTypeFilter=Gj;x.BatchExecuteStatementCommand=El;x.BatchGetItemCommand=Sl;x.BatchStatementErrorCodeEnum=Jj;x.BatchWriteItemCommand=bl;x.BillingMode=$j;x.ComparisonOperator=Xj;x.ConditionalCheckFailedException=gl;x.ConditionalOperator=Qj;x.ContinuousBackupsStatus=Zj;x.ContinuousBackupsUnavailableException=Wd;x.ContributorInsightsAction=tz;x.ContributorInsightsMode=rz;x.ContributorInsightsStatus=nz;x.CreateBackupCommand=wl;x.CreateGlobalTableCommand=_l;x.CreateTableCommand=xl;x.DeleteBackupCommand=Tl;x.DeleteItemCommand=Cl;x.DeleteResourcePolicyCommand=Il;x.DeleteTableCommand=Al;x.DescribeBackupCommand=vl;x.DescribeContinuousBackupsCommand=Rl;x.DescribeContributorInsightsCommand=Nl;x.DescribeEndpointsCommand=Ri;x.DescribeExportCommand=Pl;x.DescribeGlobalTableCommand=Dl;x.DescribeGlobalTableSettingsCommand=Ol;x.DescribeImportCommand=kl;x.DescribeKinesisStreamingDestinationCommand=Ml;x.DescribeLimitsCommand=Ll;x.DescribeTableCommand=Us;x.DescribeTableReplicaAutoScalingCommand=Bl;x.DescribeTimeToLiveCommand=Ul;x.DestinationStatus=bz;x.DisableKinesisStreamingDestinationCommand=$l;x.DuplicateItemException=sl;x.DynamoDB=pu;x.DynamoDBClient=tr;x.DynamoDBServiceException=ie;x.EnableKinesisStreamingDestinationCommand=Fl;x.ExecuteStatementCommand=jl;x.ExecuteTransactionCommand=zl;x.ExportConflictException=al;x.ExportFormat=mz;x.ExportNotFoundException=tl;x.ExportStatus=pz;x.ExportTableToPointInTimeCommand=ql;x.ExportType=fz;x.ExportViewType=hz;x.GetItemCommand=Hl;x.GetResourcePolicyCommand=Vl;x.GlobalTableAlreadyExistsException=Xd;x.GlobalTableNotFoundException=rl;x.GlobalTableStatus=sz;x.IdempotentParameterMismatchException=ol;x.ImportConflictException=ll;x.ImportNotFoundException=nl;x.ImportStatus=yz;x.ImportTableCommand=Gl;x.IndexNotFoundException=hl;x.IndexStatus=oz;x.InputCompressionType=Ez;x.InputFormat=Sz;x.InternalServerError=$d;x.InvalidEndpointException=zd;x.InvalidExportTimeException=cl;x.InvalidRestoreTimeException=ml;x.ItemCollectionSizeLimitExceededException=Vd;x.KeyType=Fj;x.LimitExceededException=Kd;x.ListBackupsCommand=Wl;x.ListContributorInsightsCommand=Ni;x.ListExportsCommand=Pi;x.ListGlobalTablesCommand=Kl;x.ListImportsCommand=Di;x.ListTablesCommand=Oi;x.ListTagsOfResourceCommand=Jl;x.MultiRegionConsistency=lz;x.PointInTimeRecoveryStatus=ez;x.PointInTimeRecoveryUnavailableException=dl;x.PolicyNotFoundException=el;x.ProjectionType=jj;x.ProvisionedThroughputExceededException=qd;x.PutItemCommand=Yl;x.PutResourcePolicyCommand=Xl;x.QueryCommand=ki;x.ReplicaAlreadyExistsException=pl;x.ReplicaNotFoundException=fl;x.ReplicaStatus=iz;x.ReplicatedWriteConflictException=Gd;x.RequestLimitExceeded=Fd;x.ResourceInUseException=Qd;x.ResourceNotFoundException=Hd;x.RestoreTableFromBackupCommand=Ql;x.RestoreTableToPointInTimeCommand=Zl;x.ReturnConsumedCapacity=Wj;x.ReturnItemCollectionMetrics=Yj;x.ReturnValue=uz;x.ReturnValuesOnConditionCheckFailure=Kj;x.S3SseAlgorithm=gz;x.SSEStatus=qj;x.SSEType=zj;x.ScalarAttributeType=Lj;x.ScanCommand=Mi;x.Select=wz;x.StreamViewType=Hj;x.TableAlreadyExistsException=ul;x.TableClass=az;x.TableInUseException=Jd;x.TableNotFoundException=Yd;x.TableStatus=cz;x.TagResourceCommand=eu;x.ThrottlingException=jd;x.TimeToLiveStatus=Vj;x.TransactGetItemsCommand=tu;x.TransactWriteItemsCommand=ru;x.TransactionCanceledException=yl;x.TransactionConflictException=Zd;x.TransactionInProgressException=il;x.UntagResourceCommand=nu;x.UpdateContinuousBackupsCommand=su;x.UpdateContributorInsightsCommand=ou;x.UpdateGlobalTableCommand=iu;x.UpdateGlobalTableSettingsCommand=au;x.UpdateItemCommand=cu;x.UpdateKinesisStreamingDestinationCommand=du;x.UpdateTableCommand=lu;x.UpdateTableReplicaAutoScalingCommand=uu;x.UpdateTimeToLiveCommand=mu;x.WitnessStatus=dz;x.paginateListContributorInsights=ZG;x.paginateListExports=e3;x.paginateListImports=t3;x.paginateListTables=r3;x.paginateQuery=n3;x.paginateScan=s3;x.waitForTableExists=o3;x.waitForTableNotExists=a3;x.waitUntilTableExists=i3;x.waitUntilTableNotExists=c3});var gN=N(qs=>{"use strict";var zs=class e{value;constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}},Ui=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return yu();if(Array.isArray(e))return d3(e,t);if(e?.constructor?.name==="Set")return l3(e,t);if(e?.constructor?.name==="Map")return u3(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return iN(e,t);if(hN(e))return e.length===0&&t?.convertEmptyValues?yu():uN(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return{BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return fN(e,t);if(e instanceof zs)return e.toAttributeValue();if(typeof e=="bigint")return pN(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?yu():mN(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return iN(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},d3=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>Ui(r,t))}),l3=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(s=>s!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return yu();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof zs)return{NS:Array.from(r).map(s=>s.toString())};if(typeof n=="number")return{NS:Array.from(r).map(s=>fN(s,t)).map(s=>s.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(pN).map(s=>s.N)};if(typeof n=="string")return{SS:Array.from(r).map(mN).map(s=>s.S)};if(hN(n))return{BS:Array.from(r).map(uN).map(s=>s.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},u3=(e,t)=>({M:(r=>{let n={};for(let[s,o]of r)typeof o!="function"&&(o!==void 0||!t?.removeUndefinedValues)&&(n[s]=Ui(o,t));return n})(e)}),iN=(e,t)=>({M:(r=>{let n={};for(let s in r){let o=r[s];typeof o!="function"&&(o!==void 0||!t?.removeUndefinedValues)&&(n[s]=Ui(o,t))}return n})(e)}),yu=()=>({NULL:!0}),uN=e=>({B:e}),mN=e=>({S:e.toString()}),pN=e=>({N:e.toString()}),aN=e=>{throw new Error(`${e} Use NumberValue from @aws-sdk/lib-dynamodb.`)},fN=(e,t)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return t?.allowImpreciseNumbers||(Number(e)>Number.MAX_SAFE_INTEGER?aN(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(e)<Number.MIN_SAFE_INTEGER&&aN(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:e.toString()}},hN=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1},Bi=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return cN(n,t);case"B":return lN(n);case"S":return dN(n);case"L":return m3(n,t);case"M":return p3(n,t);case"NS":return new Set(n.map(s=>cN(s,t)));case"BS":return new Set(n.map(lN));case"SS":return new Set(n.map(dN));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},cN=(e,t)=>{if(typeof t?.wrapNumbers=="function")return t?.wrapNumbers(e);if(t?.wrapNumbers)return zs.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},dN=e=>e,lN=e=>e,m3=(e,t)=>e.map(r=>Bi(r,t)),p3=(e,t)=>Object.entries(e).reduce((r,[n,s])=>(r[n]=Bi(s,t),r),{});function f3(e,t){let r=Ui(e,t),[n,s]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:s;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var h3=(e,t)=>t?.convertWithoutMapWrapper?Bi(e,t):Bi({M:e},t);qs.NumberValueImpl=zs;qs.convertToAttr=Ui;qs.convertToNative=Bi;qs.marshall=f3;qs.unmarshall=h3});var SN=N(ve=>{"use strict";var wt=Hg(),Nu=se(),g3=(Ue(),de(kt)),Gg=gN(),EN=(it(),de(An)),$i=null,ee={},Ar=[],yN="*",Eu=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),s=n.length===1&&n[0]===yN,o=n.length>=1&&!s,i=n.length===0;if(o)return Wg(e,t,r);if(i)return y3(e,t,$i);if(s)return Object.entries(e??{}).reduce((a,[d,l])=>(typeof l!="function"&&(a[d]=Eu(l,t,r[yN])),a),Array.isArray(e)?[]:{})}}},Wg=(e,t,r)=>{let n;if(Array.isArray(e))n=e.filter(s=>typeof s!="function");else{n={};for(let[s,o]of Object.entries(e))typeof o!="function"&&(n[s]=o)}for(let[s,o]of Object.entries(r)){if(typeof e[s]=="function")continue;let i=Eu(e[s],t,o);i!==void 0&&typeof i!="function"&&(n[s]=i)}return n},y3=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>Eu(n,t,r)):Object.entries(e).reduce((n,[s,o])=>{if(typeof o=="function")return n;let i=Eu(o,t,r);return i!==void 0&&typeof i!="function"&&(n[s]=i),n},{}),E3=(e,t,r)=>Wg(e,s=>Gg.marshall(s,r),t),S3=(e,t,r)=>Wg(e,s=>Gg.unmarshall(s,r),t),tt=class extends Nu.Command{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>(g3.setFeature(o,"DDB_MAPPER","d"),s({...i,input:E3(i.input,this.inputKeyNodes,r)})),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((s,o)=>async i=>{let a=await s(i);return a.output=S3(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},Su=class extends tt{input;inputKeyNodes={Statements:{"*":{Parameters:Ar}}};outputKeyNodes={Responses:{"*":{Error:{Item:ee},Item:ee}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},bu=class extends tt{input;inputKeyNodes={RequestItems:{"*":{Keys:{"*":ee}}}};outputKeyNodes={Responses:{"*":{"*":ee}},UnprocessedKeys:{"*":{Keys:{"*":ee}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},wu=class extends tt{input;inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:ee},DeleteRequest:{Key:ee}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:ee},DeleteRequest:{Key:ee}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:ee}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},_u=class extends tt{input;inputKeyNodes={Key:ee,Expected:{"*":{Value:$i,AttributeValueList:Ar}},ExpressionAttributeValues:ee};outputKeyNodes={Attributes:ee,ItemCollectionMetrics:{ItemCollectionKey:ee}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},xu=class extends tt{input;inputKeyNodes={Parameters:Ar};outputKeyNodes={Items:{"*":ee},LastEvaluatedKey:ee};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Tu=class extends tt{input;inputKeyNodes={TransactStatements:{"*":{Parameters:Ar}}};outputKeyNodes={Responses:{"*":{Item:ee}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Cu=class extends tt{input;inputKeyNodes={Key:ee};outputKeyNodes={Item:ee};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Iu=class extends tt{input;inputKeyNodes={Item:ee,Expected:{"*":{Value:$i,AttributeValueList:Ar}},ExpressionAttributeValues:ee};outputKeyNodes={Attributes:ee,ItemCollectionMetrics:{ItemCollectionKey:ee}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Fi=class extends tt{input;inputKeyNodes={KeyConditions:{"*":{AttributeValueList:Ar}},QueryFilter:{"*":{AttributeValueList:Ar}},ExclusiveStartKey:ee,ExpressionAttributeValues:ee};outputKeyNodes={Items:{"*":ee},LastEvaluatedKey:ee};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},ji=class extends tt{input;inputKeyNodes={ScanFilter:{"*":{AttributeValueList:Ar}},ExclusiveStartKey:ee,ExpressionAttributeValues:ee};outputKeyNodes={Items:{"*":ee},LastEvaluatedKey:ee};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Au=class extends tt{input;inputKeyNodes={TransactItems:{"*":{Get:{Key:ee}}}};outputKeyNodes={Responses:{"*":{Item:ee}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},vu=class extends tt{input;inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:ee,ExpressionAttributeValues:ee},Put:{Item:ee,ExpressionAttributeValues:ee},Delete:{Key:ee,ExpressionAttributeValues:ee},Update:{Key:ee,ExpressionAttributeValues:ee}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:ee}}}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Ru=class extends tt{input;inputKeyNodes={Key:ee,AttributeUpdates:{"*":{Value:$i}},Expected:{"*":{Value:$i,AttributeValueList:Ar}},ExpressionAttributeValues:ee};outputKeyNodes={Attributes:ee,ItemCollectionMetrics:{ItemCollectionKey:ee}};clientCommand;middlewareStack;constructor(t){super(),this.input=t,this.clientCommand=new wt.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let s=t.concat(this.middlewareStack),o=this.clientCommand.resolveMiddleware(s,r,n);return async()=>o(this.clientCommand)}},Hs=class e extends Nu.Client{config;constructor(t,r){if(super(t.config),this.config=t.config,this.config.translateConfig=r,this.middlewareStack=t.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(t,r){return new e(t,r)}destroy(){}},Vg=class e extends Hs{static from(t,r){return new e(t,r)}batchExecuteStatement(t,r,n){let s=new Su(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}batchGet(t,r,n){let s=new bu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}batchWrite(t,r,n){let s=new wu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}delete(t,r,n){let s=new _u(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}executeStatement(t,r,n){let s=new xu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}executeTransaction(t,r,n){let s=new Tu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}get(t,r,n){let s=new Cu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}put(t,r,n){let s=new Iu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}query(t,r,n){let s=new Fi(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}scan(t,r,n){let s=new ji(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}transactGet(t,r,n){let s=new Au(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}transactWrite(t,r,n){let s=new vu(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}update(t,r,n){let s=new Ru(t);if(typeof r=="function")this.send(s,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(s,r||{},n)}else return this.send(s,r)}},b3=EN.createPaginator(Hs,Fi,"ExclusiveStartKey","LastEvaluatedKey","Limit"),w3=EN.createPaginator(Hs,ji,"ExclusiveStartKey","LastEvaluatedKey","Limit");Object.defineProperty(ve,"$Command",{enumerable:!0,get:function(){return Nu.Command}});Object.defineProperty(ve,"__Client",{enumerable:!0,get:function(){return Nu.Client}});Object.defineProperty(ve,"NumberValue",{enumerable:!0,get:function(){return Gg.NumberValueImpl}});ve.BatchExecuteStatementCommand=Su;ve.BatchGetCommand=bu;ve.BatchWriteCommand=wu;ve.DeleteCommand=_u;ve.DynamoDBDocument=Vg;ve.DynamoDBDocumentClient=Hs;ve.DynamoDBDocumentClientCommand=tt;ve.ExecuteStatementCommand=xu;ve.ExecuteTransactionCommand=Tu;ve.GetCommand=Cu;ve.PutCommand=Iu;ve.QueryCommand=Fi;ve.ScanCommand=ji;ve.TransactGetCommand=Au;ve.TransactWriteCommand=vu;ve.UpdateCommand=Ru;ve.paginateQuery=b3;ve.paginateScan=w3});var bN=N((EQ,_3)=>{_3.exports={name:"dotenv",version:"17.2.3",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var IN=N((SQ,vr)=>{var Kg=require("fs"),Pu=require("path"),x3=require("os"),T3=require("crypto"),C3=bN(),Jg=C3.version,wN=["\u{1F510} encrypt with Dotenvx: https://dotenvx.com","\u{1F510} prevent committing .env to code: https://dotenvx.com/precommit","\u{1F510} prevent building .env in docker: https://dotenvx.com/prebuild","\u{1F4E1} add observability to secrets: https://dotenvx.com/ops","\u{1F465} sync secrets across teammates & machines: https://dotenvx.com/ops","\u{1F5C2}\uFE0F backup and recover secrets: https://dotenvx.com/ops","\u2705 audit secrets and track compliance: https://dotenvx.com/ops","\u{1F504} add secrets lifecycle management: https://dotenvx.com/ops","\u{1F511} add access controls to secrets: https://dotenvx.com/ops","\u{1F6E0}\uFE0F  run anywhere with `dotenvx run -- yourcommand`","\u2699\uFE0F  specify custom .env file path with { path: '/custom/path/.env' }","\u2699\uFE0F  enable debug logging with { debug: true }","\u2699\uFE0F  override existing env vars with { override: true }","\u2699\uFE0F  suppress all logs with { quiet: true }","\u2699\uFE0F  write to custom object with { processEnv: myObject }","\u2699\uFE0F  load multiple .env files with { path: ['.env.local', '.env'] }"];function I3(){return wN[Math.floor(Math.random()*wN.length)]}function Vs(e){return typeof e=="string"?!["false","0","no","off",""].includes(e.toLowerCase()):!!e}function A3(){return process.stdout.isTTY}function v3(e){return A3()?`\x1B[2m${e}\x1B[0m`:e}var R3=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function N3(e){let t={},r=e.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=R3.exec(r))!=null;){let s=n[1],o=n[2]||"";o=o.trim();let i=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),i==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),t[s]=o}return t}function P3(e){e=e||{};let t=CN(e);e.path=t;let r=Fe.configDotenv(e);if(!r.parsed){let i=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw i.code="MISSING_DATA",i}let n=TN(e).split(","),s=n.length,o;for(let i=0;i<s;i++)try{let a=n[i].trim(),d=O3(r,a);o=Fe.decrypt(d.ciphertext,d.key);break}catch(a){if(i+1>=s)throw a}return Fe.parse(o)}function D3(e){console.error(`[dotenv@${Jg}][WARN] ${e}`)}function zi(e){console.log(`[dotenv@${Jg}][DEBUG] ${e}`)}function xN(e){console.log(`[dotenv@${Jg}] ${e}`)}function TN(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function O3(e,t){let r;try{r=new URL(t)}catch(a){if(a.code==="ERR_INVALID_URL"){let d=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw d.code="INVALID_DOTENV_KEY",d}throw a}let n=r.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let s=r.searchParams.get("environment");if(!s){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let o=`DOTENV_VAULT_${s.toUpperCase()}`,i=e.parsed[o];if(!i){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:i,key:n}}function CN(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(let r of e.path)Kg.existsSync(r)&&(t=r.endsWith(".vault")?r:`${r}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=Pu.resolve(process.cwd(),".env.vault");return Kg.existsSync(t)?t:null}function _N(e){return e[0]==="~"?Pu.join(x3.homedir(),e.slice(1)):e}function k3(e){let t=Vs(process.env.DOTENV_CONFIG_DEBUG||e&&e.debug),r=Vs(process.env.DOTENV_CONFIG_QUIET||e&&e.quiet);(t||!r)&&xN("Loading env from encrypted .env.vault");let n=Fe._parseVault(e),s=process.env;return e&&e.processEnv!=null&&(s=e.processEnv),Fe.populate(s,n,e),{parsed:n}}function M3(e){let t=Pu.resolve(process.cwd(),".env"),r="utf8",n=process.env;e&&e.processEnv!=null&&(n=e.processEnv);let s=Vs(n.DOTENV_CONFIG_DEBUG||e&&e.debug),o=Vs(n.DOTENV_CONFIG_QUIET||e&&e.quiet);e&&e.encoding?r=e.encoding:s&&zi("No encoding is specified. UTF-8 is used by default");let i=[t];if(e&&e.path)if(!Array.isArray(e.path))i=[_N(e.path)];else{i=[];for(let p of e.path)i.push(_N(p))}let a,d={};for(let p of i)try{let f=Fe.parse(Kg.readFileSync(p,{encoding:r}));Fe.populate(d,f,e)}catch(f){s&&zi(`Failed to load ${p} ${f.message}`),a=f}let l=Fe.populate(n,d,e);if(s=Vs(n.DOTENV_CONFIG_DEBUG||s),o=Vs(n.DOTENV_CONFIG_QUIET||o),s||!o){let p=Object.keys(l).length,f=[];for(let g of i)try{let h=Pu.relative(process.cwd(),g);f.push(h)}catch(h){s&&zi(`Failed to load ${g} ${h.message}`),a=h}xN(`injecting env (${p}) from ${f.join(",")} ${v3(`-- tip: ${I3()}`)}`)}return a?{parsed:d,error:a}:{parsed:d}}function L3(e){if(TN(e).length===0)return Fe.configDotenv(e);let t=CN(e);return t?Fe._configVault(e):(D3(`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`),Fe.configDotenv(e))}function B3(e,t){let r=Buffer.from(t.slice(-64),"hex"),n=Buffer.from(e,"base64"),s=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{let i=T3.createDecipheriv("aes-256-gcm",r,s);return i.setAuthTag(o),`${i.update(n)}${i.final()}`}catch(i){let a=i instanceof RangeError,d=i.message==="Invalid key length",l=i.message==="Unsupported state or unable to authenticate data";if(a||d){let p=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw p.code="INVALID_DOTENV_KEY",p}else if(l){let p=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw p.code="DECRYPTION_FAILED",p}else throw i}}function U3(e,t,r={}){let n=!!(r&&r.debug),s=!!(r&&r.override),o={};if(typeof t!="object"){let i=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw i.code="OBJECT_REQUIRED",i}for(let i of Object.keys(t))Object.prototype.hasOwnProperty.call(e,i)?(s===!0&&(e[i]=t[i],o[i]=t[i]),n&&zi(s===!0?`"${i}" is already defined and WAS overwritten`:`"${i}" is already defined and was NOT overwritten`)):(e[i]=t[i],o[i]=t[i]);return o}var Fe={configDotenv:M3,_configVault:k3,_parseVault:P3,config:L3,decrypt:B3,parse:N3,populate:U3};vr.exports.configDotenv=Fe.configDotenv;vr.exports._configVault=Fe._configVault;vr.exports._parseVault=Fe._parseVault;vr.exports.config=Fe.config;vr.exports.decrypt=Fe.decrypt;vr.exports.parse=Fe.parse;vr.exports.populate=Fe.populate;vr.exports=Fe});var z3={};gt(z3,{handler:()=>j3});module.exports=de(z3);var vN=T(Hg()),Du=T(SN()),RN=T(IN());process.env.NODE_ENV!=="production"&&process.env.AWS_REGION===void 0&&RN.config({path:"../.env"});var AN=process.env.TABLE_NAME,wQ=process.env.AWS_REGION,$3=new vN.DynamoDBClient({region:"ap-northeast-1"}),F3=Du.DynamoDBDocumentClient.from($3);var j3=async e=>{let t=e.queryStringParameters?.type;if(!AN||!t)return{statusCode:400,body:JSON.stringify({message:"TABLE_NAME \u307E\u305F\u306F dataType \u304C\u6307\u5B9A\u3055\u308C\u3066\u3044\u307E\u305B\u3093\u3002"})};let r=new Du.QueryCommand({TableName:AN,KeyConditionExpression:"dataType = :dt",ExpressionAttributeValues:{":dt":t},ScanIndexForward:!0});try{let n=await F3.send(r);return{statusCode:200,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n.Items||[])}}catch(n){return console.error("DynamoDB Query Error:",n),{statusCode:500,headers:{"Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:"\u30C7\u30FC\u30BF\u306E\u53D6\u5F97\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002",error:n.message})}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
